(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var im={exports:{}},zo={};var x_;function XA(){if(x_)return zo;x_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:u}}return zo.Fragment=e,zo.jsx=n,zo.jsxs=n,zo}var R_;function $A(){return R_||(R_=1,im.exports=XA()),im.exports}var _=$A(),sm={exports:{}},Se={};var C_;function JA(){if(C_)return Se;C_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,X={};function se(D,U,ne){this.props=D,this.context=U,this.refs=X,this.updater=ne||W}se.prototype.isReactComponent={},se.prototype.setState=function(D,U){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,U,"setState")},se.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function re(){}re.prototype=se.prototype;function ae(D,U,ne){this.props=D,this.context=U,this.refs=X,this.updater=ne||W}var xe=ae.prototype=new re;xe.constructor=ae,te(xe,se.prototype),xe.isPureReactComponent=!0;var Re=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(D,U,ne){var ue=ne.ref;return{$$typeof:s,type:D,key:U,ref:ue!==void 0?ue:null,props:ne}}function O(D,U){return R(D.type,U,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function k(D){var U={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return U[ne]})}var N=/\/+/g;function Qe(D,U){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):U.toString(36)}function ct(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(be,be):(D.status="pending",D.then(function(U){D.status==="pending"&&(D.status="fulfilled",D.value=U)},function(U){D.status==="pending"&&(D.status="rejected",D.reason=U)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function K(D,U,ne,ue,ge){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var Ce=!1;if(D===null)Ce=!0;else switch(ve){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(D.$$typeof){case s:case e:Ce=!0;break;case b:return Ce=D._init,K(Ce(D._payload),U,ne,ue,ge)}}if(Ce)return ge=ge(D),Ce=ue===""?"."+Qe(D,0):ue,Re(ge)?(ne="",Ce!=null&&(ne=Ce.replace(N,"$&/")+"/"),K(ge,U,ne,"",function(fi){return fi})):ge!=null&&(M(ge)&&(ge=O(ge,ne+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+Ce)),U.push(ge)),1;Ce=0;var ht=ue===""?".":ue+":";if(Re(D))for(var Ke=0;Ke<D.length;Ke++)ue=D[Ke],ve=ht+Qe(ue,Ke),Ce+=K(ue,U,ne,ve,ge);else if(Ke=z(D),typeof Ke=="function")for(D=Ke.call(D),Ke=0;!(ue=D.next()).done;)ue=ue.value,ve=ht+Qe(ue,Ke++),Ce+=K(ue,U,ne,ve,ge);else if(ve==="object"){if(typeof D.then=="function")return K(ct(D),U,ne,ue,ge);throw U=String(D),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(D,U,ne){if(D==null)return D;var ue=[],ge=0;return K(D,ue,"","",function(ve){return U.call(ne,ve,ge++)}),ue}function me(D){if(D._status===-1){var U=D._result;U=U(),U.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=U)}if(D._status===1)return D._result.default;throw D._result}var Me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Be={map:le,forEach:function(D,U,ne){le(D,function(){U.apply(this,arguments)},ne)},count:function(D){var U=0;return le(D,function(){U++}),U},toArray:function(D){return le(D,function(U){return U})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Se.Activity=A,Se.Children=Be,Se.Component=se,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=ae,Se.StrictMode=r,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(D){return C.H.useMemoCache(D)}},Se.cache=function(D){return function(){return D.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(D,U,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=te({},D.props),ge=D.key;if(U!=null)for(ve in U.key!==void 0&&(ge=""+U.key),U)!w.call(U,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&U.ref===void 0||(ue[ve]=U[ve]);var ve=arguments.length-2;if(ve===1)ue.children=ne;else if(1<ve){for(var Ce=Array(ve),ht=0;ht<ve;ht++)Ce[ht]=arguments[ht+2];ue.children=Ce}return R(D.type,ge,ue)},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Se.createElement=function(D,U,ne){var ue,ge={},ve=null;if(U!=null)for(ue in U.key!==void 0&&(ve=""+U.key),U)w.call(U,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=U[ue]);var Ce=arguments.length-2;if(Ce===1)ge.children=ne;else if(1<Ce){for(var ht=Array(Ce),Ke=0;Ke<Ce;Ke++)ht[Ke]=arguments[Ke+2];ge.children=ht}if(D&&D.defaultProps)for(ue in Ce=D.defaultProps,Ce)ge[ue]===void 0&&(ge[ue]=Ce[ue]);return R(D,ve,ge)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=M,Se.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:me}},Se.memo=function(D,U){return{$$typeof:y,type:D,compare:U===void 0?null:U}},Se.startTransition=function(D){var U=C.T,ne={};C.T=ne;try{var ue=D(),ge=C.S;ge!==null&&ge(ne,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,Me)}catch(ve){Me(ve)}finally{U!==null&&ne.types!==null&&(U.types=ne.types),C.T=U}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(D){return C.H.use(D)},Se.useActionState=function(D,U,ne){return C.H.useActionState(D,U,ne)},Se.useCallback=function(D,U){return C.H.useCallback(D,U)},Se.useContext=function(D){return C.H.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D,U){return C.H.useDeferredValue(D,U)},Se.useEffect=function(D,U){return C.H.useEffect(D,U)},Se.useEffectEvent=function(D){return C.H.useEffectEvent(D)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(D,U,ne){return C.H.useImperativeHandle(D,U,ne)},Se.useInsertionEffect=function(D,U){return C.H.useInsertionEffect(D,U)},Se.useLayoutEffect=function(D,U){return C.H.useLayoutEffect(D,U)},Se.useMemo=function(D,U){return C.H.useMemo(D,U)},Se.useOptimistic=function(D,U){return C.H.useOptimistic(D,U)},Se.useReducer=function(D,U,ne){return C.H.useReducer(D,U,ne)},Se.useRef=function(D){return C.H.useRef(D)},Se.useState=function(D){return C.H.useState(D)},Se.useSyncExternalStore=function(D,U,ne){return C.H.useSyncExternalStore(D,U,ne)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var N_;function sg(){return N_||(N_=1,sm.exports=JA()),sm.exports}var H=sg(),rm={exports:{}},Bo={},am={exports:{}},lm={};var I_;function ZA(){return I_||(I_=1,(function(s){function e(K,le){var me=K.length;K.push(le);e:for(;0<me;){var Me=me-1>>>1,Be=K[Me];if(0<l(Be,le))K[Me]=le,K[me]=Be,me=Me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var le=K[0],me=K.pop();if(me!==le){K[0]=me;e:for(var Me=0,Be=K.length,D=Be>>>1;Me<D;){var U=2*(Me+1)-1,ne=K[U],ue=U+1,ge=K[ue];if(0>l(ne,me))ue<Be&&0>l(ge,ne)?(K[Me]=ge,K[ue]=me,Me=ue):(K[Me]=ne,K[U]=me,Me=U);else if(ue<Be&&0>l(ge,me))K[Me]=ge,K[ue]=me,Me=ue;else break e}}return le}function l(K,le){var me=K.sortIndex-le.sortIndex;return me!==0?me:K.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],y=[],b=1,A=null,x=3,z=!1,W=!1,te=!1,X=!1,se=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function xe(K){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=K)r(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function Re(K){if(te=!1,xe(K),!W)if(n(p)!==null)W=!0,be||(be=!0,k());else{var le=n(y);le!==null&&ct(Re,le.startTime-K)}}var be=!1,C=-1,w=5,R=-1;function O(){return X?!0:!(s.unstable_now()-R<w)}function M(){if(X=!1,be){var K=s.unstable_now();R=K;var le=!0;try{e:{W=!1,te&&(te=!1,re(C),C=-1),z=!0;var me=x;try{t:{for(xe(K),A=n(p);A!==null&&!(A.expirationTime>K&&O());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,x=A.priorityLevel;var Be=Me(A.expirationTime<=K);if(K=s.unstable_now(),typeof Be=="function"){A.callback=Be,xe(K),le=!0;break t}A===n(p)&&r(p),xe(K)}else r(p);A=n(p)}if(A!==null)le=!0;else{var D=n(y);D!==null&&ct(Re,D.startTime-K),le=!1}}break e}finally{A=null,x=me,z=!1}le=void 0}}finally{le?k():be=!1}}}var k;if(typeof ae=="function")k=function(){ae(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qe=N.port2;N.port1.onmessage=M,k=function(){Qe.postMessage(null)}}else k=function(){se(M,0)};function ct(K,le){C=se(function(){K(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(K){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var me=x;x=le;try{return K()}finally{x=me}},s.unstable_requestPaint=function(){X=!0},s.unstable_runWithPriority=function(K,le){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=x;x=K;try{return le()}finally{x=me}},s.unstable_scheduleCallback=function(K,le,me){var Me=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,K){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=me+Be,K={id:b++,callback:le,priorityLevel:K,startTime:me,expirationTime:Be,sortIndex:-1},me>Me?(K.sortIndex=me,e(y,K),n(p)===null&&K===n(y)&&(te?(re(C),C=-1):te=!0,ct(Re,me-Me))):(K.sortIndex=Be,e(p,K),W||z||(W=!0,be||(be=!0,k()))),K},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(K){var le=x;return function(){var me=x;x=le;try{return K.apply(this,arguments)}finally{x=me}}}})(lm)),lm}var D_;function WA(){return D_||(D_=1,am.exports=ZA()),am.exports}var om={exports:{}},en={};var M_;function eS(){if(M_)return en;M_=1;var s=sg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,b)},en.flushSync=function(p){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=b,r.d.f()}},en.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},en.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},en.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:z}):b==="script"&&r.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},en.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},en.requestFormReset=function(p){r.d.r(p)},en.unstable_batchedUpdates=function(p,y){return p(y)},en.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.2.3",en}var O_;function tS(){if(O_)return om.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),om.exports=eS(),om.exports}var V_;function nS(){if(V_)return Bo;V_=1;var s=WA(),e=sg(),n=tS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case se:return"Profiler";case X:return"StrictMode";case Re:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ae:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case xe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var ct=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],Be=-1;function D(t){return{current:t}}function U(t){0>Be||(t.current=Me[Be],Me[Be]=null,Be--)}function ne(t,i){Be++,Me[Be]=t.current,t.current=i}var ue=D(null),ge=D(null),ve=D(null),Ce=D(null);function ht(t,i){switch(ne(ve,i),ne(ge,t),ne(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X0(i),t=$0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(ue),ne(ue,t)}function Ke(){U(ue),U(ge),U(ve)}function fi(t){t.memoizedState!==null&&ne(Ce,t);var i=ue.current,a=$0(i,t.type);i!==a&&(ne(ge,t),ne(ue,a))}function Jn(t){ge.current===t&&(U(ue),U(ge)),Ce.current===t&&(U(Ce),ko._currentValue=me)}var xs,Gi;function bn(t){if(xs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);xs=i&&i[1]||"",Gi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+t+Gi}var di=!1;function Qi(t,i){if(!t||di)return"";di=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var F=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){F=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){F=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===q.length)for(o=I.length-1,h=q.length-1;1<=o&&0<=h&&I[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==q[h]){var Y=`
`+I[o].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=o&&0<=h);break}}}finally{di=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function Rs(t,i){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return t.child!==i&&i!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Qi(t.type,!1);case 11:return Qi(t.type.render,!1);case 1:return Qi(t.type,!0);case 31:return bn("Activity");default:return""}}function Cs(t){try{var i="",a=null;do i+=Rs(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var mt=Object.prototype.hasOwnProperty,yt=s.unstable_scheduleCallback,Tn=s.unstable_cancelCallback,Cr=s.unstable_shouldYield,_a=s.unstable_requestPaint,Ft=s.unstable_now,Ki=s.unstable_getCurrentPriorityLevel,Nr=s.unstable_ImmediatePriority,Ir=s.unstable_UserBlockingPriority,mi=s.unstable_NormalPriority,Pl=s.unstable_LowPriority,va=s.unstable_IdlePriority,Ea=s.log,ba=s.unstable_setDisableYieldValue,An=null,kt=null;function un(t){if(typeof Ea=="function"&&ba(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(An,t)}catch{}}var gt=Math.clz32?Math.clz32:Aa,Ta=Math.log,Ns=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(Ta(t)/Ns|0)|0}var Vn=256,j=262144,ie=4194304;function $e(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cn(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=$e(o):(v&=T,v!==0?h=$e(v):a||(a=T&~t,a!==0&&(h=$e(a))))):(T=o&~d,T!==0?h=$e(T):v!==0?h=$e(v):a||(a=o&~t,a!==0&&(h=$e(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function wt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var t=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),t}function jn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Dr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function of(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-gt(a),J=1<<Y;T[Y]=0,I[Y]=-1;var F=q[Y];if(F!==null)for(q[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~J}o!==0&&Mr(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-gt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function zl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-gt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Bl(t,i){var a=i&-i;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|i))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:v_(t.type))}function Zn(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Wn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Wn,Pt="__reactProps$"+Wn,pi="__reactContainer$"+Wn,wa="__reactEvents$"+Wn,uf="__reactListeners$"+Wn,xu="__reactHandles$"+Wn,Ru="__reactResources$"+Wn,yi="__reactMarker$"+Wn;function xa(t){delete t[xt],delete t[Pt],delete t[wa],delete t[uf],delete t[xu]}function _i(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=i_(t);t!==null;){if(a=t[xt])return a;t=i_(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[xt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function vi(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[yi]=!0}var ql=new Set,Hl={};function Ei(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(Hl[t]=i,t=0;t<i.length;t++)ql.add(i[t])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Ql={};function Cu(t){return mt.call(Ql,t)?!0:mt.call(Gl,t)?!1:Fl.test(t)?Ql[t]=!0:(Gl[t]=!0,!1)}function Ra(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ct(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ze(t){if(!t._valueTracker){var i=Is(t)?"checked":"value";t._valueTracker=Kl(t,i,""+t[i])}}function Vr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function hn(t){return t.replace(jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ca(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Yl(t,v,zt(i)):a!=null?Yl(t,v,zt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+zt(T):t.removeAttribute("name")}function Nu(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ze(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function Yl(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ds(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Iu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Ms(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ze(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Du.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $l(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Xl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Xl(t,d,i[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var Jl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vs=null,Ai=null;function kr(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(r(90));Ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Vr(o)}break e;case"textarea":Iu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ds(t,!!a.multiple,i,!1)}}}var Da=!1;function js(t,i,a){if(Da)return t(i,a);Da=!0;try{var o=t(i);return o}finally{if(Da=!1,(Vs!==null||Ai!==null)&&(wc(),Vs&&(i=Vs,t=Ai,Ai=Vs=null,kr(i),t)))for(i=0;i<t.length;i++)kr(t[i])}}function ti(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Un)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Lr=!1}var Si=null,Zl=null,Ur=null;function Wl(){if(Ur)return Ur;var t,i=Zl,a=i.length,o,h="value"in Si?Si.value:Si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ur=h.slice(t,1<o?1-o:void 0)}function Pr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ni(){return!1}function Gt(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ni,this.isPropagationStopped=ni,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Gt($i),ks=A({},$i,{view:0,detail:0}),eo=Gt(ks),Ls,Ma,xi,Oa=A({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Ls=t.screenX-xi.screenX,Ma=t.screenY-xi.screenY):Ma=Ls=0,xi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),to=Gt(Oa),zr=A({},Oa,{dataTransfer:0}),Ou=Gt(zr),Vu=A({},ks,{relatedTarget:0}),Br=Gt(Vu),no=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Gt(no),Va=A({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Gt(Va),Lu=A({},$i,{data:0}),Ri=Gt(Lu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Us(){return Bu}var an=A({},ks,{key:function(t){if(t.key){var i=Uu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=Gt(an),Hu=A({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Gt(Hu),c=A({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),g=Gt(c),E=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(E),P=A({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Gt(P),oe=A({},$i,{newState:0,oldState:0}),Ne=Gt(oe),Et=[9,13,27,32],Ye=Un&&"CompositionEvent"in window,ft=null;Un&&"documentMode"in document&&(ft=document.documentMode);var Pn=Un&&"TextEvent"in window&&!ft,Ci=Un&&(!Ye||ft&&8<ft&&11>=ft),ii=" ",si=!1;function qr(t,i){switch(t){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ka=!1;function vT(t,i){switch(t){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(si=!0,ii);case"textInput":return t=i.data,t===ii&&si?null:t;default:return null}}function ET(t,i){if(ka)return t==="compositionend"||!Ye&&qr(t,i)?(t=Wl(),Ur=Zl=Si=null,ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var bT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bT[t.type]:i==="textarea"}function lp(t,i,a,o){Vs?Ai?Ai.push(o):Ai=[o]:Vs=o,i=Mc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var io=null,so=null;function TT(t){H0(t,0)}function Fu(t){var i=Sn(t);if(Vr(i))return t}function op(t,i){if(t==="change")return i}var up=!1;if(Un){var cf;if(Un){var hf="oninput"in document;if(!hf){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),hf=typeof cp.oninput=="function"}cf=hf}else cf=!1;up=cf&&(!document.documentMode||9<document.documentMode)}function hp(){io&&(io.detachEvent("onpropertychange",fp),so=io=null)}function fp(t){if(t.propertyName==="value"&&Fu(so)){var i=[];lp(i,so,t,Ln(t)),js(TT,i)}}function AT(t,i,a){t==="focusin"?(hp(),io=i,so=a,io.attachEvent("onpropertychange",fp)):t==="focusout"&&hp()}function ST(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(so)}function wT(t,i){if(t==="click")return Fu(i)}function xT(t,i){if(t==="input"||t==="change")return Fu(i)}function RT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:RT;function ro(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!mt.call(i,h)||!xn(t[h],i[h]))return!1}return!0}function dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mp(t,i){var a=dp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dp(a)}}function gp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?gp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var CT=Un&&"documentMode"in document&&11>=document.documentMode,La=null,df=null,ao=null,mf=!1;function yp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||La==null||La!==Ti(o)||(o=La,"selectionStart"in o&&ff(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ao&&ro(ao,o)||(ao=o,o=Mc(df,"onSelect"),0<o.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=La)))}function Hr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},gf={},_p={};Un&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Fr(t){if(gf[t])return gf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _p)return gf[t]=i[a];return t}var vp=Fr("animationend"),Ep=Fr("animationiteration"),bp=Fr("animationstart"),NT=Fr("transitionrun"),IT=Fr("transitionstart"),DT=Fr("transitioncancel"),Tp=Fr("transitionend"),Ap=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function ri(t,i){Ap.set(t,i),Ei(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Pa=0,yf=0;function Qu(){for(var t=Pa,i=yf=Pa=0;i<t;){var a=zn[i];zn[i++]=null;var o=zn[i];zn[i++]=null;var h=zn[i];zn[i++]=null;var d=zn[i];if(zn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Sp(a,h,d)}}function Ku(t,i,a,o){zn[Pa++]=t,zn[Pa++]=i,zn[Pa++]=a,zn[Pa++]=o,yf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function _f(t,i,a,o){return Ku(t,i,a,o),Yu(t)}function Gr(t,i){return Ku(t,null,null,i),Yu(t)}function Sp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-gt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<No)throw No=0,Rd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function MT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,o){return new MT(t,i,a,o)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=LA(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Rn(31,a,i,h),t.elementType=R,t.lanes=d,t;case te:return Qr(a.children,h,d,i);case X:v=8,h|=24;break;case se:return t=Rn(12,a,i,h|2),t.elementType=se,t.lanes=d,t;case Re:return t=Rn(13,a,i,h),t.elementType=Re,t.lanes=d,t;case be:return t=Rn(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:v=10;break e;case re:v=9;break e;case xe:v=11;break e;case C:v=14;break e;case w:v=16,o=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Rn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Qr(t,i,a,o){return t=Rn(7,t,o,i),t.lanes=a,t}function Ef(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function xp(t){var i=Rn(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rp=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=Rp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Cs(i)},Rp.set(t,i),i)}return{value:t,source:i,stack:Cs(i)}}var Ba=[],qa=0,$u=null,lo=0,qn=[],Hn=0,Ps=null,Ni=1,Ii="";function Wi(t,i){Ba[qa++]=lo,Ba[qa++]=$u,$u=t,lo=i}function Cp(t,i,a){qn[Hn++]=Ni,qn[Hn++]=Ii,qn[Hn++]=Ps,Ps=t;var o=Ni;t=Ii;var h=32-gt(o)-1;o&=~(1<<h),a+=1;var d=32-gt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ni=1<<32-gt(i)+h|a<<h|o,Ii=d+t}else Ni=1<<d|a<<h|o,Ii=t}function Tf(t){t.return!==null&&(Wi(t,1),Cp(t,1,0))}function Af(t){for(;t===$u;)$u=Ba[--qa],Ba[qa]=null,lo=Ba[--qa],Ba[qa]=null;for(;t===Ps;)Ps=qn[--Hn],qn[Hn]=null,Ii=qn[--Hn],qn[Hn]=null,Ni=qn[--Hn],qn[Hn]=null}function Np(t,i){qn[Hn++]=Ni,qn[Hn++]=Ii,qn[Hn++]=Ps,Ni=i.id,Ii=i.overflow,Ps=t}var Qt=null,ot=null,ze=!1,zs=null,Fn=!1,Sf=Error(r(519));function Bs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oo(Bn(i,t)),Sf}function Ip(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[xt]=t,i[Pt]=o,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Do.length;a++)Ve(Do[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Nu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Ms(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||K0(i.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),o.onScroll!=null&&Ve("scroll",i),o.onScrollEnd!=null&&Ve("scrollend",i),o.onClick!=null&&(i.onclick=ei),i=!0):i=!1,i||Bs(t,!0)}function Dp(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Qt=Qt.return}}function Ha(t){if(t!==Qt)return!1;if(!ze)return Dp(t),ze=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&ot&&Bs(t),Dp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=n_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=n_(t)}else i===27?(i=ot,tr(t.type)?(t=Kd,Kd=null,ot=t):ot=i):ot=Qt?Qn(t.stateNode.nextSibling):null;return!0}function Kr(){ot=Qt=null,ze=!1}function wf(){var t=zs;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),zs=null),t}function oo(t){zs===null?zs=[t]:zs.push(t)}var xf=D(null),Yr=null,es=null;function qs(t,i,a){ne(xf,i._currentValue),i._currentValue=a}function ts(t){t._currentValue=xf.current,U(xf)}function Rf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fa(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;xn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ko):t=[ko])}h=h.return}t!==null&&Cf(i,t,a,o),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xr(t){Yr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Mp(Yr,t)}function Zu(t,i){return Yr===null&&Xr(t),Mp(t,i)}function Mp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},es===null){if(t===null)throw Error(r(308));es=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else es=es.next=i;return a}var OT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VT=s.unstable_scheduleCallback,jT=s.unstable_NormalPriority,Nt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new OT,data:new Map,refCount:0}}function uo(t){t.refCount--,t.refCount===0&&VT(jT,function(){t.controller.abort()})}var co=null,If=0,Ga=0,Qa=null;function kT(t,i){if(co===null){var a=co=[];If=0,Ga=Od(),Qa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return If++,i.then(Op,Op),i}function Op(){if(--If===0&&co!==null){Qa!==null&&(Qa.status="fulfilled");var t=co;co=null,Ga=0,Qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function LT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Vp=K.S;K.S=function(t,i){y0=Ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&kT(t,i),Vp!==null&&Vp(t,i)};var $r=D(null);function Df(){var t=$r.current;return t!==null?t:rt.pooledCache}function Wu(t,i){i===null?ne($r,$r.current):ne($r,i.pool)}function jp(){var t=Df();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ka=Error(r(460)),Mf=Error(r(474)),ec=Error(r(542)),tc={then:function(){}};function kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ei,ei),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pp(t),t;default:if(typeof i.status=="string")i.then(ei,ei);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pp(t),t}throw Zr=i,Ka}}function Jr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zr=a,Ka):a}}var Zr=null;function Up(){if(Zr===null)throw Error(r(459));var t=Zr;return Zr=null,t}function Pp(t){if(t===Ka||t===ec)throw Error(r(483))}var Ya=null,ho=0;function nc(t){var i=ho;return ho+=1,Ya===null&&(Ya=[]),Lp(Ya,t,i)}function fo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function zp(t){function i(L,V){if(t){var B=L.deletions;B===null?(L.deletions=[V],L.flags|=16):B.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function o(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Zi(L,V),L.index=0,L.sibling=null,L}function d(L,V,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<V?(L.flags|=67108866,V):B):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,V,B,$){return V===null||V.tag!==6?(V=Ef(B,L.mode,$),V.return=L,V):(V=h(V,B),V.return=L,V)}function I(L,V,B,$){var pe=B.type;return pe===te?Y(L,V,B.props.children,$,B.key):V!==null&&(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Jr(pe)===V.type)?(V=h(V,B.props),fo(V,B),V.return=L,V):(V=Xu(B.type,B.key,B.props,null,L.mode,$),fo(V,B),V.return=L,V)}function q(L,V,B,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=bf(B,L.mode,$),V.return=L,V):(V=h(V,B.children||[]),V.return=L,V)}function Y(L,V,B,$,pe){return V===null||V.tag!==7?(V=Qr(B,L.mode,$,pe),V.return=L,V):(V=h(V,B),V.return=L,V)}function J(L,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ef(""+V,L.mode,B),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case z:return B=Xu(V.type,V.key,V.props,null,L.mode,B),fo(B,V),B.return=L,B;case W:return V=bf(V,L.mode,B),V.return=L,V;case w:return V=Jr(V),J(L,V,B)}if(ct(V)||k(V))return V=Qr(V,L.mode,B,null),V.return=L,V;if(typeof V.then=="function")return J(L,nc(V),B);if(V.$$typeof===ae)return J(L,Zu(L,V),B);ic(L,V)}return null}function F(L,V,B,$){var pe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(L,V,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return B.key===pe?I(L,V,B,$):null;case W:return B.key===pe?q(L,V,B,$):null;case w:return B=Jr(B),F(L,V,B,$)}if(ct(B)||k(B))return pe!==null?null:Y(L,V,B,$,null);if(typeof B.then=="function")return F(L,V,nc(B),$);if(B.$$typeof===ae)return F(L,V,Zu(L,B),$);ic(L,B)}return null}function Q(L,V,B,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(B)||null,T(V,L,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return L=L.get($.key===null?B:$.key)||null,I(V,L,$,pe);case W:return L=L.get($.key===null?B:$.key)||null,q(V,L,$,pe);case w:return $=Jr($),Q(L,V,B,$,pe)}if(ct($)||k($))return L=L.get(B)||null,Y(V,L,$,pe,null);if(typeof $.then=="function")return Q(L,V,B,nc($),pe);if($.$$typeof===ae)return Q(L,V,B,Zu(V,$),pe);ic(V,$)}return null}function fe(L,V,B,$){for(var pe=null,Fe=null,de=V,De=V=0,ke=null;de!==null&&De<B.length;De++){de.index>De?(ke=de,de=null):ke=de.sibling;var Ge=F(L,de,B[De],$);if(Ge===null){de===null&&(de=ke);break}t&&de&&Ge.alternate===null&&i(L,de),V=d(Ge,V,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge,de=ke}if(De===B.length)return a(L,de),ze&&Wi(L,De),pe;if(de===null){for(;De<B.length;De++)de=J(L,B[De],$),de!==null&&(V=d(de,V,De),Fe===null?pe=de:Fe.sibling=de,Fe=de);return ze&&Wi(L,De),pe}for(de=o(de);De<B.length;De++)ke=Q(de,L,De,B[De],$),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?De:ke.key),V=d(ke,V,De),Fe===null?pe=ke:Fe.sibling=ke,Fe=ke);return t&&de.forEach(function(ar){return i(L,ar)}),ze&&Wi(L,De),pe}function _e(L,V,B,$){if(B==null)throw Error(r(151));for(var pe=null,Fe=null,de=V,De=V=0,ke=null,Ge=B.next();de!==null&&!Ge.done;De++,Ge=B.next()){de.index>De?(ke=de,de=null):ke=de.sibling;var ar=F(L,de,Ge.value,$);if(ar===null){de===null&&(de=ke);break}t&&de&&ar.alternate===null&&i(L,de),V=d(ar,V,De),Fe===null?pe=ar:Fe.sibling=ar,Fe=ar,de=ke}if(Ge.done)return a(L,de),ze&&Wi(L,De),pe;if(de===null){for(;!Ge.done;De++,Ge=B.next())Ge=J(L,Ge.value,$),Ge!==null&&(V=d(Ge,V,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return ze&&Wi(L,De),pe}for(de=o(de);!Ge.done;De++,Ge=B.next())Ge=Q(de,L,De,Ge.value,$),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?De:Ge.key),V=d(Ge,V,De),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&de.forEach(function(YA){return i(L,YA)}),ze&&Wi(L,De),pe}function st(L,V,B,$){if(typeof B=="object"&&B!==null&&B.type===te&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case z:e:{for(var pe=B.key;V!==null;){if(V.key===pe){if(pe=B.type,pe===te){if(V.tag===7){a(L,V.sibling),$=h(V,B.props.children),$.return=L,L=$;break e}}else if(V.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Jr(pe)===V.type){a(L,V.sibling),$=h(V,B.props),fo($,B),$.return=L,L=$;break e}a(L,V);break}else i(L,V);V=V.sibling}B.type===te?($=Qr(B.props.children,L.mode,$,B.key),$.return=L,L=$):($=Xu(B.type,B.key,B.props,null,L.mode,$),fo($,B),$.return=L,L=$)}return v(L);case W:e:{for(pe=B.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(L,V.sibling),$=h(V,B.children||[]),$.return=L,L=$;break e}else{a(L,V);break}else i(L,V);V=V.sibling}$=bf(B,L.mode,$),$.return=L,L=$}return v(L);case w:return B=Jr(B),st(L,V,B,$)}if(ct(B))return fe(L,V,B,$);if(k(B)){if(pe=k(B),typeof pe!="function")throw Error(r(150));return B=pe.call(B),_e(L,V,B,$)}if(typeof B.then=="function")return st(L,V,nc(B),$);if(B.$$typeof===ae)return st(L,V,Zu(L,B),$);ic(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(L,V.sibling),$=h(V,B),$.return=L,L=$):(a(L,V),$=Ef(B,L.mode,$),$.return=L,L=$),v(L)):a(L,V)}return function(L,V,B,$){try{ho=0;var pe=st(L,V,B,$);return Ya=null,pe}catch(de){if(de===Ka||de===ec)throw de;var Fe=Rn(29,de,null,L.mode);return Fe.lanes=$,Fe.return=L,Fe}}}var Wr=zp(!0),Bp=zp(!1),Hs=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Yu(t),Sp(t,null,a),i}return Ku(t,o,i,a),Yu(t)}function mo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,zl(t,a)}}function jf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function go(){if(kf){var t=Qa;if(t!==null)throw t}}function po(t,i,a,o){kf=!1;var h=t.updateQueue;Hs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=q:T.next=q,Y.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,Y=q=I=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(je&F)===F:(o&F)===F){F!==0&&F===Ga&&(kf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;F=i;var st=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){J=fe.call(st,J,F);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,F=typeof fe=="function"?fe.call(st,J,F):fe,F==null)break e;J=A({},J,F);break e;case 2:Hs=!0}}F=T.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(q=Y=Q,I=J):Y=Y.next=Q,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),$s|=v,t.lanes=v,t.memoizedState=J}}function qp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Hp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qp(a[t],i)}var Xa=D(null),sc=D(0);function Fp(t,i){t=cs,ne(sc,t),ne(Xa,i),cs=t|i.baseLanes}function Lf(){ne(sc,cs),ne(Xa,Xa.current)}function Uf(){cs=sc.current,U(Xa),U(sc)}var Cn=D(null),Gn=null;function Qs(t){var i=t.alternate;ne(bt,bt.current&1),ne(Cn,t),Gn===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(Gn=t)}function Pf(t){ne(bt,bt.current),ne(Cn,t),Gn===null&&(Gn=t)}function Gp(t){t.tag===22?(ne(bt,bt.current),ne(Cn,t),Gn===null&&(Gn=t)):Ks()}function Ks(){ne(bt,bt.current),ne(Cn,Cn.current)}function Nn(t){U(Cn),Gn===t&&(Gn=null),U(bt)}var bt=D(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gd(a)||Qd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ns=0,Ie=null,nt=null,It=null,ac=!1,$a=!1,ea=!1,lc=0,yo=0,Ja=null,UT=0;function _t(){throw Error(r(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Bf(t,i,a,o,h,d){return ns=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Cy:nd,ea=!1,d=a(o,h),ea=!1,$a&&(d=Kp(i,a,o,h)),Qp(t),d}function Qp(t){K.H=Eo;var i=nt!==null&&nt.next!==null;if(ns=0,It=nt=Ie=null,ac=!1,yo=0,Ja=null,i)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Ju(t)&&(Dt=!0))}function Kp(t,i,a,o){Ie=t;var h=0;do{if($a&&(Ja=null),yo=0,$a=!1,25<=h)throw Error(r(301));if(h+=1,It=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ny,d=i(a,o)}while($a);return d}function PT(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?_o(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ie.flags|=1024),i}function qf(){var t=lc!==0;return lc=0,t}function Hf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Ff(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}ns=0,It=nt=Ie=null,$a=!1,yo=lc=0,Ja=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ie.memoizedState=It=t:It=It.next=t,It}function Tt(){if(nt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=It===null?Ie.memoizedState:It.next;if(i!==null)It=i,nt=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Ie.memoizedState=It=t:It=It.next=t}return It}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var i=yo;return yo+=1,Ja===null&&(Ja=[]),t=Lp(Ja,t,i),i=Ie,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Cy:nd),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===ae)return Kt(t)}throw Error(r(438,String(t)))}function Gf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=O;return i.index++,a}function is(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=Tt();return Qf(i,nt,t)}function Qf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,q=i,Y=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(je&J)===J:(ns&J)===J){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Ga&&(Y=!0);else if((ns&F)===F){q=q.next,F===Ga&&(Y=!0);continue}else J={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=F,$s|=F;J=q.action,ea&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ie.lanes|=J,$s|=J;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=T,!xn(d,t.memoizedState)&&(Dt=!0,Y&&(a=Qa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Kf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);xn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Yp(t,i,a){var o=Ie,h=Tt(),d=ze;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!xn((nt||h).memoizedState,a);if(v&&(h.memoizedState=a,Dt=!0),h=h.queue,$f(Jp.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||It!==null&&It.memoizedState.tag&1){if(o.flags|=2048,Za(9,{destroy:void 0},$p.bind(null,o,h,a,i),null),rt===null)throw Error(r(349));d||(ns&127)!==0||Xp(o,i,a)}return a}function Xp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=oc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $p(t,i,a,o){i.value=a,i.getSnapshot=o,Zp(i)&&Wp(t)}function Jp(t,i,a){return a(function(){Zp(i)&&Wp(t)})}function Zp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function Wp(t){var i=Gr(t,2);i!==null&&yn(i,t,2)}function Yf(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),ea){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},i}function ey(t,i,a,o){return t.baseState=a,Qf(t,nt,typeof o=="function"?o:is)}function zT(t,i,a,o,h){if(dc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,o),I=K.S;I!==null&&I(v,T),ny(t,i,T)}catch(q){Xf(t,i,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(h,o),ny(t,i,d)}catch(q){Xf(t,i,q)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){iy(t,i,o)},function(o){return Xf(t,i,o)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function Xf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==o)}t.action=null}function sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function ay(t,i){if(ze){var a=rt.formState;if(a!==null){e:{var o=Ie;if(ze){if(ot){t:{for(var h=ot,d=Fn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Qn(h.nextSibling),o=h.data==="F!";break e}}Bs(o)}o=!1}o&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=o,a=wy.bind(null,Ie,o),o.dispatch=a,o=Yf(!1),d=td.bind(null,Ie,!1,o.queue),o=ln(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=zT.bind(null,Ie,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function ly(t){var i=Tt();return oy(i,nt,t)}function oy(t,i,a){if(i=Qf(t,i,ry)[0],t=cc(is)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=_o(i)}catch(v){throw v===Ka?ec:v}else o=i;i=Tt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Za(9,{destroy:void 0},BT.bind(null,h,a),null)),[o,d,t]}function BT(t,i){t.action=i}function uy(t){var i=Tt(),a=nt;if(a!==null)return oy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Za(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=oc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function cy(){return Tt().memoizedState}function hc(t,i,a,o){var h=ln();Ie.flags|=t,h.memoizedState=Za(1|i,{destroy:void 0},a,o===void 0?null:o)}function fc(t,i,a,o){var h=Tt();o=o===void 0?null:o;var d=h.memoizedState.inst;nt!==null&&o!==null&&zf(o,nt.memoizedState.deps)?h.memoizedState=Za(i,d,a,o):(Ie.flags|=t,h.memoizedState=Za(1|i,d,a,o))}function hy(t,i){hc(8390656,8,t,i)}function $f(t,i){fc(2048,8,t,i)}function qT(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=oc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=Tt().memoizedState;return qT({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return fc(4,2,t,i)}function my(t,i){return fc(4,4,t,i)}function gy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function py(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,gy.bind(null,i,t),a)}function Jf(){}function yy(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&zf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&zf(i,o[1]))return o[0];if(o=t(),ea){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[o,i],o}function Zf(t,i,a){return a===void 0||(ns&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v0(),Ie.lanes|=t,$s|=t,a)}function vy(t,i,a,o){return xn(a,i)?a:Xa.current!==null?(t=Zf(t,a,o),xn(t,i)||(Dt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(je&261930)===0?(Dt=!0,t.memoizedState=a):(t=v0(),Ie.lanes|=t,$s|=t,i)}function Ey(t,i,a,o,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,td(t,!1,i,a);try{var I=h(),q=K.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=LT(I,o);vo(t,i,Y,Mn(t))}else vo(t,i,o,Mn(t))}catch(J){vo(t,i,{then:function(){},status:"rejected",reason:J},Mn())}finally{le.p=d,v!==null&&T.types!==null&&(v.types=T.types),K.T=v}}function HT(){}function Wf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=by(t).queue;Ey(t,h,i,me,a===null?HT:function(){return Ty(t),a(o)})}function by(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=by(t);i.next===null&&(i=t.alternate.memoizedState),vo(t,i.next.queue,{},Mn())}function ed(){return Kt(ko)}function Ay(){return Tt().memoizedState}function Sy(){return Tt().memoizedState}function FT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mn();t=Fs(a);var o=Gs(i,t,a);o!==null&&(yn(o,i,a),mo(o,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function GT(t,i,a){var o=Mn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?xy(i,a):(a=_f(t,i,a,o),a!==null&&(yn(a,t,o),Ry(a,i,o)))}function wy(t,i,a){var o=Mn();vo(t,i,a,o)}function vo(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,xn(T,v))return Ku(t,i,h,0),rt===null&&Qu(),!1}catch{}if(a=_f(t,i,h,o),a!==null)return yn(a,t,o),Ry(a,i,o),!0}return!1}function td(t,i,a,o){if(o={lane:2,revertLane:Od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(r(479))}else i=_f(t,a,o,2),i!==null&&yn(i,t,2)}function dc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function xy(t,i){$a=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ry(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,zl(t,a)}}var Eo={readContext:Kt,use:uc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Eo.useEffectEvent=_t;var Cy={readContext:Kt,use:uc,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,gy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var o=t();if(ea){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=ln();if(a!==void 0){var h=a(i);if(ea){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=GT.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=wy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,i){var a=ln();return Zf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=Ey.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,h=ln();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),rt===null)throw Error(r(349));(je&127)!==0||Xp(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jp.bind(null,o,d,t),[t]),o.flags|=2048,Za(9,{destroy:void 0},$p.bind(null,o,d,a,i),null),a},useId:function(){var t=ln(),i=rt.identifierPrefix;if(ze){var a=Ii,o=Ni;a=(o&~(1<<32-gt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=UT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ed,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=td.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return ln().memoizedState=FT.bind(null,Ie)},useEffectEvent:function(t){var i=ln(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},nd={readContext:Kt,use:uc,useCallback:yy,useContext:Kt,useEffect:$f,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:cc,useRef:cy,useState:function(){return cc(is)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=Tt();return vy(a,nt.memoizedState,t,i)},useTransition:function(){var t=cc(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:Yp,useId:Ay,useHostTransitionStatus:ed,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=Tt();return ey(a,nt,t,i)},useMemoCache:Gf,useCacheRefresh:Sy};nd.useEffectEvent=fy;var Ny={readContext:Kt,use:uc,useCallback:yy,useContext:Kt,useEffect:$f,useImperativeHandle:py,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Kf,useRef:cy,useState:function(){return Kf(is)},useDebugValue:Jf,useDeferredValue:function(t,i){var a=Tt();return nt===null?Zf(a,t,i):vy(a,nt.memoizedState,t,i)},useTransition:function(){var t=Kf(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:_o(t),i]},useSyncExternalStore:Yp,useId:Ay,useHostTransitionStatus:ed,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=Tt();return nt!==null?ey(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:Sy};Ny.useEffectEvent=fy;function id(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Mn(),h=Fs(o);h.payload=i,a!=null&&(h.callback=a),i=Gs(t,h,o),i!==null&&(yn(i,t,o),mo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Mn(),h=Fs(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Gs(t,h,o),i!==null&&(yn(i,t,o),mo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),o=Fs(a);o.tag=2,i!=null&&(o.callback=i),i=Gs(t,o,a),i!==null&&(yn(i,t,a),mo(i,t,a))}};function Iy(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!ro(a,o)||!ro(h,d):!0}function Dy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function ta(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function My(t){Gu(t)}function Oy(t){console.error(t)}function Vy(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function jy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function ky(t){return t=Fs(t),t.tag=3,t}function Ly(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){jy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){jy(i,a,o),typeof h!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function QT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Fa(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?xc():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Id(t,o,h)),!1;case 22:return a.flags|=65536,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Id(t,o,h)),!1}throw Error(r(435,a.tag))}return Id(t,o,h),xc(),!1}if(ze)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Sf&&(t=Error(r(422),{cause:o}),oo(Bn(t,a)))):(o!==Sf&&(i=Error(r(423),{cause:o}),oo(Bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Bn(o,a),h=rd(t.stateNode,o,h),jf(t,h),vt!==4&&(vt=2)),!1;var d=Error(r(520),{cause:o});if(d=Bn(d,a),Co===null?Co=[d]:Co.push(d),vt!==4&&(vt=2),i===null)return!0;o=Bn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,o,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Js===null||!Js.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ky(h),Ly(h,t,a,o),jf(a,h),!1}a=a.return}while(a!==null);return!1}var ad=Error(r(461)),Dt=!1;function Yt(t,i,a,o){i.child=t===null?Bp(i,null,a,o):Wr(i,t.child,a,o)}function Uy(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Xr(i),o=Bf(t,i,a,v,d,h),T=qf(),t!==null&&!Dt?(Hf(t,i,h),ss(t,i,h)):(ze&&T&&Tf(i),i.flags|=1,Yt(t,i,o,h),i.child)}function Py(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,zy(t,i,d,o,h)):(t=Xu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!md(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ro,a(v,o)&&t.ref===i.ref)return ss(t,i,h)}return i.flags|=1,t=Zi(d,o),t.ref=i.ref,t.return=i,i.child=t}function zy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(ro(d,o)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=o=d,md(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,ss(t,i,h)}return ld(t,i,a,o,h)}function By(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return qy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Fp(i,d):Lf(),Gp(i);else return o=i.lanes=536870912,qy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Wu(i,d.cachePool),Fp(i,d),Ks(),i.memoizedState=null):(t!==null&&Wu(i,null),Lf(),Ks());return Yt(t,i,h,a),i.child}function bo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qy(t,i,a,o,h){var d=Df();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),Lf(),Gp(i),t!==null&&Fa(t,i,o,!0),i.childLanes=h,null}function gc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Hy(t,i,a){return Wr(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function KT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(o.mode==="hidden")return t=gc(i,o),i.lanes=536870912,bo(null,t);if(Pf(i),(t=ot)?(t=t_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=xp(t),a.return=i,i.child=a,Qt=i,ot=null)):t=null,t===null)throw Bs(i);return i.lanes=536870912,null}return gc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Pf(i),h)if(i.flags&256)i.flags&=-257,i=Hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Dt||Fa(t,i,a,!1),h=(a&t.childLanes)!==0,Dt||h){if(o=rt,o!==null&&(v=Bl(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Gr(t,v),yn(o,t,v),ad;xc(),i=Hy(t,i,a)}else t=d.treeContext,ot=Qn(v.nextSibling),Qt=i,ze=!0,zs=null,Fn=!1,t!==null&&Np(i,t),i=gc(i,o),i.flags|=4096;return i}return t=Zi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,o,h){return Xr(i),a=Bf(t,i,a,o,void 0,h),o=qf(),t!==null&&!Dt?(Hf(t,i,h),ss(t,i,h)):(ze&&o&&Tf(i),i.flags|=1,Yt(t,i,a,h),i.child)}function Fy(t,i,a,o,h,d){return Xr(i),i.updateQueue=null,a=Kp(i,o,a,h),Qp(t),o=qf(),t!==null&&!Dt?(Hf(t,i,d),ss(t,i,d)):(ze&&o&&Tf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function Gy(t,i,a,o,h){if(Xr(i),i.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):za,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&sd.enqueueReplaceState(d,d.state,null),po(i,o,d,h),go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=ta(a,T);d.props=I;var q=d.context,Y=a.contextType;v=za,typeof Y=="object"&&Y!==null&&(v=Kt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Dy(i,d,o,v),Hs=!1;var F=i.memoizedState;d.state=F,po(i,o,d,h),go(),q=i.memoizedState,T||F!==q||Hs?(typeof J=="function"&&(id(i,a,J,o),q=i.memoizedState),(I=Hs||Iy(i,a,I,o,F,q,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=q),d.props=o,d.state=q,d.context=v,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Vf(t,i),v=i.memoizedProps,Y=ta(a,v),d.props=Y,J=i.pendingProps,F=d.context,q=a.contextType,I=za,typeof q=="object"&&q!==null&&(I=Kt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&Dy(i,d,o,I),Hs=!1,F=i.memoizedState,d.state=F,po(i,o,d,h),go();var Q=i.memoizedState;v!==J||F!==Q||Hs||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(id(i,a,T,o),Q=i.memoizedState),(Y=Hs||Iy(i,a,Y,o,F,Q,I)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Q),d.props=o,d.state=Q,d.context=I,o=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,pc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Wr(i,t.child,null,h),i.child=Wr(i,null,a,h)):Yt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ss(t,i,h),t}function Qy(t,i,a,o){return Kr(),i.flags|=256,Yt(t,i,a,o),i.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:jp()}}function cd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function Ky(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?Qs(i):Ks(),(t=ot)?(t=t_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=xp(t),a.return=i,i.child=a,Qt=i,ot=null)):t=null,t===null)throw Bs(i);return Qd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ks(),h=i.mode,T=yc({mode:"hidden",children:T},h),o=Qr(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=ud(a),o.childLanes=cd(t,v,a),i.memoizedState=od,bo(null,o)):(Qs(i),hd(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Qs(i),i.flags&=-257,i=fd(t,i,a)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),T=o.fallback,h=i.mode,o=yc({mode:"visible",children:o.children},h),T=Qr(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Wr(i,t.child,null,a),o=i.child,o.memoizedState=ud(a),o.childLanes=cd(t,v,a),i.memoizedState=od,i=bo(null,o));else if(Qs(i),Qd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,o=Error(r(419)),o.stack="",o.digest=v,oo({value:o,source:null,stack:null}),i=fd(t,i,a)}else if(Dt||Fa(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=rt,v!==null&&(o=Bl(v,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Gr(t,o),yn(v,t,o),ad;Gd(T)||xc(),i=fd(t,i,a)}else Gd(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ot=Qn(T.nextSibling),Qt=i,ze=!0,zs=null,Fn=!1,t!==null&&Np(i,t),i=hd(i,o.children),i.flags|=4096);return i}return h?(Ks(),T=o.fallback,h=i.mode,I=t.child,q=I.sibling,o=Zi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,q!==null?T=Zi(q,T):(T=Qr(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,bo(null,o),o=i.child,T=t.child.memoizedState,T===null?T=ud(a):(h=T.cachePool,h!==null?(I=Nt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=jp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=cd(t,v,a),i.memoizedState=od,bo(t.child,o)):(Qs(i),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function hd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=Rn(22,t,null,i),t.lanes=0,t}function fd(t,i,a){return Wr(i,t.child,null,a),t=hd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Rf(t.return,i,a)}function dd(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Xy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=bt.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,ne(bt,v),Yt(t,i,o,a),o=ze?lo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,i);else if(t.tag===19)Yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),dd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(i,!0,a,null,d,o);break;case"together":dd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ss(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$s|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function md(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function YT(t,i,a){switch(i.tag){case 3:ht(i,i.stateNode.containerInfo),qs(i,Nt,t.memoizedState.cache),Kr();break;case 27:case 5:fi(i);break;case 4:ht(i,i.stateNode.containerInfo);break;case 10:qs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Qs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ky(t,i,a):(Qs(i),t=ss(t,i,a),t!==null?t.sibling:null);Qs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Fa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(bt,bt.current),o)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:qs(i,Nt,t.memoizedState.cache)}return ss(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!md(t,a)&&(i.flags&128)===0)return Dt=!1,YT(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,ze&&(i.flags&1048576)!==0&&Cp(i,lo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Jr(i.elementType),i.type=t,typeof t=="function")vf(t)?(o=ta(t,o),i.tag=1,i=Gy(null,i,t,o,a)):(i.tag=0,i=ld(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===xe){i.tag=11,i=Uy(null,i,t,o,a);break e}else if(h===C){i.tag=14,i=Py(null,i,t,o,a);break e}}throw i=Qe(t)||t,Error(r(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ta(o,i.pendingProps),Gy(t,i,o,h,a);case 3:e:{if(ht(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(t,i),po(i,o,null,a);var v=i.memoizedState;if(o=v.cache,qs(i,Nt,o),o!==d.cache&&Cf(i,[Nt],a,!0),go(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,o,a);break e}else if(o!==h){h=Bn(Error(r(424)),i),oo(h),i=Qy(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Qn(t.firstChild),Qt=i,ze=!0,zs=null,Fn=!0,a=Bp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kr(),o===h){i=ss(t,i,a);break e}Yt(t,i,o,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=l_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ze||(a=i.type,t=i.pendingProps,o=Oc(ve.current).createElement(a),o[xt]=i,o[Pt]=t,Xt(o,a,t),Rt(o),i.stateNode=o):i.memoizedState=l_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fi(i),t===null&&ze&&(o=i.stateNode=s_(i.type,i.pendingProps,ve.current),Qt=i,Fn=!0,h=ot,tr(i.type)?(Kd=h,ot=Qn(o.firstChild)):ot=h),Yt(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=o=ot)&&(o=SA(o,i.type,i.pendingProps,Fn),o!==null?(i.stateNode=o,Qt=i,ot=Qn(o.firstChild),Fn=!1,h=!0):h=!1),h||Bs(i)),fi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,qd(h,d)?o=null:v!==null&&qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Bf(t,i,PT,null,null,a),ko._currentValue=h),pc(t,i),Yt(t,i,o,a),i.child;case 6:return t===null&&ze&&((t=a=ot)&&(a=wA(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,Qt=i,ot=null,t=!0):t=!1),t||Bs(i)),null;case 13:return Ky(t,i,a);case 4:return ht(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Wr(i,null,o,a):Yt(t,i,o,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,qs(i,i.type,o.value),Yt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Xr(i),h=Kt(h),o=o(h),i.flags|=1,Yt(t,i,o,a),i.child;case 14:return Py(t,i,i.type,i.pendingProps,a);case 15:return zy(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return KT(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return Xr(i),o=Kt(Nt),t===null?(h=Df(),h===null&&(h=rt,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Of(i),qs(i,Nt,h)):((t.lanes&a)!==0&&(Vf(t,i),po(i,null,null,a),go()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),qs(i,Nt,o)):(o=d.cache,qs(i,Nt,o),o!==h.cache&&Cf(i,[Nt],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function rs(t){t.flags|=4}function gd(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(A0())t.flags|=8192;else throw Zr=tc,Mf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!f_(i))if(A0())t.flags|=8192;else throw Zr=tc,Mf}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Sa():536870912,t.lanes|=i,nl|=i)}function To(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ut(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function XT(t,i,a){var o=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(i),null;case 1:return ut(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ts(Nt),Ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(i)?rs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),ut(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(rs(i),d!==null?(ut(i),Jy(i,d)):(ut(i),gd(i,h,null,o,a))):d?d!==t.memoizedState?(rs(i),ut(i),Jy(i,d)):(ut(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&rs(i),ut(i),gd(i,h,t,o,a)),null;case 27:if(Jn(i),a=ve.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ut(i),null}t=ue.current,Ha(i)?Ip(i):(t=s_(h,o,a),i.stateNode=t,rs(i))}return ut(i),null;case 5:if(Jn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return ut(i),null}if(d=ue.current,Ha(i))Ip(i);else{var v=Oc(ve.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[xt]=i,d[Pt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Xt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&rs(i)}}return ut(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,Ha(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||K0(t.nodeValue,a)),t||Bs(i,!0)}else t=Oc(t).createTextNode(o),t[xt]=i,i.stateNode=t}return ut(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ha(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ut(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ha(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ut(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),ut(i),null);case 4:return Ke(),t===null&&Ld(i.stateNode.containerInfo),ut(i),null;case 10:return ts(i.type),ut(i),null;case 19:if(U(bt),o=i.memoizedState,o===null)return ut(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)To(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,To(o,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)wp(a,t),a=a.sibling;return ne(bt,bt.current&1|2),ze&&Wi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Ft()>Ac&&(i.flags|=128,h=!0,To(o,!1),i.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),To(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ze)return ut(i),null}else 2*Ft()-o.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,h=!0,To(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,a=bt.current,ne(bt,h?a&1|2:a&1),ze&&Wi(i,o.treeForkCount),t):(ut(i),null);case 22:case 23:return Nn(i),Uf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ut(i),i.subtreeFlags&6&&(i.flags|=8192)):ut(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&U($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ts(Nt),ut(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function $T(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ts(Nt),Ke(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Jn(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return U(bt),null;case 4:return Ke(),null;case 10:return ts(i.type),null;case 22:case 23:return Nn(i),Uf(),t!==null&&U($r),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ts(Nt),null;case 25:return null;default:return null}}function Zy(t,i){switch(Af(i),i.tag){case 3:ts(Nt),Ke();break;case 26:case 27:case 5:Jn(i);break;case 4:Ke();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:U(bt);break;case 10:ts(i.type);break;case 22:case 23:Nn(i),Uf(),t!==null&&U($r);break;case 24:ts(Nt)}}function Ao(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){et(i,i.return,T)}}function Ys(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,q=T;try{q()}catch(Y){et(h,I,Y)}}}o=o.next}while(o!==d)}}catch(Y){et(i,i.return,Y)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hp(i,a)}catch(o){et(t,t.return,o)}}}function e0(t,i,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){et(t,i,o)}}function So(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){et(t,i,h)}}function Di(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function t0(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function pd(t,i,a){try{var o=t.stateNode;_A(o,t.type,a,i),o[Pt]=i}catch(h){et(t,t.return,h)}}function n0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ei));else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(_d(t,i,a),t=t.sibling;t!==null;)_d(t,i,a),t=t.sibling}function vc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function i0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xt(i,o,a),i[xt]=t,i[Pt]=a}catch(d){et(t,t.return,d)}}var as=!1,Mt=!1,vd=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function JT(t,i){if(t=t.containerInfo,zd=zc,t=pp(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,Y=0,J=t,F=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||o!==0&&J.nodeType!==3||(I=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)F=J,J=Q;for(;;){if(J===t)break t;if(F===a&&++q===h&&(T=v),F===d&&++Y===o&&(I=v),(Q=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:t,selectionRange:a},zc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var fe=ta(a.type,h);t=o.getSnapshotBeforeUpdate(fe,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function r0(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&Ao(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}o&64&&Wy(a),o&512&&So(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hp(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&o&4&&i0(a);case 26:case 5:os(t,a),i===null&&o&4&&t0(a),o&512&&So(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&o0(t,a);break;case 13:os(t,a),o&4&&u0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aA.bind(null,a),xA(t,a))));break;case 22:if(o=a.memoizedState!==null||as,!o){i=i!==null&&i.memoizedState!==null||Mt,h=as;var d=Mt;as=o,(Mt=i)&&!d?us(t,a,(a.subtreeFlags&8772)!==0):os(t,a),as=h,Mt=d}break;case 30:break;default:os(t,a)}}function a0(t){var i=t.alternate;i!==null&&(t.alternate=null,a0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,dn=!1;function ls(t,i,a){for(a=a.child;a!==null;)l0(t,i,a),a=a.sibling}function l0(t,i,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(An,a)}catch{}switch(a.tag){case 26:Mt||Di(a,i),ls(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Di(a,i);var o=dt,h=dn;tr(a.type)&&(dt=a.stateNode,dn=!1),ls(t,i,a),Oo(a.stateNode),dt=o,dn=h;break;case 5:Mt||Di(a,i);case 6:if(o=dt,h=dn,dt=null,ls(t,i,a),dt=o,dn=h,dt!==null)if(dn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{dt.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:dt!==null&&(dn?(t=dt,W0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cl(t)):W0(dt,a.stateNode));break;case 4:o=dt,h=dn,dt=a.stateNode.containerInfo,dn=!0,ls(t,i,a),dt=o,dn=h;break;case 0:case 11:case 14:case 15:Ys(2,a,i),Mt||Ys(4,a,i),ls(t,i,a);break;case 1:Mt||(Di(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&e0(a,i,o)),ls(t,i,a);break;case 21:ls(t,i,a);break;case 22:Mt=(o=Mt)||a.memoizedState!==null,ls(t,i,a),Mt=o;break;default:ls(t,i,a)}}function o0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cl(t)}catch(a){et(i,i.return,a)}}}function u0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cl(t)}catch(a){et(i,i.return,a)}}function ZT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s0),i;default:throw Error(r(435,t.tag))}}function Ec(t,i){var a=ZT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=lA.bind(null,t,o);o.then(h,h)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(tr(T.type)){dt=T.stateNode,dn=!1;break e}break;case 5:dt=T.stateNode,dn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(dt===null)throw Error(r(160));l0(d,v,h),dt=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c0(i,t),i=i.sibling}var ai=null;function c0(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),o&4&&(Ys(3,t,t.return),Ao(3,t),Ys(5,t,t.return));break;case 1:mn(i,t),gn(t),o&512&&(Mt||a===null||Di(a,a.return)),o&64&&as&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ai;if(mn(i,t),gn(t),o&512&&(Mt||a===null||Di(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yi]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Xt(d,o,a),d[xt]=t,Rt(d),o=d;break e;case"link":var v=c_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),Xt(d,o,a),h.head.appendChild(d);break;case"meta":if(v=c_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),Xt(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[xt]=t,Rt(d),o=d}t.stateNode=o}else h_(h,t.type,t.stateNode);else t.stateNode=u_(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?h_(h,t.type,t.stateNode):u_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),gn(t),o&512&&(Mt||a===null||Di(a,a.return)),a!==null&&o&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),gn(t),o&512&&(Mt||a===null||Di(a,a.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(fe){et(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(vd=!0);break;case 6:if(mn(i,t),gn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){et(t,t.return,fe)}}break;case 3:if(kc=null,h=ai,ai=Vc(i.containerInfo),mn(i,t),ai=h,gn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(fe){et(t,t.return,fe)}vd&&(vd=!1,h0(t));break;case 4:o=ai,ai=Vc(t.stateNode.containerInfo),mn(i,t),gn(t),ai=o;break;case 12:mn(i,t),gn(t);break;case 31:mn(i,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=Ft()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=as,Y=Mt;if(as=q||h,Mt=Y||I,mn(i,t),Mt=Y,as=q,gn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||as||Mt||na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){et(I,I.return,fe)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){et(I,I.return,fe)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;h?e_(Q,!0):e_(I.stateNode,!1)}catch(fe){et(I,I.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ec(t,a))));break;case 19:mn(i,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(n0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=yd(t);vc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var T=yd(t);vc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=yd(t);_d(t,q,I);break;default:throw Error(r(161))}}catch(Y){et(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function os(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r0(t,i.alternate,i),i=i.sibling}function na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ys(4,i,i.return),na(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e0(i,i.return,a),na(i);break;case 27:Oo(i.stateNode);case 26:case 5:Di(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}t=t.sibling}}function us(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:us(h,d,a),Ao(4,d);break;case 1:if(us(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){et(o,o.return,q)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)qp(I[h],T)}catch(q){et(o,o.return,q)}}a&&v&64&&Wy(d),So(d,d.return);break;case 27:i0(d);case 26:case 5:us(h,d,a),a&&o===null&&v&4&&t0(d),So(d,d.return);break;case 12:us(h,d,a);break;case 31:us(h,d,a),a&&v&4&&o0(h,d);break;case 13:us(h,d,a),a&&v&4&&u0(h,d);break;case 22:d.memoizedState===null&&us(h,d,a),So(d,d.return);break;case 30:break;default:us(h,d,a)}i=i.sibling}}function Ed(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&uo(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&uo(t))}function li(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f0(t,i,a,o),i=i.sibling}function f0(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,o),h&2048&&Ao(9,i);break;case 1:li(t,i,a,o);break;case 3:li(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&uo(t)));break;case 12:if(h&2048){li(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){et(i,i.return,I)}}else li(t,i,a,o);break;case 31:li(t,i,a,o);break;case 13:li(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,o):wo(t,i):d._visibility&2?li(t,i,a,o):(d._visibility|=2,Wa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ed(v,i);break;case 24:li(t,i,a,o),h&2048&&bd(i.alternate,i);break;default:li(t,i,a,o)}}function Wa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,I=o,q=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(d,v,T,I,h),Ao(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Wa(d,v,T,I,h):wo(d,v):(Y._visibility|=2,Wa(d,v,T,I,h)),h&&q&2048&&Ed(v.alternate,v);break;case 24:Wa(d,v,T,I,h),h&&q&2048&&bd(v.alternate,v);break;default:Wa(d,v,T,I,h)}i=i.sibling}}function wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:wo(a,o),h&2048&&Ed(o.alternate,o);break;case 24:wo(a,o),h&2048&&bd(o.alternate,o);break;default:wo(a,o)}i=i.sibling}}var xo=8192;function el(t,i,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)d0(t,i,a),t=t.sibling}function d0(t,i,a){switch(t.tag){case 26:el(t,i,a),t.flags&xo&&t.memoizedState!==null&&UA(a,ai,t.memoizedState,t.memoizedProps);break;case 5:el(t,i,a);break;case 3:case 4:var o=ai;ai=Vc(t.stateNode.containerInfo),el(t,i,a),ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xo,xo=16777216,el(t,i,a),xo=o):el(t,i,a));break;default:el(t,i,a)}}function m0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ro(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Bt=o,p0(o,t)}m0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g0(t),t=t.sibling}function g0(t){switch(t.tag){case 0:case 11:case 15:Ro(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:Ro(t);break;case 12:Ro(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,bc(t)):Ro(t);break;default:Ro(t)}}function bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Bt=o,p0(o,t)}m0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ys(8,i,i.return),bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,bc(i));break;default:bc(i)}t=t.sibling}}function p0(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Ys(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,d=o.return;if(a0(o),o===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var WT={getCacheForType:function(t){var i=Kt(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Nt).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Oe=null,je=0,We=0,In=null,Xs=!1,tl=!1,Td=!1,cs=0,vt=0,$s=0,ia=0,Ad=0,Dn=0,nl=0,Co=null,pn=null,Sd=!1,Tc=0,y0=0,Ac=1/0,Sc=null,Js=null,Lt=0,Zs=null,il=null,hs=0,wd=0,xd=null,_0=null,No=0,Rd=null;function Mn(){return(Xe&2)!==0&&je!==0?je&-je:K.T!==null?Od():wu()}function v0(){if(Dn===0)if((je&536870912)===0||ze){var t=j;j<<=1,(j&3932160)===0&&(j=262144),Dn=t}else Dn=536870912;return t=Cn.current,t!==null&&(t.flags|=32),Dn}function yn(t,i,a){(t===rt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(sl(t,0),Ws(t,je,Dn,!1)),Dr(t,a),((Xe&2)===0||t!==rt)&&(t===rt&&((Xe&2)===0&&(ia|=a),vt===4&&Ws(t,je,Dn,!1)),Mi(t))}function E0(t,i,a){if((Xe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||wt(t,i),h=o?iA(t,i):Nd(t,i,!0),d=o;do{if(h===0){tl&&!o&&Ws(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!tA(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Co;var I=T.current.memoizedState.isDehydrated;if(I&&(sl(T,v).flags|=256),v=Nd(T,v,!1),v!==2){if(Td&&!I){T.errorRecoveryDisabledLanes|=d,ia|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){sl(t,0),Ws(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ws(o,i,Dn,!Xs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Tc+300-Ft(),10<h)){if(Ws(o,i,Dn,!Xs),cn(o,0,!0)!==0)break e;hs=i,o.timeoutHandle=J0(b0.bind(null,o,a,pn,Sc,Sd,i,Dn,ia,nl,Xs,d,"Throttled",-0,0),h);break e}b0(o,a,pn,Sc,Sd,i,Dn,ia,nl,Xs,d,null,-0,0)}}break}while(!0);Mi(t)}function b0(t,i,a,o,h,d,v,T,I,q,Y,J,F,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},d0(i,d,J);var fe=(d&62914560)===d?Tc-Ft():(d&4194048)===d?y0-Ft():0;if(fe=PA(J,fe),fe!==null){hs=d,t.cancelPendingCommit=fe(N0.bind(null,t,i,d,a,o,h,v,T,I,Y,J,null,F,Q)),Ws(t,d,v,!q);return}}N0(t,i,d,a,o,h,v,T,I)}function tA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ws(t,i,a,o){i&=~Ad,i&=~ia,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-gt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Mr(t,a,i)}function wc(){return(Xe&6)===0?(Io(0),!1):!0}function Cd(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,es=Yr=null,Ff(t),Ya=null,ho=0,t=Oe;for(;t!==null;)Zy(t.alternate,t),t=t.return;Oe=null}}function sl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,Cd(),rt=t,Oe=a=Zi(t.current,null),je=i,We=0,In=null,Xs=!1,tl=wt(t,i),Td=!1,nl=Dn=Ad=ia=$s=vt=0,pn=Co=null,Sd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-gt(o),d=1<<h;i|=t[h],o&=~d}return cs=i,Qu(),a}function T0(t,i){Ie=null,K.H=Eo,i===Ka||i===ec?(i=Up(),We=3):i===Mf?(i=Up(),We=4):We=i===ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Oe===null&&(vt=1,mc(t,Bn(i,t.current)))}function A0(){var t=Cn.current;return t===null?!0:(je&4194048)===je?Gn===null:(je&62914560)===je||(je&536870912)!==0?t===Gn:!1}function S0(){var t=K.H;return K.H=Eo,t===null?Eo:t}function w0(){var t=K.A;return K.A=WT,t}function xc(){vt=4,Xs||(je&4194048)!==je&&Cn.current!==null||(tl=!0),($s&134217727)===0&&(ia&134217727)===0||rt===null||Ws(rt,je,Dn,!1)}function Nd(t,i,a){var o=Xe;Xe|=2;var h=S0(),d=w0();(rt!==t||je!==i)&&(Sc=null,sl(t,i)),i=!1;var v=vt;e:do try{if(We!==0&&Oe!==null){var T=Oe,I=In;switch(We){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=We;if(We=0,In=null,rl(t,T,I,q),a&&tl){v=0;break e}break;default:q=We,We=0,In=null,rl(t,T,I,q)}}nA(),v=vt;break}catch(Y){T0(t,Y)}while(!0);return i&&t.shellSuspendCounter++,es=Yr=null,Xe=o,K.H=h,K.A=d,Oe===null&&(rt=null,je=0,Qu()),v}function nA(){for(;Oe!==null;)x0(Oe)}function iA(t,i){var a=Xe;Xe|=2;var o=S0(),h=w0();rt!==t||je!==i?(Sc=null,Ac=Ft()+500,sl(t,i)):tl=wt(t,i);e:do try{if(We!==0&&Oe!==null){i=Oe;var d=In;t:switch(We){case 1:We=0,In=null,rl(t,i,d,1);break;case 2:case 9:if(kp(d)){We=0,In=null,R0(i);break}i=function(){We!==2&&We!==9||rt!==t||(We=7),Mi(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:kp(d)?(We=0,In=null,R0(i)):(We=0,In=null,rl(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(v?f_(v):T.stateNode.complete){We=0,In=null;var I=T.sibling;if(I!==null)Oe=I;else{var q=T.return;q!==null?(Oe=q,Rc(q)):Oe=null}break t}}We=0,In=null,rl(t,i,d,5);break;case 6:We=0,In=null,rl(t,i,d,6);break;case 8:Cd(),vt=6;break e;default:throw Error(r(462))}}sA();break}catch(Y){T0(t,Y)}while(!0);return es=Yr=null,K.H=o,K.A=h,Xe=a,Oe!==null?0:(rt=null,je=0,Qu(),vt)}function sA(){for(;Oe!==null&&!Cr();)x0(Oe)}function x0(t){var i=$y(t.alternate,t,cs);t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function R0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Ff(i);default:Zy(a,i),i=Oe=wp(i,cs),i=$y(a,i,cs)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function rl(t,i,a,o){es=Yr=null,Ff(i),Ya=null,ho=0;var h=i.return;try{if(QT(t,h,i,a,je)){vt=1,mc(t,Bn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;vt=1,mc(t,Bn(a,t.current)),Oe=null;return}i.flags&32768?(ze||o===1?t=!0:tl||(je&536870912)!==0?t=!1:(Xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),C0(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){C0(i,Xs);return}t=i.return;var a=XT(i.alternate,i,cs);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);vt===0&&(vt=5)}function C0(t,i){do{var a=$T(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);vt=6,Oe=null}function N0(t,i,a,o,h,d,v,T,I){t.cancelPendingCommit=null;do Cc();while(Lt!==0);if((Xe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=yf,of(t,a,d,v,T,I),t===rt&&(Oe=rt=null,je=0),il=i,Zs=t,hs=a,wd=d,xd=h,_0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oA(mi,function(){return V0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=le.p,le.p=2,v=Xe,Xe|=4;try{JT(t,i,a)}finally{Xe=v,le.p=h,K.T=o}}Lt=1,I0(),D0(),M0()}}function I0(){if(Lt===1){Lt=0;var t=Zs,i=il,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=Xe;Xe|=4;try{c0(i,t);var d=Bd,v=pp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&gp(T.ownerDocument.documentElement,T)){if(I!==null&&ff(T)){var q=I.start,Y=I.end;if(Y===void 0&&(Y=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var Q=F.getSelection(),fe=T.textContent.length,_e=Math.min(I.start,fe),st=I.end===void 0?_e:Math.min(I.end,fe);!Q.extend&&_e>st&&(v=st,st=_e,_e=v);var L=mp(T,_e),V=mp(T,st);if(L&&V&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=J.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),_e>st?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(J=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}zc=!!zd,Bd=zd=null}finally{Xe=h,le.p=o,K.T=a}}t.current=i,Lt=2}}function D0(){if(Lt===2){Lt=0;var t=Zs,i=il,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=le.p;le.p=2;var h=Xe;Xe|=4;try{r0(t,i.alternate,i)}finally{Xe=h,le.p=o,K.T=a}}Lt=3}}function M0(){if(Lt===4||Lt===3){Lt=0,_a();var t=Zs,i=il,a=hs,o=_0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,il=Zs=null,O0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Js=null),Yi(a),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(An,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=le.p,le.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,le.p=h}}(hs&3)!==0&&Cc(),Mi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Rd?No++:(No=0,Rd=t):No=0,Io(0)}}function O0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,uo(i)))}function Cc(){return I0(),D0(),M0(),V0()}function V0(){if(Lt!==5)return!1;var t=Zs,i=wd;wd=0;var a=Yi(hs),o=K.T,h=le.p;try{le.p=32>a?32:a,K.T=null,a=xd,xd=null;var d=Zs,v=hs;if(Lt=0,il=Zs=null,hs=0,(Xe&6)!==0)throw Error(r(331));var T=Xe;if(Xe|=4,g0(d.current),f0(d,d.current,v,a),Xe=T,Io(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(An,d)}catch{}return!0}finally{le.p=h,K.T=o,O0(t,i)}}function j0(t,i,a){i=Bn(a,i),i=rd(t.stateNode,i,2),t=Gs(t,i,2),t!==null&&(Dr(t,2),Mi(t))}function et(t,i,a){if(t.tag===3)j0(t,t,a);else for(;i!==null;){if(i.tag===3){j0(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Js===null||!Js.has(o))){t=Bn(a,t),a=ky(2),o=Gs(i,a,2),o!==null&&(Ly(a,o,i,t),Dr(o,2),Mi(o));break}}i=i.return}}function Id(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new eA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Td=!0,h.add(a),t=rA.bind(null,t,i,a),i.then(t,t))}function rA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(je&a)===a&&(vt===4||vt===3&&(je&62914560)===je&&300>Ft()-Tc?(Xe&2)===0&&sl(t,0):Ad|=a,nl===je&&(nl=0)),Mi(t)}function k0(t,i){i===0&&(i=Sa()),t=Gr(t,i),t!==null&&(Dr(t,i),Mi(t))}function aA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),k0(t,a)}function lA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),k0(t,a)}function oA(t,i){return yt(t,i)}var Nc=null,al=null,Dd=!1,Ic=!1,Md=!1,er=0;function Mi(t){t!==al&&t.next===null&&(al===null?Nc=al=t:al=al.next=t),Ic=!0,Dd||(Dd=!0,cA())}function Io(t,i){if(!Md&&Ic){Md=!0;do for(var a=!1,o=Nc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,z0(o,d))}else d=je,d=cn(o,o===rt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||wt(o,d)||(a=!0,z0(o,d));o=o.next}while(a);Md=!1}}function uA(){L0()}function L0(){Ic=Dd=!1;var t=0;er!==0&&EA()&&(t=er);for(var i=Ft(),a=null,o=Nc;o!==null;){var h=o.next,d=U0(o,i);d===0?(o.next=null,a===null?Nc=h:a.next=h,h===null&&(al=a)):(a=o,(t!==0||(d&3)!==0)&&(Ic=!0)),o=h}Lt!==0&&Lt!==5||Io(t),er!==0&&(er=0)}function U0(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&o)!==0)&&(h[v]=gi(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=rt,a=je,a=cn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Tn(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wt(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Tn(o),Yi(a)){case 2:case 8:a=Ir;break;case 32:a=mi;break;case 268435456:a=va;break;default:a=mi}return o=P0.bind(null,t),a=yt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Tn(o),t.callbackPriority=2,t.callbackNode=null,2}function P0(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var o=je;return o=cn(t,t===rt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(E0(t,o,i),U0(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?P0.bind(null,t):null)}function z0(t,i){if(Cc())return null;E0(t,i,!0)}function cA(){TA(function(){(Xe&6)!==0?yt(Nr,uA):L0()})}function Od(){if(er===0){var t=Ga;t===0&&(t=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),er=t}return er}function B0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function q0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function hA(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=B0((h[Pt]||null).action),v=o.submitter;v&&(i=(i=v[Pt]||null)?B0(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new wi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(er!==0){var I=v?q0(h,v):new FormData(h);Wf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?q0(h,v):new FormData(h),Wf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<pf.length;Vd++){var jd=pf[Vd],fA=jd.toLowerCase(),dA=jd[0].toUpperCase()+jd.slice(1);ri(fA,"on"+dA)}ri(vp,"onAnimationEnd"),ri(Ep,"onAnimationIteration"),ri(bp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(NT,"onTransitionRun"),ri(IT,"onTransitionStart"),ri(DT,"onTransitionCancel"),ri(Tp,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Do));function H0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=I}else for(v=0;v<o.length;v++){if(T=o[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(Y){Gu(Y)}h.currentTarget=null,d=I}}}}function Ve(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var o=t+"__bubble";a.has(o)||(F0(i,t,2,!1),a.add(o))}function kd(t,i,a){var o=0;i&&(o|=4),F0(a,t,o,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[Dc]){t[Dc]=!0,ql.forEach(function(a){a!=="selectionchange"&&(mA.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,kd("selectionchange",!1,i))}}function F0(t,i,a,o){switch(v_(i)){case 2:var h=qA;break;case 8:h=HA;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!Lr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ud(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){o=d=v;continue e}T=T.parentNode}}o=o.return}js(function(){var q=d,Y=Ln(a),J=[];e:{var F=Ap.get(t);if(F!==void 0){var Q=wi,fe=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":Q=qu;break;case"focusin":fe="focus",Q=Br;break;case"focusout":fe="blur",Q=Br;break;case"beforeblur":case"afterblur":Q=Br;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=g;break;case vp:case Ep:case bp:Q=ju;break;case Tp:Q=S;break;case"scroll":case"scrollend":Q=eo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ji;break;case"toggle":case"beforetoggle":Q=Ne}var _e=(i&4)!==0,st=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=q,B;V!==null;){var $=V;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||L===null||($=ti(V,L),$!=null&&_e.push(Mo(V,$,B))),st)break;V=V.return}0<_e.length&&(F=new Q(F,fe,null,a,Y),J.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Jl&&(fe=a.relatedTarget||a.fromElement)&&(_i(fe)||fe[pi]))break e;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=q,fe=fe?_i(fe):null,fe!==null&&(st=u(fe),_e=fe.tag,fe!==st||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(_e=to,$="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,$="onPointerLeave",L="onPointerEnter",V="pointer"),st=Q==null?F:Sn(Q),B=fe==null?F:Sn(fe),F=new _e($,V+"leave",Q,a,Y),F.target=st,F.relatedTarget=B,$=null,_i(Y)===q&&(_e=new _e(L,V+"enter",fe,a,Y),_e.target=B,_e.relatedTarget=st,$=_e),st=$,Q&&fe)t:{for(_e=gA,L=Q,V=fe,B=0,$=L;$;$=_e($))B++;$=0;for(var pe=V;pe;pe=_e(pe))$++;for(;0<B-$;)L=_e(L),B--;for(;0<$-B;)V=_e(V),$--;for(;B--;){if(L===V||V!==null&&L===V.alternate){_e=L;break t}L=_e(L),V=_e(V)}_e=null}else _e=null;Q!==null&&G0(J,F,Q,_e,!1),fe!==null&&st!==null&&G0(J,st,fe,_e,!0)}}e:{if(F=q?Sn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var Fe=op;else if(ap(F))if(up)Fe=xT;else{Fe=ST;var de=AT}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Na(q.elementType)&&(Fe=op):Fe=wT;if(Fe&&(Fe=Fe(t,q))){lp(J,Fe,a,Y);break e}de&&de(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Yl(F,"number",F.value)}switch(de=q?Sn(q):window,t){case"focusin":(ap(de)||de.contentEditable==="true")&&(La=de,df=q,ao=null);break;case"focusout":ao=df=La=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,yp(J,a,Y);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":yp(J,a,Y)}var De;if(Ye)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ka?qr(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ci&&a.locale!=="ko"&&(ka||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ka&&(De=Wl()):(Si=Y,Zl="value"in Si?Si.value:Si.textContent,ka=!0)),de=Mc(q,ke),0<de.length&&(ke=new Ri(ke,t,null,a,Y),J.push({event:ke,listeners:de}),De?ke.data=De:(De=ja(a),De!==null&&(ke.data=De)))),(De=Pn?vT(t,a):ET(t,a))&&(ke=Mc(q,"onBeforeInput"),0<ke.length&&(de=new Ri("onBeforeInput","beforeinput",null,a,Y),J.push({event:de,listeners:ke}),de.data=De)),hA(J,t,q,a,Y)}H0(J,i)})}function Mo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ti(t,a),h!=null&&o.unshift(Mo(t,h,d)),h=ti(t,i),h!=null&&o.push(Mo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function gA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G0(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=ti(a,d),q!=null&&v.unshift(Mo(a,q,I))):h||(q=ti(a,d),q!=null&&v.push(Mo(a,q,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var pA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace(pA,`
`).replace(yA,"")}function K0(t,i){return i=Q0(i),Q0(t)===i}function it(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&fn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":$l(t,o,d);break;case"data":if(i!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ia(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ei);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Ra(t,"popover",o);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ra(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,Ra(t,a,o))}}function Pd(t,i,a,o,h,d){switch(a){case"style":$l(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ra(t,a,o)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:it(t,i,d,v,a,null)}}h&&it(t,i,"srcSet",a.srcSet,a,null),o&&it(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,I=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:it(t,i,o,Y,a,null)}}Nu(t,d,T,I,q,v,h,!1);return;case"select":Ve("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:it(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Ds(t,!!o,i,!1):a!=null&&Ds(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:it(t,i,v,T,a,null)}Ms(t,o,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":it(t,i,I,o,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<Do.length;o++)Ve(Do[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:it(t,i,q,o,a,null)}return;default:if(Na(i)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Pd(t,i,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&it(t,i,T,o,a,null))}function _A(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,Y=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(Q)||it(t,i,Q,null,o,J)}}for(var F in o){var Q=o[F];if(J=a[F],o.hasOwnProperty(F)&&(Q!=null||J!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":q=Q;break;case"defaultChecked":Y=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Q!==J&&it(t,i,F,Q,o,J)}}Ca(t,v,T,I,q,Y,d,h);return;case"select":Q=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:o.hasOwnProperty(d)||it(t,i,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&it(t,i,h,d,o,I)}i=T,a=v,o=Q,F!=null?Ds(t,!!a,F,!1):!!o!=!!a&&(i!=null?Ds(t,!!a,i,!0):Ds(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&it(t,i,v,h,o,d)}Iu(t,F,Q);return;case"option":for(var fe in a)F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!o.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:it(t,i,fe,null,o,F));for(I in o)F=o[I],Q=a[I],o.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":it(t,i,I,F,o,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!o.hasOwnProperty(_e)&&it(t,i,_e,null,o,F);for(q in o)if(F=o[q],Q=a[q],o.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:it(t,i,q,F,o,Q)}return;default:if(Na(i)){for(var st in a)F=a[st],a.hasOwnProperty(st)&&F!==void 0&&!o.hasOwnProperty(st)&&Pd(t,i,st,void 0,o,F);for(Y in o)F=o[Y],Q=a[Y],!o.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||Pd(t,i,Y,F,o,Q);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!o.hasOwnProperty(L)&&it(t,i,L,null,o,F);for(J in o)F=o[J],Q=a[J],!o.hasOwnProperty(J)||F===Q||F==null&&Q==null||it(t,i,J,F,o,Q)}function Y0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&Y0(v)){for(v=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],q=I.startTime;if(q>T)break;var Y=I.transferSize,J=I.initiatorType;Y&&Y0(J)&&(I=I.responseEnd,v+=Y*(I<T?1:(T-q)/(I-q)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Bd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function X0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function EA(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var J0=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(t){return Z0.resolve(null).then(t).catch(AA)}:J0;function AA(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function W0(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),cl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Oo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Oo(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Oo(t.ownerDocument.body);a=h}while(a);cl(i)}function e_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SA(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function wA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function t_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Qn(t.nextSibling),t===null))return null;return t}function Gd(t){return t.data==="$?"||t.data==="$~"}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function n_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function i_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function s_(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Oo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xa(t)}var Kn=new Map,r_=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fs=le.d;le.d={f:RA,r:CA,D:NA,C:IA,L:DA,m:MA,X:VA,S:OA,M:jA};function RA(){var t=fs.f(),i=wc();return t||i}function CA(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):fs.r(t)}var ll=typeof document>"u"?null:document;function a_(t,i,a){var o=ll;if(o&&typeof i=="string"&&i){var h=hn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),r_.has(h)||(r_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Xt(i,"link",t),Rt(i),o.head.appendChild(i)))}}function NA(t){fs.D(t),a_("dns-prefetch",t,null)}function IA(t,i){fs.C(t,i),a_("preconnect",t,i)}function DA(t,i,a){fs.L(t,i,a);var o=ll;if(o&&t&&i){var h='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+hn(a.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var d=h;switch(i){case"style":d=ol(t);break;case"script":d=ul(t)}Kn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Vo(d))||i==="script"&&o.querySelector(jo(d))||(i=o.createElement("link"),Xt(i,"link",t),Rt(i),o.head.appendChild(i)))}}function MA(t,i){fs.m(t,i);var a=ll;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ul(t)}if(!Kn.has(d)&&(t=A({rel:"modulepreload",href:t},i),Kn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jo(d)))return}o=a.createElement("link"),Xt(o,"link",t),Rt(o),a.head.appendChild(o)}}}function OA(t,i,a){fs.S(t,i,a);var o=ll;if(o&&t){var h=vi(o).hoistableStyles,d=ol(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Vo(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(d))&&Yd(t,a);var I=v=o.createElement("link");Rt(I),Xt(I,"link",t),I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function VA(t,i){fs.X(t,i);var a=ll;if(a&&t){var o=vi(a).hoistableScripts,h=ul(t),d=o.get(h);d||(d=a.querySelector(jo(h)),d||(t=A({src:t,async:!0},i),(i=Kn.get(h))&&Xd(t,i),d=a.createElement("script"),Rt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function jA(t,i){fs.M(t,i);var a=ll;if(a&&t){var o=vi(a).hoistableScripts,h=ul(t),d=o.get(h);d||(d=a.querySelector(jo(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Kn.get(h))&&Xd(t,i),d=a.createElement("script"),Rt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function l_(t,i,a,o){var h=(h=ve.current)?Vc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ol(a.href),a=vi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ol(a.href);var d=vi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Vo(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||kA(h,t,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ul(a),a=vi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ol(t){return'href="'+hn(t)+'"'}function Vo(t){return'link[rel="stylesheet"]['+t+"]"}function o_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function kA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Xt(i,"link",a),Rt(i),t.head.appendChild(i))}function ul(t){return'[src="'+hn(t)+'"]'}function jo(t){return"script[async]"+t}function u_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return i.instance=o,Rt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Rt(o),Xt(o,"style",h),jc(o,a.precedence,t),i.instance=o;case"stylesheet":h=ol(a.href);var d=t.querySelector(Vo(h));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;o=o_(a),(h=Kn.get(h))&&Yd(o,h),d=(t.ownerDocument||t).createElement("link"),Rt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Xt(d,"link",o),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=ul(a.src),(h=t.querySelector(jo(d)))?(i.instance=h,Rt(h),h):(o=a,(h=Kn.get(d))&&(o=A({},a),Xd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Rt(h),Xt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,jc(o,a.precedence,t));return i.instance}function jc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function c_(t,i,a){if(kc===null){var o=new Map,h=kc=new Map;h.set(a,o)}else h=kc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yi]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function h_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function LA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function f_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ol(o.href),d=i.querySelector(Vo(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Rt(d);return}d=i.ownerDocument||i,o=o_(o),(h=Kn.get(h))&&Yd(o,h),d=d.createElement("link"),Rt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Xt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var $d=0;function PA(t,i){return t.stylesheets&&t.count===0&&Pc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&$d===0&&($d=62500*vA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>$d?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function Pc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(zA,t),Uc=null,Lc.call(t))}function zA(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var o=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ko={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function BA(t,i,a,o,h,d,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function d_(t,i,a,o,h,d,v,T,I,q,Y,J){return t=new BA(t,i,a,v,I,q,Y,J,T),i=1,d===!0&&(i|=24),d=Rn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Of(d),t}function m_(t){return t?(t=za,t):za}function g_(t,i,a,o,h,d){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Gs(t,o,i),a!==null&&(yn(a,t,i),mo(a,t,i))}function p_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){p_(t,i),(t=t.alternate)&&p_(t,i)}function y_(t){if(t.tag===13||t.tag===31){var i=Gr(t,67108864);i!==null&&yn(i,t,67108864),Jd(t,67108864)}}function __(t){if(t.tag===13||t.tag===31){var i=Mn();i=Or(i);var a=Gr(t,i);a!==null&&yn(a,t,i),Jd(t,i)}}var zc=!0;function qA(t,i,a,o){var h=K.T;K.T=null;var d=le.p;try{le.p=2,Zd(t,i,a,o)}finally{le.p=d,K.T=h}}function HA(t,i,a,o){var h=K.T;K.T=null;var d=le.p;try{le.p=8,Zd(t,i,a,o)}finally{le.p=d,K.T=h}}function Zd(t,i,a,o){if(zc){var h=Wd(o);if(h===null)Ud(t,i,o,Bc,a),E_(t,o);else if(GA(h,t,i,a,o))o.stopPropagation();else if(E_(t,o),i&4&&-1<FA.indexOf(t)){for(;h!==null;){var d=kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$e(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-gt(v);T.entanglements[1]|=I,v&=~I}Mi(d),(Xe&6)===0&&(Ac=Ft()+500,Io(0))}}break;case 31:case 13:T=Gr(d,2),T!==null&&yn(T,d,2),wc(),Jd(d,2)}if(d=Wd(o),d===null&&Ud(t,i,o,Bc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ud(t,i,o,null,a)}}function Wd(t){return t=Ln(t),em(t)}var Bc=null;function em(t){if(Bc=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function v_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case Nr:return 2;case Ir:return 8;case mi:case Pl:return 32;case va:return 268435456;default:return 32}default:return 32}}var tm=!1,nr=null,ir=null,sr=null,Lo=new Map,Uo=new Map,rr=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(t,i){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Lo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(i.pointerId)}}function Po(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=kn(i),i!==null&&y_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function GA(t,i,a,o,h){switch(i){case"focusin":return nr=Po(nr,t,i,a,o,h),!0;case"dragenter":return ir=Po(ir,t,i,a,o,h),!0;case"mouseover":return sr=Po(sr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Lo.set(d,Po(Lo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Uo.set(d,Po(Uo.get(d)||null,t,i,a,o,h)),!0}return!1}function b_(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){__(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){__(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Jl=o,a.target.dispatchEvent(o),Jl=null}else return i=kn(a),i!==null&&y_(i),t.blockedOn=a,!1;i.shift()}return!0}function T_(t,i,a){qc(t)&&a.delete(i)}function QA(){tm=!1,nr!==null&&qc(nr)&&(nr=null),ir!==null&&qc(ir)&&(ir=null),sr!==null&&qc(sr)&&(sr=null),Lo.forEach(T_),Uo.forEach(T_)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,tm||(tm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QA)))}var Fc=null;function A_(t){Fc!==t&&(Fc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(em(o||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function cl(t){function i(I){return Hc(I,t)}nr!==null&&Hc(nr,t),ir!==null&&Hc(ir,t),sr!==null&&Hc(sr,t),Lo.forEach(i),Uo.forEach(i);for(var a=0;a<rr.length;a++){var o=rr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)b_(a),a.blockedOn===null&&rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Pt]||null;if(typeof d=="function")v||A_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)T=v.formAction;else if(em(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),A_(a)}}}function S_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function nm(t){this._internalRoot=t}Gc.prototype.render=nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Mn();g_(a,o,t,i,null,null)},Gc.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;g_(t.current,2,null,t,null,null),wc(),i[pi]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<rr.length&&i!==0&&i<rr[a].priority;a++);rr.splice(a,0,t),a===0&&b_(t)}};var w_=e.version;if(w_!=="19.2.3")throw Error(r(527,w_,"19.2.3"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var KA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{An=Qc.inject(KA),kt=Qc}catch{}}return Bo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=My,d=Oy,v=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=d_(t,1,!1,null,null,a,o,null,h,d,v,S_),t[pi]=i.current,Ld(t),new nm(i)},Bo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",d=My,v=Oy,T=Vy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=d_(t,1,!0,i,a??null,o,h,I,d,v,T,S_),i.context=m_(null),a=i.current,o=Mn(),o=Or(o),h=Fs(o),h.callback=null,Gs(a,h,o),a=o,i.current.lanes=a,Dr(i,a),Mi(i),t[pi]=i.current,Ld(t),new Gc(i)},Bo.version="19.2.3",Bo}var j_;function iS(){if(j_)return rm.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),rm.exports=nS(),rm.exports}var sS=iS();const rS=()=>{};var k_={};const bE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},aS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],m=s[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,m=f?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,z=y&63;p||(z=64,f||(x=64)),r.push(n[b],n[A],n[x],n[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(bE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):aS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],m=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const A=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new lS;const x=u<<2|m>>4;if(r.push(x),y!==64){const z=m<<4&240|y>>2;if(r.push(z),A!==64){const W=y<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class lS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(s){const e=bE(s);return TE.encodeByteArray(e,!0)},dh=function(s){return oS(s).replace(/\./g,"")},AE=function(s){try{return TE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof k_>"u")return;const s=k_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},fS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&AE(s[1]);return e&&JSON.parse(e)},Vh=()=>{try{return rS()||cS()||hS()||fS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},SE=s=>Vh()?.emulatorHosts?.[s],dS=s=>{const e=SE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wE=()=>Vh()?.config,xE=s=>Vh()?.[`_${s}`];class mS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Nl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(s){return(await fetch(s,{credentials:"include"})).ok}function gS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const Yo={};function pS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Yo))Yo[e]?s.emulator.push(e):s.prod.push(e);return s}function yS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let L_=!1;function CE(s,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||Yo[s]===e||Yo[s]||L_)return;Yo[s]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",u=pS().prod.length>0;function f(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,z){x.setAttribute("width","24"),x.setAttribute("id",z),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{L_=!0,f()},x}function b(x,z){x.setAttribute("id",z),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=yS(r),z=n("text"),W=document.getElementById(z)||document.createElement("span"),te=n("learnmore"),X=document.getElementById(te)||document.createElement("a"),se=n("preprendIcon"),re=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;m(ae),b(X,te);const xe=y();p(re,se),ae.append(re,W,X,xe),document.body.appendChild(ae)}u?(W.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function vS(){const s=Vh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function TS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AS(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function SS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const RS="FirebaseError";class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RS,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?CS(u,r):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Ss(l,m,r)}}function CS(s,e){return s.replace(NS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const NS=/\{\$([^}]+)}/g;function IS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ua(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],f=e[l];if(U_(u)&&U_(f)){if(!ua(u,f))return!1}else if(u!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function U_(s){return s!==null&&typeof s=="object"}function du(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DS(s,e){const n=new MS(s,e);return n.subscribe.bind(n)}class MS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=um),l.error===void 0&&(l.error=um),l.complete===void 0&&(l.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function um(){}function on(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sa="[DEFAULT]";class VS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kS(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jS(s){return s===sa?void 0:s}function kS(s){return s.instantiationMode==="EAGER"}class LS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const US={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},PS=Le.INFO,zS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},BS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=zS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=PS,this._logHandler=BS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const qS=(s,e)=>e.some(n=>s instanceof n);let P_,z_;function HS(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return z_||(z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,wm=new WeakMap,IE=new WeakMap,cm=new WeakMap,ag=new WeakMap;function GS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(fr(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&NE.set(n,s)}).catch(()=>{}),ag.set(e,s),e}function QS(s){if(wm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});wm.set(s,e)}let xm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return wm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||IE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function KS(s){xm=s(xm)}function YS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(hm(this),e,...n);return IE.set(r,e.sort?e.sort():[e]),fr(r)}:FS().includes(s)?function(...e){return s.apply(hm(this),e),fr(NE.get(this))}:function(...e){return fr(s.apply(hm(this),e))}}function XS(s){return typeof s=="function"?YS(s):(s instanceof IDBTransaction&&QS(s),qS(s,HS())?new Proxy(s,xm):s)}function fr(s){if(s instanceof IDBRequest)return GS(s);if(cm.has(s))return cm.get(s);const e=XS(s);return e!==s&&(cm.set(s,e),ag.set(e,s)),e}const hm=s=>ag.get(s);function $S(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),m=fr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(fr(f.result),p.oldVersion,p.newVersion,fr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const JS=["get","getKey","getAll","getAllKeys","count"],ZS=["put","add","delete","clear"],fm=new Map;function B_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=ZS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||JS.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&p.done]))[0]};return fm.set(e,u),u}KS(s=>({...s,get:(e,n,r)=>B_(e,n)||s.get(e,n,r),has:(e,n)=>!!B_(e,n)||s.has(e,n)}));class WS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ew(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ew(s){return s.getComponent()?.type==="VERSION"}const Rm="@firebase/app",q_="0.14.6";const _s=new rg("@firebase/app"),tw="@firebase/app-compat",nw="@firebase/analytics-compat",iw="@firebase/analytics",sw="@firebase/app-check-compat",rw="@firebase/app-check",aw="@firebase/auth",lw="@firebase/auth-compat",ow="@firebase/database",uw="@firebase/data-connect",cw="@firebase/database-compat",hw="@firebase/functions",fw="@firebase/functions-compat",dw="@firebase/installations",mw="@firebase/installations-compat",gw="@firebase/messaging",pw="@firebase/messaging-compat",yw="@firebase/performance",_w="@firebase/performance-compat",vw="@firebase/remote-config",Ew="@firebase/remote-config-compat",bw="@firebase/storage",Tw="@firebase/storage-compat",Aw="@firebase/firestore",Sw="@firebase/ai",ww="@firebase/firestore-compat",xw="firebase",Rw="12.6.0";const Cm="[DEFAULT]",Cw={[Rm]:"fire-core",[tw]:"fire-core-compat",[iw]:"fire-analytics",[nw]:"fire-analytics-compat",[rw]:"fire-app-check",[sw]:"fire-app-check-compat",[aw]:"fire-auth",[lw]:"fire-auth-compat",[ow]:"fire-rtdb",[uw]:"fire-data-connect",[cw]:"fire-rtdb-compat",[hw]:"fire-fn",[fw]:"fire-fn-compat",[dw]:"fire-iid",[mw]:"fire-iid-compat",[gw]:"fire-fcm",[pw]:"fire-fcm-compat",[yw]:"fire-perf",[_w]:"fire-perf-compat",[vw]:"fire-rc",[Ew]:"fire-rc-compat",[bw]:"fire-gcs",[Tw]:"fire-gcs-compat",[Aw]:"fire-fst",[ww]:"fire-fst-compat",[Sw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};const mh=new Map,Nw=new Map,Nm=new Map;function H_(s,e){try{s.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function bl(s){const e=s.name;if(Nm.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,s);for(const n of mh.values())H_(n,s);for(const n of Nw.values())H_(n,s);return!0}function lg(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ji(s){return s==null?!1:s.settings!==void 0}const Iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new fu("app","Firebase",Iw);class Dw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Il=Rw;function DE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Cm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(n||(n=wE()),!n)throw dr.create("no-options");const u=mh.get(l);if(u){if(ua(n,u.options)&&ua(r,u.config))return u;throw dr.create("duplicate-app",{appName:l})}const f=new LS(l);for(const p of Nm.values())f.addComponent(p);const m=new Dw(n,r,f);return mh.set(l,m),m}function ME(s=Cm){const e=mh.get(s);if(!e&&s===Cm&&wE())return DE();if(!e)throw dr.create("no-app",{appName:s});return e}function mr(s,e,n){let r=Cw[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(f.join(" "));return}bl(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Mw="firebase-heartbeat-database",Ow=1,eu="firebase-heartbeat-store";let dm=null;function OE(){return dm||(dm=$S(Mw,Ow,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),dm}async function Vw(s){try{const n=(await OE()).transaction(eu),r=await n.objectStore(eu).get(VE(s));return await n.done,r}catch(e){if(e instanceof Ss)_s.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e?.message});_s.warn(n.message)}}}async function F_(s,e){try{const r=(await OE()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,VE(s)),await r.done}catch(n){if(n instanceof Ss)_s.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n?.message});_s.warn(r.message)}}}function VE(s){return`${s.name}!${s.options.appId}`}const jw=1024,kw=30;class Lw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Pw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kw){const l=zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G_(),{heartbeatsToSend:n,unsentEntries:r}=Uw(this._heartbeatsCache.heartbeats),l=dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return _s.warn(e),""}}}function G_(){return new Date().toISOString().substring(0,10)}function Uw(s,e=jw){const n=[];let r=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Q_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Q_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Pw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Q_(s){return dh(JSON.stringify({version:2,heartbeats:s})).length}function zw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function Bw(s){bl(new ca("platform-logger",e=>new WS(e),"PRIVATE")),bl(new ca("heartbeat",e=>new Lw(e),"PRIVATE")),mr(Rm,q_,s),mr(Rm,q_,"esm2020"),mr("fire-js","")}Bw("");var qw="firebase",Hw="12.7.0";mr(qw,Hw,"app");function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fw=jE,kE=new fu("auth","Firebase",jE());const gh=new rg("@firebase/auth");function Gw(s,...e){gh.logLevel<=Le.WARN&&gh.warn(`Auth (${Il}): ${s}`,...e)}function eh(s,...e){gh.logLevel<=Le.ERROR&&gh.error(`Auth (${Il}): ${s}`,...e)}function vs(s,...e){throw og(s,...e)}function ki(s,...e){return og(s,...e)}function LE(s,e,n){const r={...Fw(),[e]:n};return new fu("auth","Firebase",r).create(e,{appName:s.name})}function la(s){return LE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return kE.create(s,...e)}function Te(s,e,...n){if(!s)throw og(e,...n)}function ms(s){const e="INTERNAL ASSERTION FAILED: "+s;throw eh(e),new Error(e)}function Es(s,e){s||ms(e)}function Im(){return typeof self<"u"&&self.location?.href||""}function Qw(){return K_()==="http:"||K_()==="https:"}function K_(){return typeof self<"u"&&self.location?.protocol||null}function Kw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qw()||bS()||"connection"in navigator)?navigator.onLine:!0}function Yw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=_S()||TS()}get(){return Kw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(s,e){Es(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $w=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jw=new mu(3e4,6e4);function cg(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Dl(s,e,n,r,l={}){return PE(s,l,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=du({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...u};return ES()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(y.credentials="include"),UE.fetch()(await zE(s,s.config.apiHost,n,m),y)})}async function PE(s,e,n){s._canInitEmulator=!1;const r={...Xw,...e};try{const l=new Ww(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(s,"user-disabled",f);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw LE(s,b,y);vs(s,b)}}catch(l){if(l instanceof Ss)throw l;vs(s,"network-request-failed",{message:String(l)})}}async function Zw(s,e,n,r,l={}){const u=await Dl(s,e,n,r,l);return"mfaPendingCredential"in u&&vs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function zE(s,e,n,r){const l=`${e}${n}?${r}`,u=s,f=u.config.emulator?ug(s.config,l):`${s.config.apiScheme}://${l}`;return $w.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),Jw.get())})}}function Kc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=ki(s,e,r);return l.customData._tokenResponse=n,l}async function ex(s,e){return Dl(s,"POST","/v1/accounts:delete",e)}async function ph(s,e){return Dl(s,"POST","/v1/accounts:lookup",e)}function Xo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tx(s,e=!1){const n=on(s),r=await n.getIdToken(e),l=hg(r);Te(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:r,authTime:Xo(mm(l.auth_time)),issuedAtTime:Xo(mm(l.iat)),expirationTime:Xo(mm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(s){return Number(s)*1e3}function hg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const l=AE(n);return l?JSON.parse(l):(eh("Failed to decode base64 JWT payload"),null)}catch(l){return eh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Y_(s){const e=hg(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ss&&nx(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function nx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class ix{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(s){const e=s.auth,n=await s.getIdToken(),r=await tu(s,ph(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?BE(l.providerUserInfo):[],f=rx(s.providerData,u),m=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!f?.length,y=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function sx(s){const e=on(s);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rx(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function BE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ax(s,e){const n=await PE(s,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await zE(s,l,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return s.emulatorConfig&&Nl(s.emulatorConfig.host)&&(p.credentials="include"),UE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lx(s,e){return Dl(s,"POST","/v2/accounts:revokeToken",cg(s,e))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await ax(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,f=new pl;return r&&(Te(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(Te(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return ms("not implemented")}}function lr(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new ix(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tx(this,e)}reload(){return sx(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await tu(this,ex(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:z,providerData:W,stsTokenManager:te}=n;Te(A&&te,e,"internal-error");const X=pl.fromJSON(this.name,te);Te(typeof A=="string",e,"internal-error"),lr(r,e.name),lr(l,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof z=="boolean",e,"internal-error"),lr(u,e.name),lr(f,e.name),lr(m,e.name),lr(p,e.name),lr(y,e.name),lr(b,e.name);const se=new oi({uid:A,auth:e,email:l,emailVerified:x,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:X,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(se.providerData=W.map(re=>({...re}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,r=!1){const l=new pl;l.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Te(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?BE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new pl;m.updateFromIdToken(r);const p=new oi({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const X_=new Map;function gs(s){Es(s instanceof Function,"Expected a class definition");let e=X_.get(s);return e?(Es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,X_.set(s,e),e)}class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const $_=qE;function th(s,e,n){return`firebase:${s}:${e}:${n}`}class yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=th(this.userKey,l.apiKey,u),this.fullPersistenceKey=th("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yl(gs($_),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||gs($_);const f=th(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const x=await ph(e,{idToken:b}).catch(()=>{});if(!x)break;A=await oi._fromGetAccountInfoResponse(e,x,b)}else A=oi._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yl(u,e,r):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new yl(u,e,r))}}function J_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YE(e))return"Blackberry";if(XE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(KE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function HE(s=rn()){return/firefox\//i.test(s)}function FE(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(s=rn()){return/crios\//i.test(s)}function QE(s=rn()){return/iemobile/i.test(s)}function KE(s=rn()){return/android/i.test(s)}function YE(s=rn()){return/blackberry/i.test(s)}function XE(s=rn()){return/webos/i.test(s)}function fg(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ox(s=rn()){return fg(s)&&!!window.navigator?.standalone}function ux(){return AS()&&document.documentMode===10}function $E(s=rn()){return fg(s)||KE(s)||XE(s)||YE(s)||/windows phone/i.test(s)||QE(s)}function JE(s,e=[]){let n;switch(s){case"Browser":n=J_(rn());break;case"Worker":n=`${J_(rn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}class cx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hx(s,e={}){return Dl(s,"GET","/v2/passwordPolicy",cg(s,e))}const fx=6;class dx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class mx{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ji(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(r=m.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(la(this));const n=e?on(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hx(this),n=new dx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Gw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dg(s){return on(s)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gx(s){mg=s}function px(s){return mg.loadJS(s)}function yx(){return mg.gapiScript}function _x(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function vx(s,e){const n=lg(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return l;vs(l,"already-initialized")}return n.initialize({options:e})}function Ex(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function bx(s,e,n){const r=dg(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=ZE(e),{host:f,port:m}=Tx(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ua(y,r.config.emulator)&&ua(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Nl(f)?(RE(`${u}//${f}${p}`),CE("Auth",!0)):Ax()}function ZE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Tx(s){const e=ZE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:W_(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:W_(f)}}}function W_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Ax(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class WE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function _l(s,e){return Zw(s,"POST","/v1/accounts:signInWithIdp",cg(s,e))}const Sx="http://localhost";class ha extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const f=new ha(r,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:Sx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}class e1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends gu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ds extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class ur extends gu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends gu{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await oi._fromIdTokenResponse(e,r,l),f=ev(r);return new Tl({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=ev(r);return new Tl({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function ev(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class _h extends Ss{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new _h(e,n,r,l)}}function t1(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(s,u,e,r):u})}async function wx(s,e,n=!1){const r=await tu(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Tl._forOperation(s,"link",r)}async function xx(s,e,n=!1){const{auth:r}=s;if(ji(r.app))return Promise.reject(la(r));const l="reauthenticate";try{const u=await tu(s,t1(r,l,e,s),n);Te(u.idToken,r,"internal-error");const f=hg(u.idToken);Te(f,r,"internal-error");const{sub:m}=f;return Te(s.uid===m,r,"user-mismatch"),Tl._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&vs(r,"user-mismatch"),u}}async function Rx(s,e,n=!1){if(ji(s.app))return Promise.reject(la(s));const r="signIn",l=await t1(s,r,e),u=await Tl._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}function Cx(s,e,n,r){return on(s).onIdTokenChanged(e,n,r)}function Nx(s,e,n){return on(s).beforeAuthStateChanged(e,n)}const vh="__sak";class n1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ix=1e3,Dx=10;class i1 extends n1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);ux()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Dx):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ix)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}i1.type="LOCAL";const Mx=i1;class s1 extends n1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}s1.type="SESSION";const r1=s1;function Ox(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await Ox(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function gg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class Vx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=gg("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function jx(s){Li().location.href=s}function a1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function kx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lx(){return navigator?.serviceWorker?.controller||null}function Ux(){return a1()?self:null}const l1="firebaseLocalStorageDb",Px=1,Eh="firebaseLocalStorage",o1="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(s,e){return s.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function zx(){const s=indexedDB.deleteDatabase(l1);return new pu(s).toPromise()}function Mm(){const s=indexedDB.open(l1,Px);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Eh,{keyPath:o1})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await zx(),e(await Mm()))})})}async function tv(s,e,n){const r=kh(s,!0).put({[o1]:e,value:n});return new pu(r).toPromise()}async function Bx(s,e){const n=kh(s,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function nv(s,e){const n=kh(s,!0).delete(e);return new pu(n).toPromise()}const qx=800,Hx=3;class u1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(Ux()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kx(),!this.activeServiceWorker)return;this.sender=new Vx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await tv(e,vh,"1"),await nv(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Bx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=kh(l,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u1.type="LOCAL";const Fx=u1;new mu(3e4,6e4);function Gx(s,e){return e?gs(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class pg extends WE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qx(s){return Rx(s.auth,new pg(s),s.bypassAuthState)}function Kx(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),xx(n,new pg(s),s.bypassAuthState)}async function Yx(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),wx(n,new pg(s),s.bypassAuthState)}class c1{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qx;case"linkViaPopup":case"linkViaRedirect":return Yx;case"reauthViaPopup":case"reauthViaRedirect":return Kx;default:vs(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xx=new mu(2e3,1e4);class gl extends c1{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xx.get())};e()}}gl.currentPopupAction=null;const $x="pendingRedirect",nh=new Map;class Jx extends c1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const r=await Zx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zx(s,e){const n=t2(e),r=e2(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function Wx(s,e){nh.set(s._key(),e)}function e2(s){return gs(s._redirectPersistence)}function t2(s){return th($x,s.config.apiKey,s.name)}async function n2(s,e,n=!1){if(ji(s.app))return Promise.reject(la(s));const r=dg(s),l=Gx(r,e),f=await new Jx(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const i2=600*1e3;class s2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!h1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ki(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iv(e))}saveEventToCache(e){this.cachedEventUids.add(iv(e)),this.lastProcessedEventTime=Date.now()}}function iv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function h1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function r2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h1(s);default:return!1}}async function a2(s,e={}){return Dl(s,"GET","/v1/projects",e)}const l2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;async function u2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await a2(s);for(const n of e)try{if(c2(n))return}catch{}vs(s,"unauthorized-domain")}function c2(s){const e=Im(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!o2.test(n))return!1;if(l2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const h2=new mu(3e4,6e4);function sv(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function f2(s){return new Promise((e,n)=>{function r(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),n(ki(s,"network-request-failed"))},timeout:h2.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const l=_x("iframefcb");return Li()[l]=()=>{gapi.load?r():n(ki(s,"network-request-failed"))},px(`${yx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ih=null,e})}let ih=null;function d2(s){return ih=ih||f2(s),ih}const m2=new mu(5e3,15e3),g2="__/auth/iframe",p2="emulator/auth/iframe",y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?ug(e,p2):`https://${s.config.authDomain}/${g2}`,r={apiKey:e.apiKey,appName:s.name,v:Il},l=_2.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${du(r).slice(1)}`}async function E2(s){const e=await d2(s),n=Li().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:v2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y2,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const f=ki(s,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},m2.get());function p(){Li().clearTimeout(m),l(r)}r.ping(p).then(p,()=>{u(f)})}))}const b2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T2=500,A2=600,S2="_blank",w2="http://localhost";class rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x2(s,e,n,r=T2,l=A2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...b2,width:r.toString(),height:l.toString(),top:u,left:f},y=rn().toLowerCase();n&&(m=GE(y)?S2:n),HE(y)&&(e=e||w2,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[z,W])=>`${x}${z}=${W},`,"");if(ox(y)&&m!=="_self")return R2(e||"",m),new rv(null);const A=window.open(e||"",m,b);Te(A,s,"popup-blocked");try{A.focus()}catch{}return new rv(A)}function R2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const C2="__/auth/handler",N2="emulator/auth/handler",I2=encodeURIComponent("fac");async function av(s,e,n,r,l,u){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Il,eventId:l};if(e instanceof e1){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",IS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof gu){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await s._getAppCheckToken(),y=p?`#${I2}=${encodeURIComponent(p)}`:"";return`${D2(s)}?${du(m).slice(1)}${y}`}function D2({config:s}){return s.emulator?ug(s,N2):`https://${s.authDomain}/${C2}`}const gm="webStorageSupport";class M2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r1,this._completeRedirectFn=n2,this._overrideRedirectResult=Wx}async _openPopup(e,n,r,l){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await av(e,n,r,Im(),l);return x2(e,u,gg())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await av(e,n,r,Im(),l);return jx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Es(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E2(e),r=new s2(e);return n.register("authEvent",l=>(Te(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},l=>{const u=l?.[0]?.[gm];u!==void 0&&n(!!u),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $E()||FE()||fg()}}const O2=M2;var lv="@firebase/auth",ov="1.12.0";class V2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k2(s){bl(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(s)},y=new mx(r,l,u,p);return Ex(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bl(new ca("auth-internal",e=>{const n=dg(e.getProvider("auth").getImmediate());return(r=>new V2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(lv,ov,j2(s)),mr(lv,ov,"esm2020")}const L2=300,U2=xE("authIdTokenMaxAge")||L2;let uv=null;const P2=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U2)return;const l=n?.token;uv!==l&&(uv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function z2(s=ME()){const e=lg(s,"auth");if(e.isInitialized())return e.getImmediate();const n=vx(s,{popupRedirectResolver:O2,persistence:[Fx,Mx,r1]}),r=xE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=P2(u.toString());Nx(n,f,()=>f(n.currentUser)),Cx(n,m=>f(m))}}const l=SE("auth");return l&&bx(n,`http://${l}`),n}function B2(){return document.getElementsByTagName("head")?.[0]??document}gx({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=ki("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",B2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k2("Browser");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,f1;(function(){var s;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,M,k){for(var N=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)N[Qe-2]=arguments[Qe];return w.prototype[M].apply(O,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const O=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)O[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)O[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],M=C.g[2];let k=C.g[3],N;N=w+(k^R&(M^k))+O[0]+3614090360&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(M^w&(R^M))+O[1]+3905402710&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(R^k&(w^R))+O[2]+606105819&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(w^M&(k^w))+O[3]+3250441966&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(k^R&(M^k))+O[4]+4118548399&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(M^w&(R^M))+O[5]+1200080426&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(R^k&(w^R))+O[6]+2821735955&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(w^M&(k^w))+O[7]+4249261313&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(k^R&(M^k))+O[8]+1770035416&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(M^w&(R^M))+O[9]+2336552879&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(R^k&(w^R))+O[10]+4294925233&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(w^M&(k^w))+O[11]+2304563134&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(k^R&(M^k))+O[12]+1804603682&4294967295,w=R+(N<<7&4294967295|N>>>25),N=k+(M^w&(R^M))+O[13]+4254626195&4294967295,k=w+(N<<12&4294967295|N>>>20),N=M+(R^k&(w^R))+O[14]+2792965006&4294967295,M=k+(N<<17&4294967295|N>>>15),N=R+(w^M&(k^w))+O[15]+1236535329&4294967295,R=M+(N<<22&4294967295|N>>>10),N=w+(M^k&(R^M))+O[1]+4129170786&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(w^R))+O[6]+3225465664&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(k^w))+O[11]+643717713&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(M^k))+O[0]+3921069994&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(R^M))+O[5]+3593408605&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(w^R))+O[10]+38016083&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(k^w))+O[15]+3634488961&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(M^k))+O[4]+3889429448&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(R^M))+O[9]+568446438&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(w^R))+O[14]+3275163606&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(k^w))+O[3]+4107603335&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(M^k))+O[8]+1163531501&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(M^k&(R^M))+O[13]+2850285829&4294967295,w=R+(N<<5&4294967295|N>>>27),N=k+(R^M&(w^R))+O[2]+4243563512&4294967295,k=w+(N<<9&4294967295|N>>>23),N=M+(w^R&(k^w))+O[7]+1735328473&4294967295,M=k+(N<<14&4294967295|N>>>18),N=R+(k^w&(M^k))+O[12]+2368359562&4294967295,R=M+(N<<20&4294967295|N>>>12),N=w+(R^M^k)+O[5]+4294588738&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^M)+O[8]+2272392833&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^R)+O[11]+1839030562&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^w)+O[14]+4259657740&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^k)+O[1]+2763975236&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^M)+O[4]+1272893353&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^R)+O[7]+4139469664&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^w)+O[10]+3200236656&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^k)+O[13]+681279174&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^M)+O[0]+3936430074&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^R)+O[3]+3572445317&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^w)+O[6]+76029189&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(R^M^k)+O[9]+3654602809&4294967295,w=R+(N<<4&4294967295|N>>>28),N=k+(w^R^M)+O[12]+3873151461&4294967295,k=w+(N<<11&4294967295|N>>>21),N=M+(k^w^R)+O[15]+530742520&4294967295,M=k+(N<<16&4294967295|N>>>16),N=R+(M^k^w)+O[2]+3299628645&4294967295,R=M+(N<<23&4294967295|N>>>9),N=w+(M^(R|~k))+O[0]+4096336452&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~M))+O[7]+1126891415&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~R))+O[14]+2878612391&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~w))+O[5]+4237533241&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~k))+O[12]+1700485571&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~M))+O[3]+2399980690&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~R))+O[10]+4293915773&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~w))+O[1]+2240044497&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~k))+O[8]+1873313359&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~M))+O[15]+4264355552&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~R))+O[6]+2734768916&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~w))+O[13]+1309151649&4294967295,R=M+(N<<21&4294967295|N>>>11),N=w+(M^(R|~k))+O[4]+4149444226&4294967295,w=R+(N<<6&4294967295|N>>>26),N=k+(R^(w|~M))+O[11]+3174756917&4294967295,k=w+(N<<10&4294967295|N>>>22),N=M+(w^(k|~R))+O[2]+718787259&4294967295,M=k+(N<<15&4294967295|N>>>17),N=R+(k^(M|~w))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,O=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(O[M++]=C.charCodeAt(k++),M==this.blockSize){l(this,O),M=0;break}}else for(;k<w;)if(O[M++]=C[k++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[w++]=this.g[R]>>>O&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function f(C,w){this.h=w;const R=[];let O=!0;for(let M=C.length-1;M>=0;M--){const k=C[M]|0;O&&k==w||(R[M]=k,O=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new f([w|0],w<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return X(y(-C));const w=[];let R=1;for(let O=0;C>=R;O++)w[O]=C/R|0,R*=4294967296;return new f(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return X(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let O=A;for(let k=0;k<C.length;k+=8){var M=Math.min(8,C.length-k);const N=parseInt(C.substring(k,k+M),w);M<8?(M=y(Math.pow(w,M)),O=O.j(M).add(y(N))):(O=O.j(R),O=O.add(y(N)))}return O}var A=p(0),x=p(1),z=p(16777216);s=f.prototype,s.m=function(){if(te(this))return-X(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(te(this))return"-"+X(this).toString(C);const w=y(Math.pow(C,6));var R=this;let O="";for(;;){const M=xe(R,w).g;R=se(R,M.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,W(R))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function te(C){return C.h==-1}s.l=function(C){return C=se(this,C),te(C)?-1:W(C)?0:1};function X(C){const w=C.g.length,R=[];for(let O=0;O<w;O++)R[O]=~C.g[O];return new f(R,~C.h).add(x)}s.abs=function(){return te(this)?X(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let M=0;M<=w;M++){let k=O+(this.i(M)&65535)+(C.i(M)&65535),N=(k>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);O=N>>>16,k&=65535,N&=65535,R[M]=N<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function se(C,w){return C.add(X(w))}s.j=function(C){if(W(this)||W(C))return A;if(te(this))return te(C)?X(this).j(X(C)):X(X(this).j(C));if(te(C))return X(this.j(X(C)));if(this.l(z)<0&&C.l(z)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<C.g.length;M++){const k=this.i(O)>>>16,N=this.i(O)&65535,Qe=C.i(M)>>>16,ct=C.i(M)&65535;R[2*O+2*M]+=N*ct,re(R,2*O+2*M),R[2*O+2*M+1]+=k*ct,re(R,2*O+2*M+1),R[2*O+2*M+1]+=N*Qe,re(R,2*O+2*M+1),R[2*O+2*M+2]+=k*Qe,re(R,2*O+2*M+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new f(R,0)};function re(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ae(C,w){this.g=C,this.h=w}function xe(C,w){if(W(w))throw Error("division by zero");if(W(C))return new ae(A,A);if(te(C))return w=xe(X(C),w),new ae(X(w.g),X(w.h));if(te(w))return w=xe(C,X(w)),new ae(X(w.g),w.h);if(C.g.length>30){if(te(C)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var R=x,O=w;O.l(C)<=0;)R=Re(R),O=Re(O);var M=be(R,1),k=be(O,1);for(O=be(O,2),R=be(R,2);!W(O);){var N=k.add(O);N.l(C)<=0&&(M=M.add(R),k=N),O=be(O,1),R=be(R,1)}return w=se(C,M.j(w)),new ae(M,w)}for(M=A;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(R),N=k.j(w);te(N)||N.l(C)>0;)R-=O,k=y(R),N=k.j(w);W(k)&&(k=x),M=M.add(k),C=se(C,N)}return new ae(M,C)}s.B=function(C){return xe(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)&C.i(O);return new f(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)|C.i(O);return new f(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<w;O++)R[O]=this.i(O)^C.i(O);return new f(R,this.h^C.h)};function Re(C){const w=C.g.length+1,R=[];for(let O=0;O<w;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new f(R,C.h)}function be(C,w){const R=w>>5;w%=32;const O=C.g.length-R,M=[];for(let k=0;k<O;k++)M[k]=w>0?C.i(k+R)>>>w|C.i(k+R+1)<<32-w:C.i(k+R);return new f(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,gr=f}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var d1,Ho,m1,sh,Om,g1,p1,y1;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var g=0;g<c.length;++g){var E=c[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(c,g){if(g)e:{var E=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in E))break e;E=E[P]}c=c[c.length-1],S=E[c],g=g(S),g!=S&&g!=null&&e(E,c,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(g){var E=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&E.push([S,g[S]]);return E}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,E){return c.call.apply(c.bind,arguments)}function y(c,g,E){return y=p,y.apply(null,arguments)}function b(c,g){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,g){function E(){}E.prototype=g.prototype,c.Z=g.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,P,G){for(var oe=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)oe[Ne-2]=arguments[Ne];return g.prototype[P].apply(S,oe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const g=c.length;if(g>0){const E=Array(g);for(let S=0;S<g;S++)E[S]=c[S];return E}return[]}function W(c,g){for(let S=1;S<arguments.length;S++){const P=arguments[S];var E=typeof P;if(E=E!="object"?E:P?Array.isArray(P)?"array":E:"null",E=="array"||E=="object"&&typeof P.length=="number"){E=c.length||0;const G=P.length||0;c.length=E+G;for(let oe=0;oe<G;oe++)c[E+oe]=P[oe]}else c.push(P)}}class te{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(c){f.setTimeout(()=>{throw c},0)}function se(){var c=C;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class re{constructor(){this.h=this.g=null}add(g,E){const S=ae.get();S.set(g,E),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new te(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,be=!1,C=new re,w=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(R)}};function R(){for(var c;c=se();){try{c.h.call(c.g)}catch(E){X(E)}var g=ae;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}be=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,g),f.removeEventListener("test",E,g)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Qe(c,g){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(Qe,M),Qe.prototype.init=function(c,g){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(E=="mouseover"?g=c.fromElement:E=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),K=0;function le(c,g,E,S,P){this.listener=c,this.proxy=null,this.src=g,this.type=E,this.capture=!!S,this.ha=P,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,g,E){for(const S in c)g.call(E,c[S],S,c)}function Be(c,g){for(const E in c)g.call(void 0,c[E],E,c)}function D(c){const g={};for(const E in c)g[E]=c[E];return g}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,g){let E,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(E in S)c[E]=S[E];for(let G=0;G<U.length;G++)E=U[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,E,S,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const oe=ve(c,g,S,P);return oe>-1?(g=c[oe],E||(g.fa=!1)):(g=new le(g,this.src,G,!!S,P),g.fa=E,c.push(g)),g};function ge(c,g){const E=g.type;if(E in c.g){var S=c.g[E],P=Array.prototype.indexOf.call(S,g,void 0),G;(G=P>=0)&&Array.prototype.splice.call(S,P,1),G&&(me(g),c.g[E].length==0&&(delete c.g[E],c.h--))}}function ve(c,g,E,S){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==g&&G.capture==!!E&&G.ha==S)return P}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),ht={};function Ke(c,g,E,S,P){if(Array.isArray(g)){for(let G=0;G<g.length;G++)Ke(c,g[G],E,S,P);return null}return E=Cs(E),c&&c[ct]?c.J(g,E,m(S)?!!S.capture:!1,P):fi(c,g,E,!1,S,P)}function fi(c,g,E,S,P,G){if(!g)throw Error("Invalid event type");const oe=m(P)?!!P.capture:!!P;let Ne=Qi(c);if(Ne||(c[Ce]=Ne=new ue(c)),E=Ne.add(g,E,S,oe,G),E.proxy)return E;if(S=Jn(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)k||(P=oe),P===void 0&&(P=!1),c.addEventListener(g.toString(),S,P);else if(c.attachEvent)c.attachEvent(bn(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Jn(){function c(E){return g.call(c.src,c.listener,E)}const g=di;return c}function xs(c,g,E,S,P){if(Array.isArray(g))for(var G=0;G<g.length;G++)xs(c,g[G],E,S,P);else S=m(S)?!!S.capture:!!S,E=Cs(E),c&&c[ct]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],E=ve(g,E,S,P),E>-1&&(me(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=Qi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ve(g,E,S,P)),(E=c>-1?g[c]:null)&&Gi(E))}function Gi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ct])ge(g.i,c);else{var E=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(E,S,c.capture):g.detachEvent?g.detachEvent(bn(E),S):g.addListener&&g.removeListener&&g.removeListener(S),(E=Qi(g))?(ge(E,c),E.h==0&&(E.src=null,g[Ce]=null)):me(c)}}}function bn(c){return c in ht?ht[c]:ht[c]="on"+c}function di(c,g){if(c.da)c=!0;else{g=new Qe(g,this);const E=c.listener,S=c.ha||c.src;c.fa&&Gi(c),c=E.call(S,g)}return c}function Qi(c){return c=c[Ce],c instanceof ue?c:null}var Rs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cs(c){return typeof c=="function"?c:(c[Rs]||(c[Rs]=function(g){return c.handleEvent(g)}),c[Rs])}function mt(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}A(mt,O),mt.prototype[ct]=!0,mt.prototype.removeEventListener=function(c,g,E,S){xs(this,c,g,E,S)};function yt(c,g){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new M(g,c);else if(g instanceof M)g.target=g.target||c;else{var P=g;g=new M(S,c),ne(g,P)}P=!0;let G,oe;if(E)for(oe=E.length-1;oe>=0;oe--)G=g.g=E[oe],P=Tn(G,S,!0,g)&&P;if(G=g.g=c,P=Tn(G,S,!0,g)&&P,P=Tn(G,S,!1,g)&&P,E)for(oe=0;oe<E.length;oe++)G=g.g=E[oe],P=Tn(G,S,!1,g)&&P}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const E=c.g[g];for(let S=0;S<E.length;S++)me(E[S]);delete c.g[g],c.h--}}this.G=null},mt.prototype.J=function(c,g,E,S){return this.i.add(String(c),g,!1,E,S)},mt.prototype.K=function(c,g,E,S){return this.i.add(String(c),g,!0,E,S)};function Tn(c,g,E,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let G=0;G<g.length;++G){const oe=g[G];if(oe&&!oe.da&&oe.capture==E){const Ne=oe.listener,Et=oe.ha||oe.src;oe.fa&&ge(c.i,oe),P=Ne.call(Et,S)!==!1&&P}}return P&&!S.defaultPrevented}function Cr(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function _a(c){c.g=Cr(()=>{c.g=null,c.i&&(c.i=!1,_a(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ft extends O{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(c){O.call(this),this.h=c,this.g={}}A(Ki,O);var Nr=[];function Ir(c){Me(c.g,function(g,E){this.g.hasOwnProperty(E)&&Gi(g)},c),c.g={}}Ki.prototype.N=function(){Ki.Z.N.call(this),Ir(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=f.JSON.stringify,Pl=f.JSON.parse,va=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ea(){}function ba(){}var An={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kt(){M.call(this,"d")}A(kt,M);function un(){M.call(this,"c")}A(un,M);var gt={},Ta=null;function Ns(){return Ta=Ta||new mt}gt.Ia="serverreachability";function Aa(c){M.call(this,gt.Ia,c)}A(Aa,M);function Vn(c){const g=Ns();yt(g,new Aa(g))}gt.STAT_EVENT="statevent";function j(c,g){M.call(this,gt.STAT_EVENT,c),this.stat=g}A(j,M);function ie(c){const g=Ns();yt(g,new j(g,c))}gt.Ja="timingevent";function $e(c,g){M.call(this,gt.Ja,c),this.size=g}A($e,M);function cn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function wt(){this.g=!0}wt.prototype.ua=function(){this.g=!1};function gi(c,g,E,S,P,G){c.info(function(){if(c.g)if(G){var oe="",Ne=G.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var Et=Ne[Ye].split("=");if(Et.length>1){const ft=Et[0];Et=Et[1];const Pn=ft.split("_");oe=Pn.length>=2&&Pn[1]=="type"?oe+(ft+"="+Et+"&"):oe+(ft+"=redacted&")}}}else oe=null;else oe=G;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+g+`
`+E+`
`+oe})}function Sa(c,g,E,S,P,G,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+g+`
`+E+`
`+G+" "+oe})}function jn(c,g,E,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+of(c,E)+(S?" "+S:"")})}function Dr(c,g){c.info(function(){return"TIMEOUT: "+g})}wt.prototype.info=function(){};function of(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return mi(G)}catch{return g}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function Or(){}A(Or,Ea),Or.prototype.g=function(){return new XMLHttpRequest},Bl=new Or;function Yi(c){return encodeURIComponent(String(c))}function wu(c){var g=1;c=c.split(":");const E=[];for(;g>0&&c.length;)E.push(c.shift()),g--;return c.length&&E.push(c.join(":")),E}function Zn(c,g,E,S){this.j=c,this.i=g,this.l=E,this.S=S||1,this.V=new Ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var xt={},Pt={};function pi(c,g,E){c.M=1,c.A=Vr(Ct(g)),c.u=E,c.R=!0,wa(c,null)}function wa(c,g){c.F=Date.now(),yi(c),c.B=Ct(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Na(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Wn,c.g=zu(c.j,E?g:null,!c.u),c.P>0&&(c.O=new Ft(y(c.Y,c,c.g),c.P)),g=c.V,E=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Nr[0]=P.toString()),P=Nr);for(let G=0;G<P.length;G++){const oe=Ke(E,P[G],S||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.J?D(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Vn(),gi(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const g=this.O;g&&ni(c)==3?g.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ni(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ne!=4||Et==7||(Et==8||Ye<=0?Vn(3):Vn(2)),_i(this);var g=this.g.ca();this.X=g;var E=uf(this);if(this.o=g==200,Sa(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break t}}G=null}if(c=G)jn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,ie(12),Sn(this),kn(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<E.length;)if(ft=Ru(this,E),ft==Pt){Ne==4&&(this.m=4,ie(14),c=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==xt){this.m=4,ie(15),jn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else jn(this.i,this.l,ft,null),vi(this,ft);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,ie(16),c=!1),this.o=this.o&&c,!c)jn(this.i,this.l,E,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),no(oe),oe.P=!0,ie(11))}}else jn(this.i,this.l,E,null),vi(this,E);Ne==4&&Sn(this),this.o&&!this.K&&(Ne==4?ku(this.j,this):(this.o=!1,yi(this)))}else $i(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,ie(12)):(this.m=0,ie(13)),Sn(this),kn(this)}}}catch{}};function uf(c){if(!xu(c))return c.g.la();const g=Gt(c.g);if(g==="")return"";let E="";const S=g.length,P=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Sn(c),kn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,E+=c.h.i.decode(g[G],{stream:!(P&&G==S-1)});return g.length=0,c.h.g+=E,c.C=0,c.h.g}function xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,g){var E=c.C,S=g.indexOf(`
`,E);return S==-1?Pt:(E=Number(g.substring(E,S)),isNaN(E)?xt:(S+=1,S+E>g.length?Pt:(g=g.slice(S,S+E),c.C=S+E,g)))}Zn.prototype.cancel=function(){this.K=!0,Sn(this)};function yi(c){c.T=Date.now()+c.H,xa(c,c.H)}function xa(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=cn(y(c.aa,c),g)}function _i(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(Vn(),ie(17)),Sn(this),this.m=2,kn(this)):xa(this,this.T-c)};function kn(c){c.j.I==0||c.K||ku(c.j,c)}function Sn(c){_i(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Ir(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function vi(c,g){try{var E=c.j;if(E.I!=0&&(E.g==c||bi(E.h,c))){if(!c.L&&bi(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Va(E),Ls(E);else break e;Br(E),ie(18)}}else E.xa=P[1],0<E.xa-E.K&&P[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=cn(y(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ri(E,11)}else if((c.L||E.g==c)&&Va(E),!N(g))for(P=E.Ba.g.parse(g),g=0;g<P.length;g++){let Ye=P[g];const ft=Ye[0];if(!(ft<=E.K))if(E.K=ft,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Pn=Ye[3];Pn!=null&&(E.ka=Pn,E.j.info("VER="+E.ka));const Ci=Ye[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const ii=Ye[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const si=c.g;if(si){const qr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var G=S.h;G.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Fl(G,G.h),G.h=null))}if(S.G){const ja=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(S.wa=ja,Ze(S.J,S.G,ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var oe=c;if(S.na=Pu(S,S.L?S.ba:null,S.W),oe.L){Gl(S.h,oe);var Ne=oe,Et=S.O;Et&&(Ne.H=Et),Ne.D&&(_i(Ne),yi(Ne)),S.g=oe}else Vu(S);E.i.length>0&&xi(E)}else Ye[0]!="stop"&&Ye[0]!="close"||Ri(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ri(E,7):eo(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}Vn(4)}catch{}}var Rt=class{constructor(c,g){this.g=c,this.map=g}};function ql(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function bi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Fl(c,g){c.g?c.g.add(g):c.h=g}function Gl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ql.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ql(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const E of c.g.values())g=g.concat(E.G);return g}return z(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(c,g){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let P,G=null;S>=0?(P=c[E].substring(0,S),G=c[E].substring(S+1)):P=c[E],g(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof wn?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Is(this,c.u),this.h=c.h,Kl(this,Mu(c.i)),this.m=c.m):c&&(g=String(c).match(Cu))?(this.l=!1,zt(this,g[1]||"",!0),this.o=Ti(g[2]||""),this.g=Ti(g[3]||"",!0),Is(this,g[4]),this.h=Ti(g[5]||"",!0),Kl(this,g[6]||"",!0),this.m=Ti(g[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}wn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(jr(g,Ca,!0),":");var E=this.g;return(E||g=="file")&&(c.push("//"),(g=this.o)&&c.push(jr(g,Ca,!0),"@"),c.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(jr(E,E.charAt(0)=="/"?Yl:Nu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",jr(E,Iu)),c.join("")},wn.prototype.resolve=function(c){const g=Ct(this);let E=!!c.j;E?zt(g,c.j):E=!!c.o,E?g.o=c.o:E=!!c.g,E?g.g=c.g:E=c.u!=null;var S=c.h;if(E)Is(g,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=g.h.lastIndexOf("/");P!=-1&&(S=g.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let oe=0;oe<P.length;){const Ne=P[oe++];Ne=="."?S&&oe==P.length&&G.push(""):Ne==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&oe==P.length&&G.push("")):(G.push(Ne),S=!0)}S=G.join("/")}else S=P}return E?g.h=S:E=c.i.toString()!=="",E?Kl(g,Mu(c.i)):E=!!c.m,E&&(g.m=c.m),g};function Ct(c){return new wn(c)}function zt(c,g,E){c.j=E?Ti(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Is(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Kl(c,g,E){g instanceof Ms?(c.i=g,Ia(c.i,c.l)):(E||(g=jr(g,Ds)),c.i=new Ms(g,c.l))}function Ze(c,g,E){c.i.set(g,E)}function Vr(c){return Ze(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jr(c,g,E){return typeof c=="string"?(c=encodeURI(c).replace(g,hn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ca=/[#\/\?@]/g,Nu=/[#\?:]/g,Yl=/[#\?]/g,Ds=/[#\?@]/g,Iu=/#/g;function Ms(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ra(c.i,function(g,E){c.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}s=Ms.prototype,s.add=function(c,g){fn(this),this.i=null,c=Os(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(g),this.h+=1,this};function Du(c,g){fn(c),g=Os(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Xl(c,g){return fn(c),g=Os(c,g),c.g.has(g)}s.forEach=function(c,g){fn(this),this.g.forEach(function(E,S){E.forEach(function(P){c.call(g,P,S,this)},this)},this)};function $l(c,g){fn(c);let E=[];if(typeof g=="string")Xl(c,g)&&(E=E.concat(c.g.get(Os(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)E=E.concat(c[g]);return E}s.set=function(c,g){return fn(this),this.i=null,c=Os(this,c),Xl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},s.get=function(c,g){return c?(c=$l(this,c),c.length>0?String(c[0]):g):g};function Na(c,g,E){Du(c,g),E.length>0&&(c.i=null,c.g.set(Os(c,g),z(E)),c.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var E=g[S];const P=Yi(E);E=$l(this,E);for(let G=0;G<E.length;G++){let oe=P;E[G]!==""&&(oe+="="+Yi(E[G])),c.push(oe)}}return this.i=c.join("&")};function Mu(c){const g=new Ms;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Os(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ia(c,g){g&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(E,S){const P=S.toLowerCase();S!=P&&(Du(this,S),Na(this,P,E))},c)),c.j=g}function ei(c,g){const E=new wt;if(f.Image){const S=new Image;S.onload=b(Ln,E,"TestLoadImage: loaded",!0,g,S),S.onerror=b(Ln,E,"TestLoadImage: error",!1,g,S),S.onabort=b(Ln,E,"TestLoadImage: abort",!1,g,S),S.ontimeout=b(Ln,E,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Jl(c,g){const E=new wt,S=new AbortController,P=setTimeout(()=>{S.abort(),Ln(E,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(P),G.ok?Ln(E,"TestPingServer: ok",!0,g):Ln(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Ln(E,"TestPingServer: error",!1,g)})}function Ln(c,g,E,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(E)}catch{}}function Vs(){this.g=new va}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ai,Ea),Ai.prototype.g=function(){return new kr(this.i,this.h)};function kr(c,g){mt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(kr,mt),s=kr.prototype,s.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,ti(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?js(this):ti(this),this.readyState==3&&Da(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,js(this))},s.Na=function(c){this.g&&(this.response=c,js(this))},s.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}s.setRequestHeader=function(c,g){this.A.append(c,g)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let g="";return Me(c,function(E,S){g+=S,g+=":",g+=E,g+=`\r
`}),g}function Lr(c,g,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=Un(E),typeof c=="string"?E!=null&&Yi(E):Ze(c,g,E))}function tt(c){mt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(tt,mt);var Si=/^https?$/i,Zl=["POST","PUT"];s=tt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,g,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ur(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)E.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zl,g,void 0)>=0)||S||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,oe]of E)this.g.setRequestHeader(G,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ur(this,G)}};function Ur(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Wl(c),Xi(c)}function Wl(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,yt(this,"complete"),yt(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),tt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(yt(c,"readystatechange"),ni(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var S;if(S=G===0){let oe=String(c.D).match(Cu)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),S=!Si.test(oe?oe.toLowerCase():"")}E=S}if(E)yt(c,"complete"),yt(c,"success");else{c.o=6;try{var P=ni(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Wl(c)}}finally{Xi(c)}}}}function Xi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,g||yt(c,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Pl(g)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(c){const g={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var E=wu(c[S]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=g[P]||[];g[P]=G,G.push(E)}Be(g,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||g}function ks(c){this.za=0,this.i=[],this.j=new wt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(c&&c.concurrentRequestLimit),this.Ba=new Vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(c,g,E,S){ie(0),this.W=c,this.H=g||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Pu(this,null,this.W),xi(this)};function eo(c){if(Ma(c),c.I==3){var g=c.V++,E=Ct(c.J);if(Ze(E,"SID",c.M),Ze(E,"RID",g),Ze(E,"TYPE","terminate"),zr(c,E),g=new Zn(c,c.j,g),g.M=2,g.A=Vr(Ct(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=g.A,E=!0),E||(g.g=zu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yi(g)}Uu(c)}function Ls(c){c.g&&(no(c),c.g.cancel(),c.g=null)}function Ma(c){Ls(c),c.v&&(f.clearTimeout(c.v),c.v=null),Va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function xi(c){if(!Hl(c.h)&&!c.m){c.m=!0;var g=c.Ea;Re||w(),be||(Re(),be=!0),C.add(g,c),c.D=0}}function Oa(c,g){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=cn(y(c.Ea,c,g),Lu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Zn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=D(G),ne(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Ou(this,P,g),E=Ct(this.J),Ze(E,"RID",c),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),zr(this,E),G&&(this.R?g="headers="+Yi(Un(G))+"&"+g:this.u&&Lr(E,this.u,G)),Fl(this.h,P),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",g),Ze(E,"SID","null"),P.U=!0,pi(P,E,null)):pi(P,E,g),this.I=2}}else this.I==3&&(c?to(this,c):this.i.length==0||Hl(this.h)||to(this))};function to(c,g){var E;g?E=g.l:E=c.V++;const S=Ct(c.J);Ze(S,"SID",c.M),Ze(S,"RID",E),Ze(S,"AID",c.K),zr(c,S),c.u&&c.o&&Lr(S,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ou(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fl(c.h,E),pi(E,S,g)}function zr(c,g){c.H&&Me(c.H,function(E,S){Ze(g,S,E)}),c.l&&Me({},function(E,S){Ze(g,S,E)})}function Ou(c,g,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Ne=-1;for(;;){const Et=["count="+E];Ne==-1?E>0?(Ne=P[0].g,Et.push("ofs="+Ne)):Ne=0:Et.push("ofs="+Ne);let Ye=!0;for(let ft=0;ft<E;ft++){var G=P[ft].g;const Pn=P[ft].map;if(G-=Ne,G<0)Ne=Math.max(0,P[ft].g-100),Ye=!1;else try{G="req"+G+"_"||"";try{var oe=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ci,ii]of oe){let si=ii;m(ii)&&(si=mi(ii)),Et.push(G+Ci+"="+encodeURIComponent(si))}}catch(Ci){throw Et.push(G+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(Pn)}}if(Ye){oe=Et.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),g.G=c,oe}function Vu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Re||w(),be||(Re(),be=!0),C.add(g,c),c.A=0}}function Br(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=cn(y(c.Da,c),Lu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=cn(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ie(10),Ls(this),ju(this))};function no(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function ju(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ct(c.na);Ze(g,"RID","rpc"),Ze(g,"SID",c.M),Ze(g,"AID",c.K),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ze(g,"TO",c.ia),Ze(g,"TYPE","xmlhttp"),zr(c,g),c.u&&c.o&&Lr(g,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Vr(Ct(g)),E.u=null,E.R=!0,wa(E,c)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),Br(this),ie(19))};function Va(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,g){var E=null;if(c.g==g){Va(c),no(c),c.g=null;var S=2}else if(bi(c.h,g))E=g.G,Gl(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var P=c.D;S=Ns(),yt(S,new $e(S,E)),xi(c)}else Vu(c);else if(P=g.m,P==3||P==0&&g.X>0||!(S==1&&Oa(c,g)||S==2&&Br(c)))switch(E&&E.length>0&&(g=c.h,g.i=g.i.concat(E)),P){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Lu(c,g){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*g}function Ri(c,g){if(c.j.info("Error code "+g),g==2){var E=y(c.bb,c),S=c.Ua;const P=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(S,"https"),Vr(S),P?ei(S.toString(),E):Jl(S.toString(),E)}else ie(2);c.I=0,c.l&&c.l.pa(g),Uu(c),Ma(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Uu(c){if(c.I=0,c.ja=[],c.l){const g=Ql(c.h);(g.length!=0||c.i.length!=0)&&(W(c.ja,g),W(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Pu(c,g,E){var S=E instanceof wn?Ct(E):new wn(E);if(S.g!="")g&&(S.g=g+"."+S.g),Is(S,S.u);else{var P=f.location;S=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const G=new wn(null);S&&zt(G,S),g&&(G.g=g),P&&Is(G,P),E&&(G.h=E),S=G}return E=c.G,g=c.wa,E&&g&&Ze(S,E,g),Ze(S,"VER",c.ka),zr(c,S),S}function zu(c,g,E){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new tt(new Ai({ab:E})):new tt(c.ma),g.Fa(c.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}s=Bu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Us(){}Us.prototype.g=function(c,g){return new an(c,g)};function an(c,g){mt.call(this),this.g=new ks(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!N(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ji(this)}A(an,mt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){eo(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=mi(c),c=E);g.i.push(new Rt(g.Ya++,c)),g.I==3&&xi(g)},an.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,an.Z.N.call(this)};function qu(c){kt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const E in g){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(qu,kt);function Hu(){un.call(this),this.status=1}A(Hu,un);function Ji(c){this.g=c}A(Ji,Bu),Ji.prototype.ra=function(){yt(this.g,"a")},Ji.prototype.qa=function(c){yt(this.g,new qu(c))},Ji.prototype.pa=function(c){yt(this.g,new Hu)},Ji.prototype.oa=function(){yt(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,y1=function(){return new Us},p1=function(){return Ns()},g1=gt,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,sh=Mr,zl.COMPLETE="complete",m1=zl,ba.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ho=ba,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,d1=tt}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const hv="@firebase/firestore",fv="4.9.3";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Ml="12.7.0";const fa=new rg("@firebase/firestore");function hl(){return fa.logLevel}function he(s,...e){if(fa.logLevel<=Le.DEBUG){const n=e.map(yg);fa.debug(`Firestore (${Ml}): ${s}`,...n)}}function bs(s,...e){if(fa.logLevel<=Le.ERROR){const n=e.map(yg);fa.error(`Firestore (${Ml}): ${s}`,...n)}}function Al(s,...e){if(fa.logLevel<=Le.WARN){const n=e.map(yg);fa.warn(`Firestore (${Ml}): ${s}`,...n)}}function yg(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Ee(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_1(s,r,n)}function _1(s,e,n){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function Je(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||_1(e,l,r)}function we(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ps{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class v1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class H2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ps,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ps)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new v1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class G2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new G2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Y2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Y2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function Vm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return pm(l)===pm(u)?Ue(l,u):pm(l)?1:-1}return Ue(s.length,e.length)}const X2=55296,$2=57343;function pm(s){const e=s.charCodeAt(0);return e>=X2&&e<=$2}function Sl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const mv="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=Vi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),l=Vi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class at extends Vi{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Vi{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return J2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Jt([mv])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(r+=m,l++):(u(),l++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function E1(s,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Z2(s,e,n,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function gv(s){if(!ye.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function pv(s){if(ye.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function b1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function ui(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(s);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function jt(s,e){const n={typeString:s};return e&&(n.value=e),n}function yu(s,e){if(!b1(s))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}const yv=-62135596800,_v=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_v);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yv)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:jt("string",lt._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const nu=-1;function W2(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new yr(l,ye.empty(),e)}function eR(s){return new yr(s.readTime,s.key,nu)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(Ae.min(),ye.empty(),nu)}static max(){return new yr(Ae.max(),ye.empty(),nu)}}function tR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==nR)throw s;he("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,r)=>{n(e)}))}static reject(e){return new ee(((n,r)=>{r(e)}))}static waitFor(e){return new ee(((n,r)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(p=>r(p)))})),f=!0,u===l&&n()}))}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next((l=>l?ee.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new ee(((r,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((b=>{f[y]=b,++m,m===u&&r(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new ee(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function sR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(s){return s.name==="IndexedDbTransactionError"}class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const vg=-1;function Ph(s){return s==null}function bh(s){return s===0&&1/s==-1/0}function rR(s){return typeof s=="number"&&Number.isInteger(s)&&!bh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const T1="";function aR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=vv(e)),e=lR(s.get(n),e);return vv(e)}function lR(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case T1:n+="";break;default:n+=u}}return n}function vv(s){return s+T1+""}function Ev(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function xr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function A1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??$t.RED,this.left=l??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new $t(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Ut(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new S1("Invalid base64 string: "+u):u}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const n=oR.exec(s);if(Je(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(s.seconds),nanos:At(s.nanos)}}function At(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?Wt.fromBase64String(s):Wt.fromUint8Array(s)}const w1="server_timestamp",x1="__type__",R1="__previous_value__",C1="__local_write_time__";function Eg(s){return(s?.mapValue?.fields||{})[x1]?.stringValue===w1}function zh(s){const e=s.mapValue.fields[R1];return Eg(e)?zh(e):e}function iu(s){const e=_r(s.mapValue.fields[C1].timestampValue);return new lt(e.seconds,e.nanos)}class uR{constructor(e,n,r,l,u,f,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Th="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const N1="__type__",cR="__max__",$c={mapValue:{}},I1="__vector__",Ah="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Eg(s)?4:fR(s)?9007199254740991:hR(s)?10:11:Ee(28295,{value:s})}function qi(s,e){if(s===e)return!0;const n=Er(s);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return iu(s).isEqual(iu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=_r(l.timestampValue),m=_r(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return vr(l.bytesValue).isEqual(vr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return At(l.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(l.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return At(l.integerValue)===At(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=At(l.doubleValue),m=At(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return Sl(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Ev(f)!==Ev(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qi(f[p],m[p])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function ru(s,e){return(s.values||[]).find((n=>qi(n,e)))!==void 0}function wl(s,e){if(s===e)return 0;const n=Er(s),r=Er(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=At(u.integerValue||u.doubleValue),p=At(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(s,e);case 3:return Tv(s.timestampValue,e.timestampValue);case 4:return Tv(iu(s),iu(e));case 5:return Vm(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=vr(u),p=vr(f);return m.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Ue(m[y],p[y]);if(b!==0)return b}return Ue(m.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ue(At(u.latitude),At(f.latitude));return m!==0?m:Ue(At(u.longitude),At(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Av(s.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Ah]?.arrayValue,b=p[Ah]?.arrayValue,A=Ue(y?.values?.length||0,b?.values?.length||0);return A!==0?A:Av(y,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let A=0;A<p.length&&A<b.length;++A){const x=Vm(p[A],b[A]);if(x!==0)return x;const z=wl(m[p[A]],y[b[A]]);if(z!==0)return z}return Ue(p.length,b.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Tv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=_r(s),r=_r(e),l=Ue(n.seconds,r.seconds);return l!==0?l:Ue(n.nanos,r.nanos)}function Av(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=wl(n[l],r[l]);if(u)return u}return Ue(n.length,r.length)}function xl(s){return jm(s)}function jm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return vr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ye.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=jm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${jm(n.fields[f])}`;return l+"}"})(s.mapValue):Ee(61005,{value:s})}function rh(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(s);return e?16+rh(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+rh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return xr(r.fields,((u,f)=>{l+=u.length+rh(f)})),l})(s.mapValue);default:throw Ee(13486,{value:s})}}function Sv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function km(s){return!!s&&"integerValue"in s}function bg(s){return!!s&&"arrayValue"in s}function wv(s){return!!s&&"nullValue"in s}function xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ah(s){return!!s&&"mapValue"in s}function hR(s){return(s?.mapValue?.fields||{})[N1]?.stringValue===I1}function $o(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$o(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(s.arrayValue.values[n]);return e}return{...s}}function fR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=Jt.emptyPath(),r={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=m.popLast()}f?r[m.lastSegment()]=$o(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];ah(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){xr(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new En($o(this.value))}}function D1(s){const e=[];return xr(s.fields,((n,r)=>{const l=new Jt([n]);if(ah(r)){const u=D1(r.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new On(e)}class sn{constructor(e,n,r,l,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),En.empty(),0)}static newFoundDocument(e,n,r,l){return new sn(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new sn(e,2,n,Ae.min(),Ae.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ae.min(),Ae.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function Rv(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?r=ye.comparator(ye.fromName(f.referenceValue),n.key):r=wl(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!qi(s.position[n],e.position[n]))return!1;return!0}class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function dR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class M1{}class Vt extends M1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gR(e,n,r):n==="array-contains"?new _R(e,r):n==="in"?new vR(e,r):n==="not-in"?new ER(e,r):n==="array-contains-any"?new bR(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pR(e,r):new yR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wl(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends M1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return O1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O1(s){return s.op==="and"}function V1(s){return mR(s)&&O1(s)}function mR(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function Lm(s){if(s instanceof Vt)return s.field.canonicalString()+s.op.toString()+xl(s.value);if(V1(s))return s.filters.map((e=>Lm(e))).join(",");{const e=s.filters.map((n=>Lm(n))).join(",");return`${s.op}(${e})`}}function j1(s,e){return s instanceof Vt?(function(r,l){return l instanceof Vt&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,f,m)=>u&&j1(f,l.filters[m])),!0):!1})(s,e):void Ee(19439)}function k1(s){return s instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`})(s):s instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"})(s):"Filter"}class gR extends Vt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class pR extends Vt{constructor(e,n){super(e,"in",n),this.keys=L1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yR extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=L1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function L1(s,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class _R extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&ru(n.arrayValue,this.value)}}class vR extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class ER extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class bR extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}class TR{constructor(e,n=null,r=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Nv(s,e=null,n=[],r=[],l=null,u=null,f=null){return new TR(s,e,n,r,l,u,f)}function Tg(s){const e=we(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>xl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>xl(r))).join(",")),e.Te=n}return e.Te}function Ag(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!dR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!j1(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Cv(s.startAt,e.startAt)&&Cv(s.endAt,e.endAt)}function Um(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _u{constructor(e,n=null,r=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AR(s,e,n,r,l,u,f,m){return new _u(s,e,n,r,l,u,f,m)}function Sg(s){return new _u(s)}function Iv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function U1(s){return s.collectionGroup!==null}function Jo(s){const e=we(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Jt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wh(u,r))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new wh(Jt.keyField(),r))}return e.Ie}function Ui(s){const e=we(s);return e.Ee||(e.Ee=SR(e,Jo(s))),e.Ee}function SR(s,e){if(s.limitType==="F")return Nv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new wh(l.field,u)}));const n=s.endAt?new Sh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Sh(s.startAt.position,s.startAt.inclusive):null;return Nv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Pm(s,e){const n=s.filters.concat([e]);return new _u(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function zm(s,e,n){return new _u(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Bh(s,e){return Ag(Ui(s),Ui(e))&&s.limitType===e.limitType}function P1(s){return`${Tg(Ui(s))}|lt:${s.limitType}`}function fl(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>k1(l))).join(", ")}]`),Ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>xl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>xl(l))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function qh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ye.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Jo(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(f,m,p){const y=Rv(f,m,p);return f.inclusive?y<=0:y<0})(r.startAt,Jo(r),l)||r.endAt&&!(function(f,m,p){const y=Rv(f,m,p);return f.inclusive?y>=0:y>0})(r.endAt,Jo(r),l))})(s,e)}function wR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function z1(s){return(e,n)=>{let r=!1;for(const l of Jo(s)){const u=xR(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function xR(s,e,n){const r=s.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?wl(p,y):Ee(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:s.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return A1(this.inner)}size(){return this.innerSize}}const RR=new pt(ye.comparator);function Ts(){return RR}const B1=new pt(ye.comparator);function Fo(...s){let e=B1;for(const n of s)e=e.insert(n.key,n);return e}function q1(s){let e=B1;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function aa(){return Zo()}function H1(){return Zo()}function Zo(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CR=new pt(ye.comparator),NR=new Ut(ye.comparator);function Pe(...s){let e=NR;for(const n of s)e=e.add(n);return e}const IR=new Ut(Ue);function DR(){return IR}function wg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function F1(s){return{integerValue:""+s}}function MR(s,e){return rR(e)?F1(e):wg(s,e)}class Hh{constructor(){this._=void 0}}function OR(s,e,n){return s instanceof au?(function(l,u){const f={fields:{[x1]:{stringValue:w1},[C1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Eg(u)&&(u=zh(u)),u&&(f.fields[R1]=u),{mapValue:f}})(n,e):s instanceof lu?Q1(s,e):s instanceof ou?K1(s,e):(function(l,u){const f=G1(l,u),m=Dv(f)+Dv(l.Ae);return km(f)&&km(l.Ae)?F1(m):wg(l.serializer,m)})(s,e)}function VR(s,e,n){return s instanceof lu?Q1(s,e):s instanceof ou?K1(s,e):n}function G1(s,e){return s instanceof xh?(function(r){return km(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class au extends Hh{}class lu extends Hh{constructor(e){super(),this.elements=e}}function Q1(s,e){const n=Y1(e);for(const r of s.elements)n.some((l=>qi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class ou extends Hh{constructor(e){super(),this.elements=e}}function K1(s,e){let n=Y1(e);for(const r of s.elements)n=n.filter((l=>!qi(l,r)));return{arrayValue:{values:n}}}class xh extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Dv(s){return At(s.integerValue||s.doubleValue)}function Y1(s){return bg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jR{constructor(e,n){this.field=e,this.transform=n}}function kR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof lu&&l instanceof lu||r instanceof ou&&l instanceof ou?Sl(r.elements,l.elements,qi):r instanceof xh&&l instanceof xh?qi(r.Ae,l.Ae):r instanceof au&&l instanceof au})(s.transform,e.transform)}class LR{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Fh{}function X1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new xg(s.key,Xn.none()):new vu(s.key,s.data,Xn.none());{const n=s.data,r=En.empty();let l=new Ut(Jt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),l=l.add(u)}return new Rr(s.key,r,new On(l.toArray()),Xn.none())}}function UR(s,e,n){s instanceof vu?(function(l,u,f){const m=l.value.clone(),p=Ov(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Rr?(function(l,u,f){if(!lh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Ov(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($1(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Wo(s,e,n,r){return s instanceof vu?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=u.value.clone(),b=Vv(u.fieldTransforms,p,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Rr?(function(u,f,m,p){if(!lh(u.precondition,f))return m;const y=Vv(u.fieldTransforms,p,f),b=f.data;return b.setAll($1(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function PR(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=G1(r.transform,l||null);u!=null&&(n===null&&(n=En.empty()),n.set(r.field,u))}return n||null}function Mv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Sl(r,l,((u,f)=>kR(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class vu extends Fh{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Rr extends Fh{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Ov(s,e,n){const r=new Map;Je(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,m=e.data.field(u.field);r.set(u.field,VR(f,m,n[l]))}return r}function Vv(s,e,n){const r=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);r.set(l.field,OR(u,f,e))}return r}class xg extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&UR(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=X1(f,m);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,((n,r)=>Mv(n,r)))&&Sl(this.baseMutations,e.baseMutations,((n,r)=>Mv(n,r)))}}class Rg{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return CR})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,r[f].version);return new Rg(e,n,r,l)}}class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HR{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function FR(s){switch(s){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function J1(s){if(s===void 0)return bs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ot.OK:return Z.OK;case Ot.CANCELLED:return Z.CANCELLED;case Ot.UNKNOWN:return Z.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return Z.INTERNAL;case Ot.UNAVAILABLE:return Z.UNAVAILABLE;case Ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ot.NOT_FOUND:return Z.NOT_FOUND;case Ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ot.ABORTED:return Z.ABORTED;case Ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ot.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:s})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function GR(){return new TextEncoder}const QR=new gr([4294967295,4294967295],0);function jv(s){const e=GR().encode(s),n=new f1;return n.update(e),new Uint8Array(n.digest())}function kv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gr([n,r],0),new gr([l,u],0)]}class Cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(gr.fromNumber(r)));return l.compare(QR)===1&&(l=new gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jv(e),[r,l]=kv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cg(u,l,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=jv(e),[r,l]=kv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gh{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gh(Ae.min(),l,new pt(Ue),Ts(),Pe())}}class Eu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Pe(),Pe(),Pe())}}class oh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class Z1{constructor(e,n){this.targetId=e,this.Ce=n}}class W1{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=Uv(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),r=Pe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Ee(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Uv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=Jc(),this.He=Jc(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Um(u))if(r===0){const f=new ye(u.path);this.et(n,f,sn.newNoDocument(f,Ae.min()))}else Je(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=vr(r).toUint8Array()}catch(p){if(p instanceof S1)return Al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Cg(f,l,u)}catch(p){return Al(p instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,sn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Gh(e,n,this.Ye,this.je,r);return this.je=Ts(),this.Je=Jc(),this.He=Jc(),this.Ye=new pt(Ue),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Lv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Lv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new pt(ye.comparator)}function Uv(){return new pt(ye.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$R={and:"AND",or:"OR"};class JR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(s,e){return s.useProto3Json||Ph(e)?e:{value:e}}function Rh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(s,e){return Rh(s,e.toTimestamp())}function Pi(s){return Je(!!s,49232),Ae.fromTimestamp((function(n){const r=_r(n);return new lt(r.seconds,r.nanos)})(s))}function Ng(s,e){return qm(s,e).canonicalString()}function qm(s,e){const n=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function tb(s){const e=at.fromString(s);return Je(ab(e),10190,{key:e.toString()}),e}function Hm(s,e){return Ng(s.databaseId,e.path)}function ym(s,e){const n=tb(e);if(n.get(1)!==s.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ye(ib(n))}function nb(s,e){return Ng(s.databaseId,e)}function WR(s){const e=tb(s);return e.length===4?at.emptyPath():ib(e)}function Fm(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ib(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Pv(s,e,n){return{name:Hm(s,e),fields:n.value.mapValue.fields}}function eC(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Je(b===void 0||typeof b=="string",58123),Wt.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Wt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?Z.UNKNOWN:J1(y.code);return new ce(b,y.message||"")})(f);n=new W1(r,l,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=ym(s,r.document.name),u=Pi(r.document.updateTime),f=r.document.createTime?Pi(r.document.createTime):Ae.min(),m=new En({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(l,u,f,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new oh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=ym(s,r.document),u=r.readTime?Pi(r.readTime):Ae.min(),f=sn.newNoDocument(l,u),m=r.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=ym(s,r.document),u=r.removedTargetIds||[];n=new oh([],u,l,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,f=new HR(l,u),m=r.targetId;n=new Z1(m,f)}}return n}function tC(s,e){let n;if(e instanceof vu)n={update:Pv(s,e.key,e.value)};else if(e instanceof xg)n={delete:Hm(s,e.key)};else if(e instanceof Rr)n={update:Pv(s,e.key,e.data),updateMask:cC(e.fieldMask)};else{if(!(e instanceof zR))return Ee(16599,{Vt:e.type});n={verify:Hm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof au)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:ZR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(s,e.precondition)),n}function nC(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((n=>(function(l,u){let f=l.updateTime?Pi(l.updateTime):Pi(u);return f.isEqual(Ae.min())&&(f=Pi(u)),new LR(f,l.transformResults||[])})(n,e)))):[]}function iC(s,e){return{documents:[nb(s,e.path)]}}function sC(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nb(s,l);const u=(function(y){if(y.length!==0)return rb(ci.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(x){return{field:dl(x.field),direction:lC(x.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function rC(s){let e=WR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Je(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const x=sb(A);return x instanceof ci&&V1(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((x=>(function(W){return new wh(ml(W.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let x;return x=typeof A=="object"?A.value:A,Ph(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(A){const x=!!A.before,z=A.values||[];return new Sh(z,x)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const x=!A.before,z=A.values||[];return new Sh(z,x)})(n.endAt)),AR(e,l,f,u,m,"F",p,y)}function aC(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sb(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ml(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ml(n.unaryFilter.field);return Vt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ml(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ml(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Vt.create(ml(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>sb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(s):Ee(30097,{filter:s})}function lC(s){return YR[s]}function oC(s){return XR[s]}function uC(s){return $R[s]}function dl(s){return{fieldPath:s.canonicalString()}}function ml(s){return Jt.fromServerFormat(s.fieldPath)}function rb(s){return s instanceof Vt?(function(n){if(n.op==="=="){if(xv(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xv(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:oC(n.op),value:n.value}}})(s):s instanceof ci?(function(n){const r=n.getFilters().map((l=>rb(l)));return r.length===1?r[0]:{compositeFilter:{op:uC(n.op),filters:r}}})(s):Ee(54877,{filter:s})}function cC(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ab(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,n,r,l,u=Ae.min(),f=Ae.min(),m=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hC{constructor(e){this.yt=e}}function fC(s){const e=rC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zm(e,e.limit,"L"):e}class dC{constructor(){this.Cn=new mC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(yr.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class mC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Ut(at.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ut(at.comparator)).toArray()}}const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(lb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}const Bv="LruGarbageCollector",gC=1048576;function qv([s,e],[n,r]){const l=Ue(s,n);return l===0?Ue(e,r):l}class pC{constructor(e){this.Ir=e,this.buffer=new Ut(qv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(Bv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?he(Bv,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class _C{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Uh.ce);const r=new pC(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(zv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,u,f,m,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),hl()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function vC(s,e){return new _C(s,e)}class EC{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TC{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Wo(r.mutation,l,On.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pe()){const l=aa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let f=Fo();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pe())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,l){let u=Ts();const f=Zo(),m=(function(){return Zo()})();return n.forEach(((p,y)=>{const b=r.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Rr)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Wo(b.mutation,y,b.mutation.getFieldMask(),lt.now())):f.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new bC(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Zo();let l=new pt(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=r.get(p)||On.empty();b=m.applyToLocalView(y,b),r.set(p,b);const A=(l.get(m.batchId)||Pe()).add(p);l=l.insert(m.batchId,A)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,A=H1();b.forEach((x=>{if(!u.has(x)){const z=X1(n.get(x),r.get(x));z!==null&&A.set(x,z),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ee.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):ee.resolve(aa());let m=nu,p=u;return f.next((y=>ee.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?ee.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{p=p.insert(b,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Pe()))).next((b=>({batchId:m,changes:q1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let l=Fo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let f=Fo();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(A,x){return new _u(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((b=>{b.forEach(((A,x)=>{f=f.insert(A,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((f=>{u.forEach(((p,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,sn.newInvalidDocument(b)))}));let m=Fo();return f.forEach(((p,y)=>{const b=u.get(p);b!==void 0&&Wo(b.mutation,y,On.empty(),lt.now()),qh(n,y)&&(m=m.insert(p,y))})),m}))}}class AC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Pi(l.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:fC(l.bundledQuery),readTime:Pi(l.readTime)}})(n)),ee.resolve()}}class SC{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return ee.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const l=aa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&l.set(p.getKey(),p)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new pt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=aa(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=l)););return ee.resolve(m)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qR(n,r));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}class wC{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Ig{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new at([])),r=new qt(n,e),l=new qt(n,e+1),u=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new at([])),r=new qt(n,e),l=new qt(n,e+1);let u=Pe();return this.Ur.forEachInRange([r,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class xC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new BR(u,n,r,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?vg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),l=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Ue);return n.forEach((l=>{const u=new qt(l,0),f=new qt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;ye.isDocumentKey(u)||(u=u.child(""));const f=new qt(new ye(u),0);let m=new Ut(Ue);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(n.mutations,(l=>{const u=new qt(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qt(n,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class RC{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ts();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():sn.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Ts();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||tR(eR(b),r)<=0||(l.has(b.key)||qh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,r,l){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new CC(this)}getSize(e){return ee.resolve(this.size)}}class CC extends EC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class NC{constructor(e){this.persistence=e,this.si=new ma((n=>Tg(n)),Ag),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Ig,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new wC,this.referenceDelegate=e(this),this.Pi=new NC(this),this.indexManager=new dC,this.remoteDocumentCache=(function(l){return new RC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new hC(n),this.Ii=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const l=new IC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class IC extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class Dg{constructor(e){this.persistence=e,this.Ri=new Ig,this.Vi=null}static mi(e){return new Dg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=ye.fromPath(r);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new ma((r=>aR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=vC(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ee.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((m=>{m||(r++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,r){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Pe(),l=Pe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Mg(e,n.fromCache,r,l)}}class DC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SS()?8:sR(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(hl()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(hl()<=Le.DEBUG&&he("QueryEngine","Query:",fl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(hl()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ee.resolve())}ys(e,n){if(Iv(n))return ee.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=zm(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,zm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,l){return Iv(n)||l.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,l)?ee.resolve(null):(hl()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),fl(n)),this.vs(e,f,n,W2(l,nu)).next((m=>m)))}))}Ds(e,n){let r=new Ut(z1(e));return n.forEach(((l,u)=>{qh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,r){return hl()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",fl(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Og="LocalStore",OC=3e8;class VC{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new pt(Ue),this.xs=new ma((u=>Tg(u)),Ag),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function jC(s,e,n,r){return new VC(s,e,n,r)}async function ub(s,e){const n=we(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let p=Pe();for(const y of l){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function kC(s,e){const n=we(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,b){const A=y.batch,x=A.keys();let z=ee.resolve();return x.forEach((W=>{z=z.next((()=>b.getEntry(p,W))).next((te=>{const X=y.docVersions.get(W);Je(X!==null,48541),te.version.compareTo(X)<0&&(A.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),b.addEntry(te)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function cb(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function LC(s,e){const n=we(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];e.targetChanges.forEach(((b,A)=>{const x=l.get(A);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A))));let z=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),l=l.insert(A,z),(function(te,X,se){return te.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=OC?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(x,z,b)&&m.push(n.Pi.updateTargetData(u,z))}));let p=Ts(),y=Pe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(UC(u,f,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!r.isEqual(Ae.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function UC(s,e,n){let r=Pe(),l=Pe();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=Ts();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Og,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function PC(s,e){const n=we(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=vg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zC(s,e){const n=we(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((u=>u?(l=u,ee.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new hr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Gm(s,e,n){const r=we(s),l=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Vl(f))throw f;he(Og,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Hv(s,e,n){const r=we(s);let l=Ae.min(),u=Pe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,b){const A=we(p),x=A.xs.get(b);return x!==void 0?ee.resolve(A.Ms.get(x)):A.Pi.getTargetData(y,b)})(r,f,Ui(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?l:Ae.min(),n?u:Pe()))).next((m=>(BC(r,wR(e),m),{documents:m,Qs:u})))))}function BC(s,e,n){let r=s.Os.get(e)||Ae.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class Fv{constructor(){this.activeTargetIds=DR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qC{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HC{Oo(e){}shutdown(){}}const Gv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Gv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Qm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const _m="RestConnection",FC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,u){const f=Qm(),m=this.zo(e,n.toUriEncodedString());he(_m,`Sending RPC '${e}' ${f}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:y}=new URL(m),b=Nl(y);return this.Jo(e,m,p,r,b).then((A=>(he(_m,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Al(_m,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(e,n,r,l,u,f){return this.Go(e,n,r,l,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const r=FC[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class QC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class KC extends GC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,u){const f=Qm();return new Promise(((m,p)=>{const y=new d1;y.setWithCredentials(!0),y.listenOnce(m1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const A=y.getResponseJson();he(tn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case sh.TIMEOUT:he(tn,`RPC '${e}' ${f} timed out`),p(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const x=y.getStatus();if(he(tn,`RPC '${e}' ${f} failed with status:`,x,"response text:",y.getResponseText()),x>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const W=z?.error;if(W&&W.status&&W.message){const te=(function(se){const re=se.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN})(W.status);p(new ce(te,W.message))}else p(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(tn,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);he(tn,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=Qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=y1(),m=p1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=u.join("");he(tn,`Creating RPC '${e}' stream ${l}: ${b}`,p);const A=f.createWebChannel(b,p);this.I_(A);let x=!1,z=!1;const W=new QC({Yo:X=>{z?he(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,X):(x||(he(tn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),x=!0),he(tn,`RPC '${e}' stream ${l} sending:`,X),A.send(X))},Zo:()=>A.close()}),te=(X,se,re)=>{X.listen(se,(ae=>{try{re(ae)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return te(A,Ho.EventType.OPEN,(()=>{z||(he(tn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),te(A,Ho.EventType.CLOSE,(()=>{z||(z=!0,he(tn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(A))})),te(A,Ho.EventType.ERROR,(X=>{z||(z=!0,Al(tn,`RPC '${e}' stream ${l} transport errored. Name:`,X.name,"Message:",X.message),W.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),te(A,Ho.EventType.MESSAGE,(X=>{if(!z){const se=X.data[0];Je(!!se,16349);const re=se,ae=re?.error||re[0]?.error;if(ae){he(tn,`RPC '${e}' stream ${l} received error:`,ae);const xe=ae.status;let Re=(function(w){const R=Ot[w];if(R!==void 0)return J1(R)})(xe),be=ae.message;Re===void 0&&(Re=Z.INTERNAL,be="Unknown error status: "+xe+" with message "+ae.message),z=!0,W.a_(new ce(Re,be)),A.close()}else he(tn,`RPC '${e}' stream ${l} received:`,se),W.u_(se)}})),te(m,g1.STAT_EVENT,(X=>{X.stat===Om.PROXY?he(tn,`RPC '${e}' stream ${l} detected buffering proxy`):X.stat===Om.NOPROXY&&he(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vm(){return typeof document<"u"?document:null}function Qh(s){return new JR(s,!0)}class hb{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class fb{constructor(e,n,r,l,u,f,m,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Kv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YC extends fb{constructor(e,n,r,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eC(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Pi(f.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:iC(u,p)}:{query:sC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=eb(u,f.resumeToken);const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=aC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class XC extends fb{constructor(e,n,r,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nC(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tC(this.serializer,r)))};this.q_(n)}}class $C{}class JC extends $C{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,qm(n,r),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())}))}Ho(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,qm(n,r),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class WC{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ga(this)&&(he(da,"Restarting streams for network reachability change."),await(async function(p){const y=we(p);y.Ea.add(4),await bu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new ZC(r,l)}}async function Kh(s){if(ga(s))for(const e of s.da)await e(!0)}async function bu(s){for(const e of s.da)await e(!1)}function db(s,e){const n=we(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lg(n)?kg(n):jl(n).O_()&&jg(n,e))}function Vg(s,e){const n=we(s),r=jl(n);n.Ia.delete(e),r.O_()&&mb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ga(n)&&n.Ra.set("Unknown"))}function jg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(s).Y_(e)}function mb(s,e){s.Va.Ue(e),jl(s).Z_(e)}function kg(s){s.Va=new KR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),jl(s).start(),s.Ra.ua()}function Lg(s){return ga(s)&&!jl(s).x_()&&s.Ia.size>0}function ga(s){return we(s).Ea.size===0}function gb(s){s.Va=void 0}async function eN(s){s.Ra.set("Online")}async function tN(s){s.Ia.forEach(((e,n)=>{jg(s,e)}))}async function nN(s,e){gb(s),Lg(s)?(s.Ra.ha(e),kg(s)):s.Ra.set("Unknown")}async function iN(s,e,n){if(s.Ra.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.Va.removeTarget(m))})(s,e)}catch(r){he(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(s,r)}else if(e instanceof oh?s.Va.Ze(e):e instanceof Z1?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await cb(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Wt.EMPTY_BYTE_STRING,b.snapshotVersion)),mb(u,p);const A=new hr(b.target,p,y,b.sequenceNumber);jg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){he(da,"Failed to raise snapshot:",r),await Nh(s,r)}}async function Nh(s,e,n){if(!Vl(e))throw e;s.Ea.add(1),await bu(s),s.Ra.set("Offline"),n||(n=()=>cb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Kh(s)}))}function pb(s,e){return e().catch((n=>Nh(s,n,e)))}async function Yh(s){const e=we(s),n=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vg;for(;sN(e);)try{const l=await PC(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,rN(e,l)}catch(l){await Nh(e,l)}yb(e)&&_b(e)}function sN(s){return ga(s)&&s.Ta.length<10}function rN(s,e){s.Ta.push(e);const n=br(s);n.O_()&&n.X_&&n.ea(e.mutations)}function yb(s){return ga(s)&&!br(s).x_()&&s.Ta.length>0}function _b(s){br(s).start()}async function aN(s){br(s).ra()}async function lN(s){const e=br(s);for(const n of s.Ta)e.ea(n.mutations)}async function oN(s,e,n){const r=s.Ta.shift(),l=Rg.from(r,e,n);await pb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Yh(s)}async function uN(s,e){e&&br(s).X_&&await(async function(r,l){if((function(f){return FR(f)&&f!==Z.ABORTED})(l.code)){const u=r.Ta.shift();br(r).B_(),await pb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Yh(r)}})(s,e),yb(s)&&_b(s)}async function Yv(s,e){const n=we(s);n.asyncQueue.verifyOperationInProgress(),he(da,"RemoteStore received new credentials");const r=ga(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function cN(s,e){const n=we(s);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function jl(s){return s.ma||(s.ma=(function(n,r,l){const u=we(n);return u.sa(),new YC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:eN.bind(null,s),t_:tN.bind(null,s),r_:nN.bind(null,s),H_:iN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Lg(s)?kg(s):s.Ra.set("Unknown")):(await s.ma.stop(),gb(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(n,r,l){const u=we(n);return u.sa(),new XC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:aN.bind(null,s),r_:uN.bind(null,s),ta:lN.bind(null,s),na:oN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Yh(s)):(await s.fa.stop(),s.Ta.length>0&&(he(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ug{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const f=Date.now()+r,m=new Ug(e,n,f,l,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Vl(s))return new ce(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Xv{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cl{constructor(e,n,r,l,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Cl(e,n,vl.emptySet(n),f,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class hN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fN{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=we(n),u=l.queries;l.queries=$v(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new ma((s=>P1(s)),Bh)}async function vb(s,e){const n=we(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new hN,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Pg(f,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&zg(n)}async function Eb(s,e){const n=we(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dN(s,e){const n=we(s);let r=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(l)&&(r=!0);f.wa=l}}r&&zg(n)}function mN(s,e,n){const r=we(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);r.queries.delete(e)}function zg(s){s.Ca.forEach((e=>{e.next()}))}var Km,Jv;(Jv=Km||(Km={})).Ma="default",Jv.Cache="cache";class bb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class Tb{constructor(e){this.key=e}}class Ab{constructor(e){this.key=e}}class gN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=z1(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Xv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const x=l.get(b),z=qh(this.query,A)?A:null,W=!!x&&this.mutatedKeys.has(x.key),te=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let X=!1;x&&z?x.data.isEqual(z.data)?W!==te&&(r.track({type:3,doc:z}),X=!0):this.su(x,z)||(r.track({type:2,doc:z}),X=!0,(p&&this.eu(z,p)>0||y&&this.eu(z,y)<0)&&(m=!0)):!x&&z?(r.track({type:0,doc:z}),X=!0):x&&!z&&(r.track({type:1,doc:x}),X=!0,(p||y)&&(m=!0)),X&&(z?(f=f.add(z),u=te?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(z,W){const te=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:X})}};return te(z)-te(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),l=l??!1;const m=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Cl(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Ab(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Tb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bg="SyncEngine";class pN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yN{constructor(e){this.key=e,this.hu=!1}}class _N{constructor(e,n,r,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ma((m=>P1(m)),Bh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new Ig,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vN(s,e,n=!0){const r=Nb(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Sb(r,e,n,!0),l}async function EN(s,e){const n=Nb(s);await Sb(n,e,!0,!1)}async function Sb(s,e,n,r){const l=await zC(s.localStore,Ui(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await bN(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&db(s.remoteStore,l),m}async function bN(s,e,n,r,l){s.pu=(A,x,z)=>(async function(te,X,se,re){let ae=X.view.ru(se);ae.Cs&&(ae=await Hv(te.localStore,X.query,!1).then((({documents:C})=>X.view.ru(C,ae))));const xe=re&&re.targetChanges.get(X.targetId),Re=re&&re.targetMismatches.get(X.targetId)!=null,be=X.view.applyChanges(ae,te.isPrimaryClient,xe,Re);return Wv(te,X.targetId,be.au),be.snapshot})(s,A,x,z);const u=await Hv(s.localStore,e,!0),f=new gN(e,u.Qs),m=f.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(m,s.isPrimaryClient,p);Wv(s,n,y.au);const b=new pN(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function TN(s,e,n){const r=we(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((f=>!Bh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Gm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Vg(r.remoteStore,l.targetId),Ym(r,l.targetId)})).catch(Ol)):(Ym(r,l.targetId),await Gm(r.localStore,l.targetId,!0))}async function AN(s,e){const n=we(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vg(n.remoteStore,r.targetId))}async function SN(s,e,n){const r=DN(s);try{const l=await(function(f,m){const p=we(f),y=lt.now(),b=m.reduce(((z,W)=>z.add(W.key)),Pe());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let W=Ts(),te=Pe();return p.Ns.getEntries(z,b).next((X=>{W=X,W.forEach(((se,re)=>{re.isValidDocument()||(te=te.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,W))).next((X=>{A=X;const se=[];for(const re of m){const ae=PR(re,A.get(re.key).overlayedDocument);ae!=null&&se.push(new Rr(re.key,ae,D1(ae.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,se,m)})).next((X=>{x=X;const se=X.applyToLocalDocumentSet(A,te);return p.documentOverlayCache.saveOverlays(z,X.batchId,se)}))})).then((()=>({batchId:x.batchId,changes:q1(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new pt(Ue)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(r,l.batchId,n),await Tu(r,l.changes),await Yh(r.remoteStore)}catch(l){const u=Pg(l,"Failed to persist write");n.reject(u)}}async function wb(s,e){const n=we(s);try{const r=await LC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Je(f.hu,14607):l.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await Tu(n,r,e)}catch(r){await Ol(r)}}function Zv(s,e,n){const r=we(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach(((b,A)=>{for(const x of A.Sa)x.va(m)&&(y=!0)})),y&&zg(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wN(s,e,n){const r=we(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let f=new pt(ye.comparator);f=f.insert(u,sn.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new Gh(Ae.min(),new Map,new pt(Ue),f,m);await wb(r,p),r.du=r.du.remove(u),r.Au.delete(e),qg(r)}else await Gm(r.localStore,e,!1).then((()=>Ym(r,e,n))).catch(Ol)}async function xN(s,e){const n=we(s),r=e.batch.batchId;try{const l=await kC(n.localStore,e);Rb(n,r,null),xb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,l)}catch(l){await Ol(l)}}async function RN(s,e,n){const r=we(s);try{const l=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next((A=>(Je(A!==null,37113),b=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);Rb(r,e,n),xb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,l)}catch(l){await Ol(l)}}function xb(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function Rb(s,e,n){const r=we(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Ym(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Cb(s,r)}))}function Cb(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Vg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),qg(s))}function Wv(s,e,n){for(const r of n)r instanceof Tb?(s.Ru.addReference(r.key,e),CN(s,r)):r instanceof Ab?(he(Bg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Cb(s,r.key)):Ee(19791,{wu:r})}function CN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(he(Bg,"New document in limbo: "+n),s.Eu.add(r),qg(s))}function qg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ye(at.fromString(e)),r=s.fu.next();s.Au.set(r,new yN(n)),s.du=s.du.insert(n,r),db(s.remoteStore,new hr(Ui(Sg(n.path)),r,"TargetPurposeLimboResolution",Uh.ce))}}async function Tu(s,e,n){const r=we(s),l=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{f.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Mg.As(p.targetId,y);u.push(b)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,y){const b=we(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ee.forEach(y,(x=>ee.forEach(x.Es,(z=>b.persistence.referenceDelegate.addReference(A,x.targetId,z))).next((()=>ee.forEach(x.ds,(z=>b.persistence.referenceDelegate.removeReference(A,x.targetId,z)))))))))}catch(A){if(!Vl(A))throw A;he(Og,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const z=b.Ms.get(x),W=z.snapshotVersion,te=z.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(x,te)}}})(r.localStore,u))}async function NN(s,e){const n=we(s);if(!n.currentUser.isEqual(e)){he(Bg,"User change. New user:",e.toKey());const r=await ub(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.Ls)}}function IN(s,e){const n=we(s),r=n.Au.get(e);if(r&&r.hu)return Pe().add(r.key);{let l=Pe();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function Nb(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wN.bind(null,e),e.Pu.H_=dN.bind(null,e.eventManager),e.Pu.yu=mN.bind(null,e.eventManager),e}function DN(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RN.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jC(this.persistence,new MC,e.initialUser,this.serializer)}Cu(e){return new ob(Dg.mi,this.serializer)}Du(e){return new qC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class MN extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new ob((r=>Ch.mi(r,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fN})()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),r=(function(u){return new KC(u)})(e.databaseInfo);return(function(u,f,m,p){return new JC(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,f,m){return new WC(r,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zv(this.syncEngine,n,0)),(function(){return Qv.v()?new Qv:new HC})())}createSyncEngine(e,n){return(function(l,u,f,m,p,y,b){const A=new _N(l,u,f,m,p,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=we(n);he(da,"RemoteStore shutting down."),r.Ea.add(5),await bu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Tr="FirestoreClient";class ON{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{he(Tr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(he(Tr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Em(s,e){s.asyncQueue.verifyOperationInProgress(),he(Tr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await ub(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function eE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await VN(s);he(Tr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Yv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Yv(e.remoteStore,l))),s._onlineComponents=e}async function VN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(Tr,"Using user provided OfflineComponentProvider");try{await Em(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await Em(s,new Ih)}}else he(Tr,"Using default OfflineComponentProvider"),await Em(s,new MN(void 0));return s._offlineComponents}async function Db(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(Tr,"Using user provided OnlineComponentProvider"),await eE(s,s._uninitializedComponentsProvider._online)):(he(Tr,"Using default OnlineComponentProvider"),await eE(s,new Xm))),s._onlineComponents}function jN(s){return Db(s).then((e=>e.syncEngine))}async function Mb(s){const e=await Db(s),n=e.eventManager;return n.onListen=vN.bind(null,e.syncEngine),n.onUnlisten=TN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AN.bind(null,e.syncEngine),n}function kN(s,e,n={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const b=new Ib({next:x=>{b.Nu(),f.enqueueAndForget((()=>Eb(u,A)));const z=x.docs.has(m);!z&&x.fromCache?y.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&x.fromCache&&p&&p.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new bb(Sg(m.path),b,{includeMetadataChanges:!0,qa:!0});return vb(u,A)})(await Mb(s),s.asyncQueue,e,n,r))),r.promise}function LN(s,e,n={}){const r=new ps;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const b=new Ib({next:x=>{b.Nu(),f.enqueueAndForget((()=>Eb(u,A))),x.fromCache&&p.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new bb(m,b,{includeMetadataChanges:!0,qa:!0});return vb(u,A)})(await Mb(s),s.asyncQueue,e,n,r))),r.promise}function Ob(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const tE=new Map;const Vb="firestore.googleapis.com",nE=!0;class iE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=nE}else this.host=e.host,this.ssl=e.ssl??nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gC)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q2;switch(r.type){case"firstParty":return new Q2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tE.get(n);r&&(he("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())})(this),Promise.resolve()}}function UN(s,e,n,r={}){s=ui(s,Xh);const l=Nl(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;l&&(RE(`https://${m}`),CE("Firestore",!0)),u.host!==Vb&&u.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:r};if(!ua(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=nn.MOCK_USER;else{y=gS(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(A)}s._authCredentials=new H2(new v1(y,b))}}class kl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kl(this.firestore,e,this._query)}}class St{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,St._jsonSchema))return new St(e,r||null,new ye(at.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:jt("string",St._jsonSchemaVersion),referencePath:jt("string")};class pr extends kl{constructor(e,n,r){super(e,n,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ye(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function As(s,e,...n){if(s=on(s),E1("collection","path",e),s instanceof Xh){const r=at.fromString(e,...n);return pv(r),new pr(s,null,r)}{if(!(s instanceof St||s instanceof pr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return pv(r),new pr(s.firestore,null,r)}}function Hi(s,e,...n){if(s=on(s),arguments.length===1&&(e=_g.newId()),E1("doc","path",e),s instanceof Xh){const r=at.fromString(e,...n);return gv(r),new St(s,null,new ye(r))}{if(!(s instanceof St||s instanceof pr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return gv(r),new St(s.firestore,s instanceof pr?s.converter:null,new ye(r))}}const sE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hb(this,"async_queue_retry"),this._c=()=>{const r=vm();r&&he(sE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;he(sE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",aE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ug.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ee(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class pa extends Xh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new rE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function PN(s,e){const n=typeof s=="object"?s:ME(),r=typeof s=="string"?s:Th,l=lg(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=dS("firestore");u&&UN(l,...u)}return l}function Hg(s){if(s._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zN(s),s._firestoreClient}function zN(s){const e=s._freezeSettings(),n=(function(l,u,f,m){return new uR(l,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ob(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new ON(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Wt.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:jt("string",Yn._jsonSchemaVersion),bytes:jt("string")};class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jh{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:jt("string",zi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:jt("string",Bi._jsonSchemaVersion),vectorValues:jt("object")};const BN=/^__.*__$/;class qN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class jb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:s})}}class Fg{constructor(e,n,r,l,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kb(this.Ac)&&BN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qh(e)}Cc(e,n,r,l=!1){return new Fg({Ac:e,methodName:n,Dc:r,path:Jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(s){const e=s._freezeSettings(),n=Qh(s._databaseId);return new HN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function Lb(s,e,n,r,l,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,l);Qg("Data must be an object, but it was:",f,r);const m=Ub(r,f);let p,y;if(u.merge)p=new On(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const x=$m(e,A,n);if(!f.contains(x))throw new ce(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);zb(b,x)||b.push(x)}p=new On(b),y=f.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=f.fieldTransforms;return new qN(new En(m),p,y)}class Wh extends Jh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wh}}class Gg extends Jh{_toFieldTransform(e){return new jR(e.path,new au)}isEqual(e){return e instanceof Gg}}function FN(s,e,n,r){const l=s.Cc(1,e,n);Qg("Data must be an object, but it was:",l,r);const u=[],f=En.empty();xr(r,((p,y)=>{const b=Kg(e,p,n);y=on(y);const A=l.yc(b);if(y instanceof Wh)u.push(b);else{const x=Au(y,A);x!=null&&(u.push(b),f.set(b,x))}}));const m=new On(u);return new jb(f,m,l.fieldTransforms)}function GN(s,e,n,r,l,u){const f=s.Cc(1,e,n),m=[$m(e,r,n)],p=[l];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push($m(e,u[x])),p.push(u[x+1]);const y=[],b=En.empty();for(let x=m.length-1;x>=0;--x)if(!zb(y,m[x])){const z=m[x];let W=p[x];W=on(W);const te=f.yc(z);if(W instanceof Wh)y.push(z);else{const X=Au(W,te);X!=null&&(y.push(z),b.set(z,X))}}const A=new On(y);return new jb(b,A,f.fieldTransforms)}function QN(s,e,n,r=!1){return Au(n,s.Cc(r?4:3,e))}function Au(s,e){if(Pb(s=on(s)))return Qg("Unsupported field value:",e,s),Ub(s,e);if(s instanceof Jh)return(function(r,l){if(!kb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let f=0;for(const m of r){let p=Au(m,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=lt.fromDate(r);return{timestampValue:Rh(l.serializer,u)}}if(r instanceof lt){const u=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(l.serializer,u)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:eb(l.serializer,r._byteString)};if(r instanceof St){const u=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ng(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Bi)return(function(f,m){return{mapValue:{fields:{[N1]:{stringValue:I1},[Ah]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return wg(m.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Lh(r)}`)})(s,e)}function Ub(s,e){const n={};return A1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((r,l)=>{const u=Au(l,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Pb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof zi||s instanceof Yn||s instanceof St||s instanceof Jh||s instanceof Bi)}function Qg(s,e,n){if(!Pb(n)||!b1(n)){const r=Lh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function $m(s,e,n){if((e=on(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Kg(s,e);throw Dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const KN=new RegExp("[~\\*/\\[\\]]");function Kg(s,e,n){if(e.search(KN)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Dh(s,e,n,r,l){const u=r&&!r.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new ce(Z.INVALID_ARGUMENT,m+s+p)}function zb(s,e){return s.some((n=>n.isEqual(e)))}class Bb{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YN extends Bb{data(){return super.data()}}function Yg(s,e){return typeof e=="string"?Kg(s,e):e instanceof $h?e._internalPath:e._delegate._internalPath}function XN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class $N extends Xg{}function ef(s,e,...n){let r=[];e instanceof Xg&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((p=>p instanceof $g)).length,m=u.filter((p=>p instanceof tf)).length;if(f>1||f>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class tf extends $N{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tf(e,n,r)}_apply(e){const n=this._parse(e);return qb(e._query,n),new kl(e.firestore,e.converter,Pm(e._query,n))}_parse(e){const n=Zh(e.firestore);return(function(u,f,m,p,y,b,A){let x;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){oE(A,b);const W=[];for(const te of A)W.push(lE(p,u,te));x={arrayValue:{values:W}}}else x=lE(p,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||oE(A,b),x=QN(m,f,A,b==="in"||b==="not-in");return Vt.create(y,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nf(s,e,n){const r=e,l=Yg("where",s);return tf._create(l,r,n)}class $g extends Xg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $g(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)qb(f,p),f=Pm(f,p)})(e._query,n),new kl(e.firestore,e.converter,Pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lE(s,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U1(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!ye.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sv(s,new ye(r))}if(n instanceof St)return Sv(s,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function oE(s,e){if(!Array.isArray(s)||s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qb(s,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JN{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xr(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((r=>At(r.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=_r(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Je(ab(r),9688,{name:e});const l=new su(r.get(1),r.get(3)),u=new ye(r.popFirst(5));return l.isEqual(n)||bs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Hb(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends Bb{constructor(e,n,r,l,u,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:jt("string",oa._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class uh extends oa{data(e={}){return super.data(e)}}class El{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Qo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new uh(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const p=new uh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new uh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:ZN(m.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}function Fb(s){s=ui(s,St);const e=ui(s.firestore,pa);return kN(Hg(e),s._key).then((n=>eI(e,s,n)))}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:jt("string",El._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class Gb extends JN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function Ar(s){s=ui(s,kl);const e=ui(s.firestore,pa),n=Hg(e),r=new Gb(e);return XN(s._query),LN(n,s._query).then((l=>new El(e,r,s,l)))}function Qb(s,e,n){s=ui(s,St);const r=ui(s.firestore,pa),l=Hb(s.converter,e);return sf(r,[Lb(Zh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Xn.none())])}function Jg(s,e,n,...r){s=ui(s,St);const l=ui(s.firestore,pa),u=Zh(l);let f;return f=typeof(e=on(e))=="string"||e instanceof $h?GN(u,"updateDoc",s._key,e,n,r):FN(u,"updateDoc",s._key,e),sf(l,[f.toMutation(s._key,Xn.exists(!0))])}function Jm(s){return sf(ui(s.firestore,pa),[new xg(s._key,Xn.none())])}function WN(s,e){const n=ui(s.firestore,pa),r=Hi(s),l=Hb(s.converter,e);return sf(n,[Lb(Zh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function sf(s,e){return(function(r,l){const u=new ps;return r.asyncQueue.enqueueAndForget((async()=>SN(await jN(r),l,u))),u.promise})(Hg(s),e)}function eI(s,e,n){const r=n.docs.get(e._key),l=new Gb(s);return new oa(s,l,e._key,r,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}function Kb(){return new Gg("serverTimestamp")}(function(e,n=!0){(function(l){Ml=l})(Il),bl(new ca("firestore",((r,{instanceIdentifier:l,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new pa(new F2(r.getProvider("auth-internal")),new K2(f,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(y.options.projectId,b)})(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),mr(hv,fv,e),mr(hv,fv,"esm2020")})();const ra={ADMIN:"admin",LEADER:"leader",TEACHER:"teacher",STUDENT:"student"},tI={apiKey:"AIzaSyAPoANvUvP_wbvjJ6GXqgACBMFXwi3Sz50",authDomain:"classroom-manager-e75a6.firebaseapp.com",projectId:"classroom-manager-e75a6",storageBucket:"classroom-manager-e75a6.firebasestorage.app",messagingSenderId:"688827951316",appId:"1:688827951316:web:8d25073353884f5888b341"},Yb=DE(tI);z2(Yb);const Ht=PN(Yb);new ds;const uu=s=>{if(s){if(s instanceof lt)return s.toDate();if(s instanceof Date)return s}},uE=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=s.charAt(Math.floor(Math.random()*s.length));return e},nI=async()=>(await Ar(As(Ht,"users"))).docs.map(e=>{const n=e.data();return{id:e.id,name:n.name||"",email:n.email,avatar:n.avatar,role:n.role||ra.STUDENT,isApproved:n.isApproved??!1,createdAt:uu(n.createdAt)}}),iI=async s=>{await Jg(Hi(Ht,"users",s),{isApproved:!0})},sI=async s=>{await Jm(Hi(Ht,"users",s))},rI=async(s,e)=>{await Jg(Hi(Ht,"users",s),{role:e})},aI=async s=>{let e=uE(),n=0;for(;n<10&&!(await Ar(ef(As(Ht,"classes"),nf("code","==",e)))).empty;)e=uE(),n++;const r={name:s.name,description:s.description||"",code:e,teacherId:s.teacherId,teacherName:s.teacherName,studentCount:0,students:[],createdAt:Kb()};return{id:(await WN(As(Ht,"classes"),r)).id,...r,createdAt:new Date}},lI=async s=>{const e=ef(As(Ht,"classes"),nf("teacherId","==",s));return(await Ar(e)).docs.map(r=>{const l=r.data();return{id:r.id,name:l.name||"",description:l.description,code:l.code||"",teacherId:l.teacherId||"",teacherName:l.teacherName||"",studentCount:l.studentCount||0,students:l.students||[],createdAt:uu(l.createdAt)}})},oI=async s=>{const e=ef(As(Ht,"classes"),nf("code","==",s.toUpperCase())),n=await Ar(e);if(n.empty)return null;const r=n.docs[0],l=r.data();return{id:r.id,name:l.name||"",description:l.description,code:l.code||"",teacherId:l.teacherId||"",teacherName:l.teacherName||"",studentCount:l.studentCount||0,students:l.students||[],createdAt:uu(l.createdAt)}},uI=async s=>{const e=await Ar(As(Ht,"classes",s,"students"));for(const n of e.docs)await Jm(n.ref);await Jm(Hi(Ht,"classes",s))},cI=async(s,e)=>{const n=Hi(Ht,"classes",s,"students",e.id);await Qb(n,{...e,joinedAt:Kb()});const r=Hi(Ht,"classes",s),l=await Ar(As(Ht,"classes",s,"students"));await Jg(r,{studentCount:l.size})},hI=async(s,e)=>{const n=[],r=await Ar(As(Ht,"classes"));for(const l of r.docs){const u=Hi(Ht,"classes",l.id,"students",s);if((await Fb(u)).exists()){const m=l.data();n.push({id:l.id,name:m.name||"",description:m.description,code:m.code||"",teacherId:m.teacherId||"",teacherName:m.teacherName||"",studentCount:m.studentCount||0,students:m.students||[],createdAt:uu(m.createdAt)})}}if(e){const l=ef(As(Ht,"classes"),nf("students","array-contains",e.toLowerCase())),u=await Ar(l);for(const f of u.docs)if(!n.find(m=>m.id===f.id)){const m=f.data();n.push({id:f.id,name:m.name||"",description:m.description,code:m.code||"",teacherId:m.teacherId||"",teacherName:m.teacherName||"",studentCount:m.studentCount||0,students:m.students||[],createdAt:uu(m.createdAt)})}}return n},fI=H.createContext(void 0),Ll=()=>{const s=H.useContext(fI);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s};function Zt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Fi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zm({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Zg(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Xb(s,e,n="/"){return dI(s,e,n,!1)}function dI(s,e,n,r){let l=typeof e=="string"?Zg(e):e,u=Sr(l.pathname||"/",n);if(u==null)return null;let f=$b(s);mI(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=wI(u);m=AI(f[p],y,r)}return m}function $b(s,e=[],n=[],r="",l=!1){let u=(f,m,p=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;Zt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let A=ys([r,b.relativePath]),x=n.concat(b);f.children&&f.children.length>0&&(Zt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),$b(f.children,e,x,A,p)),!(f.path==null&&!f.index)&&e.push({path:A,score:bI(A,f.index),routesMeta:x})};return s.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of Jb(f.path))u(f,m,!0,p)}),e}function Jb(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let f=Jb(r.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function mI(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:TI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var gI=/^:[\w-]+$/,pI=3,yI=2,_I=1,vI=10,EI=-2,cE=s=>s==="*";function bI(s,e){let n=s.split("/"),r=n.length;return n.some(cE)&&(r+=EI),e&&(r+=yI),n.filter(l=>!cE(l)).reduce((l,u)=>l+(gI.test(u)?pI:u===""?_I:vI),r)}function TI(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function AI(s,e,n=!1){let{routesMeta:r}=s,l={},u="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",A=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),x=p.route;if(!A&&y&&n&&!r[r.length-1].route.index&&(A=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:ys([u,A.pathname]),pathnameBase:NI(ys([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=ys([u,A.pathnameBase]))}return f}function Mh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=SI(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:r.reduce((y,{paramName:b,isOptional:A},x)=>{if(b==="*"){let W=m[x]||"";f=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const z=m[x];return A&&!z?y[b]=void 0:y[b]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function SI(s,e=!1,n=!0){Fi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function wI(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Sr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xI=s=>Zb.test(s);function RI(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Zg(s):s,u;if(n)if(xI(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=hE(n.substring(1),"/"):u=hE(n,e)}else u=e;return{pathname:u,search:II(r),hash:DI(l)}}function hE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function bm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CI(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wb(s){let e=CI(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function eT(s,e,n,r=!1){let l;typeof s=="string"?l=Zg(s):(l={...s},Zt(!l.pathname||!l.pathname.includes("?"),bm("?","pathname","search",l)),Zt(!l.pathname||!l.pathname.includes("#"),bm("#","pathname","hash",l)),Zt(!l.search||!l.search.includes("#"),bm("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!r&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;l.pathname=x.join("/")}m=A>=0?e[A]:"/"}let p=RI(l,m),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var ys=s=>s.join("/").replace(/\/\/+/g,"/"),NI=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),II=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,DI=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,MI=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function OI(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function VI(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nT(s,e){let n=s;if(typeof n!="string"||!Zb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(tT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Sr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:l=!0}catch{Fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var jI=["GET",...iT];new Set(jI);var Ul=H.createContext(null);Ul.displayName="DataRouter";var rf=H.createContext(null);rf.displayName="DataRouterState";var kI=H.createContext(!1),sT=H.createContext({isTransitioning:!1});sT.displayName="ViewTransition";var LI=H.createContext(new Map);LI.displayName="Fetchers";var UI=H.createContext(null);UI.displayName="Await";var hi=H.createContext(null);hi.displayName="Navigation";var Wg=H.createContext(null);Wg.displayName="Location";var ws=H.createContext({outlet:null,matches:[],isDataRoute:!1});ws.displayName="Route";var ep=H.createContext(null);ep.displayName="RouteError";var rT="REACT_ROUTER_ERROR",PI="REDIRECT",zI="ROUTE_ERROR_RESPONSE";function BI(s){if(s.startsWith(`${rT}:${PI}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function qI(s){if(s.startsWith(`${rT}:${zI}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new MI(e.status,e.statusText,e.data)}catch{}}function HI(s,{relative:e}={}){Zt(af(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(hi),{hash:l,pathname:u,search:f}=Su(s,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ys([n,u])),r.createHref({pathname:m,search:f,hash:l})}function af(){return H.useContext(Wg)!=null}function ya(){return Zt(af(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Wg).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(s){H.useContext(hi).static||H.useLayoutEffect(s)}function oT(){let{isDataRoute:s}=H.useContext(ws);return s?n4():FI()}function FI(){Zt(af(),"useNavigate() may be used only in the context of a <Router> component.");let s=H.useContext(Ul),{basename:e,navigator:n}=H.useContext(hi),{matches:r}=H.useContext(ws),{pathname:l}=ya(),u=JSON.stringify(Wb(r)),f=H.useRef(!1);return lT(()=>{f.current=!0}),H.useCallback((p,y={})=>{if(Fi(f.current,aT),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=eT(p,JSON.parse(u),l,y.relative==="path");s==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ys([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,l,s])}H.createContext(null);function Su(s,{relative:e}={}){let{matches:n}=H.useContext(ws),{pathname:r}=ya(),l=JSON.stringify(Wb(n));return H.useMemo(()=>eT(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function GI(s,e,n,r,l){Zt(af(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(hi),{matches:f}=H.useContext(ws),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",A=m&&m.route;{let re=A&&A.path||"";cT(y,!A||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let x=ya(),z;z=x;let W=z.pathname||"/",te=W;if(b!=="/"){let re=b.replace(/^\//,"").split("/");te="/"+W.replace(/^\//,"").split("/").slice(re.length).join("/")}let X=Xb(s,{pathname:te});return Fi(A||X!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Fi(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$I(X&&X.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:ys([b,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?b:ys([b,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,r,l)}function QI(){let s=t4(),e=OI(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:l},n):null,f)}var KI=H.createElement(QI,null),uT=class extends H.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=qI(s.digest);n&&(s=n)}let e=s!==void 0?H.createElement(ws.Provider,{value:this.props.routeContext},H.createElement(ep.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?H.createElement(YI,{error:s},e):e}};uT.contextType=kI;var Tm=new WeakMap;function YI({children:s,error:e}){let{basename:n}=H.useContext(hi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=BI(e.digest);if(r){let l=Tm.get(e);if(l)throw l;let u=nT(r.location,n);if(tT&&!Tm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Tm.set(e,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function XI({routeContext:s,match:e,children:n}){let r=H.useContext(Ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ws.Provider,{value:s},n)}function $I(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,f=n?.errors;if(f!=null){let b=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);Zt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let A=u[b];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=b),A.route.id){let{loaderData:x,errors:z}=n,W=A.route.loader&&!x.hasOwnProperty(A.route.id)&&(!z||z[A.route.id]===void 0);if(A.route.lazy||W){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&r?(b,A)=>{r(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VI(n.matches),errorInfo:A})}:void 0;return u.reduceRight((b,A,x)=>{let z,W=!1,te=null,X=null;n&&(z=f&&A.route.id?f[A.route.id]:void 0,te=A.route.errorElement||KI,m&&(p<0&&x===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,X=null):p===x&&(W=!0,X=A.route.hydrateFallbackElement||null)));let se=e.concat(u.slice(0,x+1)),re=()=>{let ae;return z?ae=te:W?ae=X:A.route.Component?ae=H.createElement(A.route.Component,null):A.route.element?ae=A.route.element:ae=b,H.createElement(XI,{match:A,routeContext:{outlet:b,matches:se,isDataRoute:n!=null},children:ae})};return n&&(A.route.ErrorBoundary||A.route.errorElement||x===0)?H.createElement(uT,{location:n.location,revalidation:n.revalidation,component:te,error:z,children:re(),routeContext:{outlet:null,matches:se,isDataRoute:!0},onError:y}):re()},null)}function tp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(s){let e=H.useContext(Ul);return Zt(e,tp(s)),e}function ZI(s){let e=H.useContext(rf);return Zt(e,tp(s)),e}function WI(s){let e=H.useContext(ws);return Zt(e,tp(s)),e}function np(s){let e=WI(s),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function e4(){return np("useRouteId")}function t4(){let s=H.useContext(ep),e=ZI("useRouteError"),n=np("useRouteError");return s!==void 0?s:e.errors?.[n]}function n4(){let{router:s}=JI("useNavigate"),e=np("useNavigate"),n=H.useRef(!1);return lT(()=>{n.current=!0}),H.useCallback(async(l,u={})=>{Fi(n.current,aT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var fE={};function cT(s,e,n){!e&&!fE[s]&&(fE[s]=!0,Fi(!1,n))}H.memo(i4);function i4({routes:s,future:e,state:n,onError:r}){return GI(s,void 0,n,r,e)}var ch="get",hh="application/x-www-form-urlencoded";function lf(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function s4(s){return lf(s)&&s.tagName.toLowerCase()==="button"}function r4(s){return lf(s)&&s.tagName.toLowerCase()==="form"}function a4(s){return lf(s)&&s.tagName.toLowerCase()==="input"}function l4(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function o4(s,e){return s.button===0&&(!e||e==="_self")&&!l4(s)}var Wc=null;function u4(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var c4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(s){return s!=null&&!c4.has(s)?(Fi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):s}function h4(s,e){let n,r,l,u,f;if(r4(s)){let m=s.getAttribute("action");r=m?Sr(m,e):null,n=s.getAttribute("method")||ch,l=Am(s.getAttribute("enctype"))||hh,u=new FormData(s)}else if(s4(s)||a4(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||m.getAttribute("action");if(r=p?Sr(p,e):null,n=s.getAttribute("formmethod")||m.getAttribute("method")||ch,l=Am(s.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||hh,u=new FormData(m,s),!u4()){let{name:y,type:b,value:A}=s;if(b==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,A)}}else{if(lf(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,r=null,l=hh,f=s}return u&&l==="text/plain"&&(f=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function f4(s,e,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Sr(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function d4(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m4(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function g4(s,e,n){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await d4(u,n);return f.links?f.links():[]}return[]}));return v4(r.flat(1).filter(m4).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function dE(s,e,n,r,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function p4(s,e,{includeHydrateFallback:n}={}){return y4(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function y4(s){return[...new Set(s)]}function _4(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function v4(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(_4(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function hT(){let s=H.useContext(Ul);return ip(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function E4(){let s=H.useContext(rf);return ip(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sp=H.createContext(void 0);sp.displayName="FrameworkContext";function fT(){let s=H.useContext(sp);return ip(s,"You must render this element inside a <HydratedRouter> element"),s}function b4(s,e){let n=H.useContext(sp),[r,l]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:A}=e,x=H.useRef(null);H.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let te=se=>{se.forEach(re=>{f(re.isIntersecting)})},X=new IntersectionObserver(te,{threshold:.5});return x.current&&X.observe(x.current),()=>{X.disconnect()}}},[s]),H.useEffect(()=>{if(r){let te=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(te)}}},[r]);let z=()=>{l(!0)},W=()=>{l(!1),f(!1)};return n?s!=="intent"?[u,x,{}]:[u,x,{onFocus:qo(m,z),onBlur:qo(p,W),onMouseEnter:qo(y,z),onMouseLeave:qo(b,W),onTouchStart:qo(A,z)}]:[!1,x,{}]}function qo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function T4({page:s,...e}){let{router:n}=hT(),r=H.useMemo(()=>Xb(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?H.createElement(S4,{page:s,matches:r,...e}):null}function A4(s){let{manifest:e,routeModules:n}=fT(),[r,l]=H.useState([]);return H.useEffect(()=>{let u=!1;return g4(s,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[s,e,n]),r}function S4({page:s,matches:e,...n}){let r=ya(),{future:l,manifest:u,routeModules:f}=fT(),{basename:m}=hT(),{loaderData:p,matches:y}=E4(),b=H.useMemo(()=>dE(s,e,y,u,r,"data"),[s,e,y,u,r]),A=H.useMemo(()=>dE(s,e,y,u,r,"assets"),[s,e,y,u,r]),x=H.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let te=new Set,X=!1;if(e.forEach(re=>{let ae=u.routes[re.route.id];!ae||!ae.hasLoader||(!b.some(xe=>xe.route.id===re.route.id)&&re.route.id in p&&f[re.route.id]?.shouldRevalidate||ae.hasClientLoader?X=!0:te.add(re.route.id))}),te.size===0)return[];let se=f4(s,m,l.unstable_trailingSlashAwareDataRequests,"data");return X&&te.size>0&&se.searchParams.set("_routes",e.filter(re=>te.has(re.route.id)).map(re=>re.route.id).join(",")),[se.pathname+se.search]},[m,l.unstable_trailingSlashAwareDataRequests,p,r,u,b,e,s,f]),z=H.useMemo(()=>p4(A,u),[A,u]),W=A4(A);return H.createElement(H.Fragment,null,x.map(te=>H.createElement("link",{key:te,rel:"prefetch",as:"fetch",href:te,...n})),z.map(te=>H.createElement("link",{key:te,rel:"modulepreload",href:te,...n})),W.map(({key:te,link:X})=>H.createElement("link",{key:te,nonce:n.nonce,...X})))}function w4(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x4&&(window.__reactRouterVersion="7.12.0")}catch{}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mT=H.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:b,viewTransition:A,unstable_defaultShouldRevalidate:x,...z},W){let{basename:te,unstable_useTransitions:X}=H.useContext(hi),se=typeof y=="string"&&dT.test(y),re=nT(y,te);y=re.to;let ae=HI(y,{relative:l}),[xe,Re,be]=b4(r,z),C=I4(y,{replace:f,state:m,target:p,preventScrollReset:b,relative:l,viewTransition:A,unstable_defaultShouldRevalidate:x,unstable_useTransitions:X});function w(O){e&&e(O),O.defaultPrevented||C(O)}let R=H.createElement("a",{...z,...be,href:re.absoluteURL||ae,onClick:re.isExternal||u?e:w,ref:w4(W,Re),target:p,"data-discover":!se&&n==="render"?"true":void 0});return xe&&!se?H.createElement(H.Fragment,null,R,H.createElement(T4,{page:ae})):R});mT.displayName="Link";var R4=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},b){let A=Su(f,{relative:y.relative}),x=ya(),z=H.useContext(rf),{navigator:W,basename:te}=H.useContext(hi),X=z!=null&&j4(A)&&m===!0,se=W.encodeLocation?W.encodeLocation(A).pathname:A.pathname,re=x.pathname,ae=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(re=re.toLowerCase(),ae=ae?ae.toLowerCase():null,se=se.toLowerCase()),ae&&te&&(ae=Sr(ae,te)||ae);const xe=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let Re=re===se||!l&&re.startsWith(se)&&re.charAt(xe)==="/",be=ae!=null&&(ae===se||!l&&ae.startsWith(se)&&ae.charAt(se.length)==="/"),C={isActive:Re,isPending:be,isTransitioning:X},w=Re?e:void 0,R;typeof r=="function"?R=r(C):R=[r,Re?"active":null,be?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return H.createElement(mT,{...y,"aria-current":w,className:R,ref:b,style:O,to:f,viewTransition:m},typeof p=="function"?p(C):p)});R4.displayName="NavLink";var C4=H.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:f=ch,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:A,unstable_defaultShouldRevalidate:x,...z},W)=>{let{unstable_useTransitions:te}=H.useContext(hi),X=O4(),se=V4(m,{relative:y}),re=f.toLowerCase()==="get"?"get":"post",ae=typeof m=="string"&&dT.test(m),xe=Re=>{if(p&&p(Re),Re.defaultPrevented)return;Re.preventDefault();let be=Re.nativeEvent.submitter,C=be?.getAttribute("formmethod")||f,w=()=>X(be||Re.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:A,unstable_defaultShouldRevalidate:x});te&&n!==!1?H.startTransition(()=>w()):w()};return H.createElement("form",{ref:W,method:re,action:se,onSubmit:r?p:xe,...z,"data-discover":!ae&&s==="render"?"true":void 0})});C4.displayName="Form";function N4(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(s){let e=H.useContext(Ul);return Zt(e,N4(s)),e}function I4(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=oT(),b=ya(),A=Su(s,{relative:u});return H.useCallback(x=>{if(o4(x,e)){x.preventDefault();let z=n!==void 0?n:Zm(b)===Zm(A),W=()=>y(s,{replace:z,state:r,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?H.startTransition(()=>W()):W()}},[b,y,A,n,r,e,s,l,u,f,m,p])}var D4=0,M4=()=>`__${String(++D4)}__`;function O4(){let{router:s}=gT("useSubmit"),{basename:e}=H.useContext(hi),n=e4(),r=s.fetch,l=s.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:b,body:A}=h4(u,e);if(f.navigate===!1){let x=f.fetcherKey||M4();await r(x,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:A,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:A,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,l,e,n])}function V4(s,{relative:e}={}){let{basename:n}=H.useContext(hi),r=H.useContext(ws);Zt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Su(s||".",{relative:e})},f=ya();if(s==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let b=m.toString();u.search=b?`?${b}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ys([n,u.pathname])),Zm(u)}function j4(s,{relative:e}={}){let n=H.useContext(sT);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gT("useViewTransitionState"),l=Su(s,{relative:e});if(!n.isTransitioning)return!1;let u=Sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=Sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mh(l.pathname,f)!=null||Mh(l.pathname,u)!=null}const k4=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L4=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mE=s=>{const e=L4(s);return e.charAt(0).toUpperCase()+e.slice(1)},pT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),U4=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var P4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const z4=H.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...P4,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:pT("lucide",l),...!u&&!U4(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,b])=>H.createElement(y,b)),...Array.isArray(u)?u:[u]]));const He=(s,e)=>{const n=H.forwardRef(({className:r,...l},u)=>H.createElement(z4,{ref:u,iconNode:e,className:pT(`lucide-${k4(mE(s))}`,`lucide-${s}`,r),...l}));return n.displayName=mE(s),n};const B4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q4=He("arrow-left",B4);const H4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cu=He("book-open",H4);const F4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gE=He("check",F4);const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Q4=He("circle-alert",G4);const K4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y4=He("circle-check-big",K4);const X4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],$4=He("clipboard-list",X4);const J4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wm=He("clock",J4);const Z4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],W4=He("copy",Z4);const eD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tD=He("crown",eD);const nD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eg=He("download",nD);const iD=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sD=He("eye-off",iD);const rD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aD=He("eye",rD);const lD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Oh=He("file-text",lD);const oD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],pE=He("file-up",oD);const uD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yE=He("globe",uD);const cD=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_E=He("graduation-cap",cD);const hD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fD=He("image",hD);const dD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],vE=He("key",dD);const mD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vn=He("loader-circle",mD);const gD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rp=He("log-out",gD);const pD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yD=He("mail",pD);const _D=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ko=He("plus",_D);const vD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ED=He("save",vD);const bD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TD=He("send",bD);const AD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SD=He("settings",AD);const wD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tg=He("sparkles",wD);const xD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sm=He("trash-2",xD);const RD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fh=He("triangle-alert",RD);const CD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ND=He("upload",CD);const ID=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EE=He("user-check",ID);const DD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],MD=He("user-x",DD);const OD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hu=He("users",OD);const VD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ng=He("x",VD),jD=()=>{const{login:s,error:e}=Ll(),n=oT(),[r,l]=H.useState(!1),u=async()=>{l(!0);try{await s(),n("/dashboard")}catch(f){console.error("Login failed:",f)}finally{l(!1)}};return _.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-400 flex items-center justify-center p-4",children:_.jsxs("div",{className:"w-full max-w-5xl grid lg:grid-cols-2 gap-8 items-center",children:[_.jsxs("div",{className:"hidden lg:block text-white p-8",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[_.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:_.jsx(cu,{className:"w-8 h-8 text-white"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Classroom Manager"}),_.jsx("p",{className:"text-teal-100",children:"Qun l lp hc thng minh"})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur rounded-2xl p-5",children:[_.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:_.jsx(hu,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Qun l lp hc"}),_.jsx("p",{className:"text-teal-100 text-sm",children:"To lp, thm hc sinh bng email hoc chia s m lp  tham gia"})]})]}),_.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur rounded-2xl p-5",children:[_.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:_.jsx(Oh,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Giao & np bi tp"}),_.jsx("p",{className:"text-teal-100 text-sm",children:"Gio vin giao bi, hc sinh np bi v theo di tin "})]})]}),_.jsxs("div",{className:"flex items-start gap-4 bg-white/10 backdrop-blur rounded-2xl p-5",children:[_.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center flex-shrink-0",children:_.jsx(tg,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Chm im vi AI"}),_.jsx("p",{className:"text-teal-100 text-sm",children:"Tch hp AI  h tr chm im t ng"})]})]})]})]}),_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 lg:p-10",children:[_.jsxs("div",{className:"lg:hidden text-center mb-8",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-2xl mb-4",children:_.jsx(cu,{className:"w-8 h-8 text-white"})}),_.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Classroom Manager"}),_.jsx("p",{className:"text-gray-500",children:"Qun l lp hc thng minh"})]}),_.jsxs("div",{className:"hidden lg:block mb-8",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Cho mng tr li!"}),_.jsx("p",{className:"text-gray-500 mt-2",children:"ng nhp  tip tc s dng h thng"})]}),e&&_.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:e}),_.jsx("button",{onClick:u,disabled:r,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-200 hover:border-teal-400 hover:bg-teal-50 text-gray-700 font-semibold py-4 px-6 rounded-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:r?_.jsx(vn,{className:"w-5 h-5 animate-spin text-teal-600"}):_.jsxs(_.Fragment,{children:[_.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"ng nhp vi Google"]})}),_.jsx("p",{className:"text-center text-gray-400 text-sm mt-6",children:"S dng ti khon Google  ng nhp an ton"})]})]})})},yT=()=>{const{user:s,logout:e}=Ll();return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-400 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 text-center",children:[_.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(Wm,{className:"w-10 h-10 text-amber-600"})}),_.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ch ph duyt"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Ti khon ca bn ang ch c Admin ph duyt. Vui lng i trong giy lt."}),_.jsx("div",{className:"bg-gray-50 rounded-2xl p-4 mb-6",children:_.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[s?.avatar?_.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full"}):_.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center",children:_.jsx("span",{className:"text-teal-600 font-bold text-lg",children:s?.name.charAt(0)})}),_.jsxs("div",{className:"text-left",children:[_.jsx("p",{className:"font-semibold text-gray-900",children:s?.name}),_.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[_.jsx(yD,{className:"w-4 h-4"}),s?.email]})]})]})}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Bn s c th s dng h thng ngay khi c ph duyt."}),_.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-gray-200 text-gray-600 rounded-xl hover:bg-gray-50 transition-colors font-medium",children:[_.jsx(rp,{className:"w-4 h-4"}),"ng xut"]})]})]})})};let wr=null;async function kD(){try{const s=Hi(Ht,"settings","appsScript"),e=await Fb(s);return e.exists()&&(wr=e.data().url||null),wr}catch(s){return console.error("Error loading Apps Script URL:",s),null}}async function LD(s){try{const e=Hi(Ht,"settings","appsScript");return await Qb(e,{url:s.trim(),updatedAt:new Date().toISOString()}),wr=s.trim(),!0}catch(e){return console.error("Error saving Apps Script URL:",e),!1}}function UD(){return wr||""}function Oi(){return!!wr&&wr.indexOf("script.google.com")!==-1}async function $n(s,e={}){if(!wr)return{success:!1,error:"Apps Script URL cha c cu hnh"};try{const n=await fetch(wr,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:s,...e})});if(!n.ok)throw new Error(`HTTP error: ${n.status}`);return await n.json()}catch(n){return console.error("API call error:",n),{success:!1,error:String(n)}}}async function PD(s){return $n("createAssignment",s)}async function _T(s){return $n("getAssignments",{classId:s})}async function zD(s){return $n("deleteAssignment",{assignmentId:s})}async function BD(s){return $n("submitAssignment",s)}async function qD(s){return $n("getSubmissions",{assignmentId:s})}async function HD(s,e){return $n("getStudentSubmission",{assignmentId:s,studentId:e})}async function FD(s){return $n("gradeSubmission",{submissionId:s})}async function GD(s){return $n("gradeAllSubmissions",{assignmentId:s})}async function QD(){return $n("getApiKeys")}async function KD(s,e){return $n("addApiKey",{name:s,key:e})}async function YD(s){return $n("removeApiKey",{keyId:s})}async function XD(s){return $n("toggleApiKey",{keyId:s})}function ig(s){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const u=r.result.split(",")[1];e(u)},r.onerror=n,r.readAsDataURL(s)})}const $D=()=>{const{user:s,logout:e,isAdmin:n}=Ll(),[r,l]=H.useState("classes"),[u,f]=H.useState([]),[m,p]=H.useState([]),[y,b]=H.useState([]),[A,x]=H.useState([]),[z,W]=H.useState(!0),[te,X]=H.useState(null),[se,re]=H.useState(null),[ae,xe]=H.useState([]),[Re,be]=H.useState(!1),[C,w]=H.useState(null),[R,O]=H.useState(!1),[M,k]=H.useState(!1),[N,Qe]=H.useState(!1),[ct,K]=H.useState(!1),[le,me]=H.useState(""),[Me,Be]=H.useState(""),[D,U]=H.useState({title:"",description:"",problemText:"",classId:"",dueDate:""}),[ne,ue]=H.useState(null),[ge,ve]=H.useState([]),[Ce,ht]=H.useState(""),[Ke,fi]=H.useState(""),[Jn,xs]=H.useState({}),[Gi,bn]=H.useState(!1),[di,Qi]=H.useState(UD()),[Rs,Cs]=H.useState(!1),mt=H.useRef(null),yt=H.useRef(null);H.useEffect(()=>{Tn()},[s]);const Tn=async()=>{if(s){W(!0);try{const j=await lI(s.id);if(f(j),n){const ie=await nI();b(ie)}if(Oi()){const ie=await _T();if(ie.success&&ie.assignments){const cn=ie.assignments.filter(wt=>j.some(gi=>gi.id===wt.classId)).map(wt=>({...wt,className:j.find(gi=>gi.id===wt.classId)?.name}));p(cn)}const $e=await QD();$e.success&&$e.keys&&x($e.keys)}}catch(j){console.error("Error loading data:",j)}finally{W(!1)}}},Cr=async j=>{re(j),be(!0);try{const ie=await qD(j.id);ie.success&&ie.submissions&&xe(ie.submissions)}catch(ie){console.error("Error loading submissions:",ie)}finally{be(!1)}},_a=async j=>{const ie=j.target.files?.[0];if(ie){if(ie.size>50*1024*1024){alert("File qu ln. Ti a 50MB.");return}ue(ie)}},Ft=async j=>{const ie=j.target.files;if(!ie)return;const cn=Math.min(ie.length,5-ge.length);for(let wt=0;wt<cn;wt++){const gi=ie[wt];if(gi.size>10*1024*1024){alert("nh qu ln. Ti a 10MB mi nh.");continue}const Sa=await ig(gi);ve(jn=>[...jn,Sa])}},Ki=j=>{ve(ge.filter((ie,$e)=>$e!==j))},Nr=async()=>{if(!(!s||!le.trim()))try{const j=await aI({name:le.trim(),description:Me.trim(),teacherId:s.id,teacherName:s.name});f([j,...u]),me(""),Be(""),O(!1)}catch(j){console.error("Error creating class:",j)}},Ir=async j=>{if(confirm("Xa lp hc ny?"))try{await uI(j),f(u.filter(ie=>ie.id!==j))}catch(ie){console.error("Error deleting class:",ie)}},mi=async()=>{if(!(!s||!D.title.trim()||!D.classId)){if(!Oi()){alert("Vui lng cu hnh Google Apps Script URL trc"),K(!0);return}bn(!0);try{let j="";ne&&(j=await ig(ne));const ie=await PD({classId:D.classId,title:D.title.trim(),description:D.description.trim(),problemText:D.problemText.trim(),teacherId:s.id,dueDate:D.dueDate||void 0,attachmentBase64:j||void 0,attachmentFileName:ne?.name,solutionImages:ge.length>0?ge:void 0});ie.success?(await Tn(),U({title:"",description:"",problemText:"",classId:"",dueDate:""}),ue(null),ve([]),k(!1)):alert("Li to bi tp: "+ie.error)}catch(j){console.error("Error creating assignment:",j),alert("Li: "+String(j))}finally{bn(!1)}}},Pl=async j=>{if(confirm("Xa bi tp ny?"))try{const ie=await zD(j);ie.success?(p(m.filter($e=>$e.id!==j)),se?.id===j&&(re(null),xe([]))):alert("Li: "+ie.error)}catch(ie){console.error("Error deleting assignment:",ie)}},va=async j=>{w(j.id);try{const ie=await FD(j.id);ie.success?(se&&await Cr(se),alert(` chm xong: ${ie.score}/10 im`)):alert("Li chm bi: "+ie.error)}catch(ie){console.error("Grading error:",ie),alert("Li: "+String(ie))}finally{w(null)}},Ea=async()=>{if(!se)return;const j=ae.filter(ie=>!ie.isGraded);if(j.length===0){alert("Khng c bi no cn chm");return}if(confirm(`Chm t ng ${j.length} bi? Qu trnh ny c th mt vi pht.`)){w("all");try{const ie=await GD(se.id);ie.success?(await Cr(se),alert(` chm ${ie.gradedCount} bi, ${ie.errorCount||0} li`)):alert("Li: "+ie.error)}catch(ie){alert("Li: "+String(ie))}finally{w(null)}}},ba=async()=>{if(!(!Ce.trim()||!Ke.trim()))try{const j=await KD(Ce.trim(),Ke.trim());j.success?(await Tn(),ht(""),fi(""),Qe(!1)):alert("Li: "+j.error)}catch(j){console.error("Error adding API key:",j)}},An=async j=>{if(confirm("Xa API key ny?"))try{await YD(j),x(A.filter(ie=>ie.id!==j))}catch(ie){console.error("Error removing API key:",ie)}},kt=async j=>{try{const ie=await XD(j);ie.success&&x(A.map($e=>$e.id===j?{...$e,isActive:ie.isActive??$e.isActive}:$e))}catch(ie){console.error("Error toggling API key:",ie)}},un=async j=>{try{await iI(j),b(y.map(ie=>ie.id===j?{...ie,isApproved:!0}:ie))}catch(ie){console.error("Error approving user:",ie)}},gt=async j=>{if(confirm("T chi v xa ngi dng ny?"))try{await sI(j),b(y.filter(ie=>ie.id!==j))}catch(ie){console.error("Error rejecting user:",ie)}},Ta=async(j,ie)=>{try{await rI(j,ie),b(y.map($e=>$e.id===j?{...$e,role:ie}:$e))}catch($e){console.error("Error updating role:",$e)}},Ns=async()=>{if(di.trim()){Cs(!0);try{await LD(di.trim())?(K(!1),await Tn(),alert(" lu cu hnh thnh cng! Tt c hc sinh s t ng s dng URL ny.")):alert("Li lu cu hnh")}catch(j){alert("Li: "+String(j))}finally{Cs(!1)}}},Aa=j=>{navigator.clipboard.writeText(j),X(j),setTimeout(()=>X(null),2e3)};if(z)return _.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx(vn,{className:"w-8 h-8 animate-spin text-teal-600"})});const Vn=[{id:"classes",label:"Lp hc",icon:hu,count:u.length},{id:"assignments",label:"Bi tp",icon:Oh,count:m.length},...n?[{id:"users",label:"Ngi dng",icon:EE,count:y.filter(j=>!j.isApproved).length}]:[],{id:"apikeys",label:"API Keys",icon:vE,count:A.length}];return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!Oi()&&_.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-3",children:_.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[_.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[_.jsx(fh,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-medium",children:"Cha cu hnh Google Apps Script - Hc sinh cha th np bi!"})]}),_.jsx("button",{onClick:()=>K(!0),className:"px-3 py-1 bg-amber-600 text-white rounded-lg text-sm hover:bg-amber-700",children:"Cu hnh ngay"})]})}),_.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:[_.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg shadow-teal-500/20",children:_.jsx(cu,{className:"w-5 h-5 text-white"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Classroom Manager"}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Xin cho, ",s?.name]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[Oi()&&_.jsxs("span",{className:"hidden sm:flex items-center gap-1.5 px-2 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium",children:[_.jsx(yE,{className:"w-3 h-3"}),"Online"]}),_.jsx("button",{onClick:()=>K(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",title:"Cu hnh h thng",children:_.jsx(SD,{className:"w-5 h-5"})}),s?.avatar&&_.jsx("img",{src:s.avatar,alt:s.name,className:"w-9 h-9 rounded-full ring-2 ring-white shadow"}),_.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:[_.jsx(rp,{className:"w-4 h-4"}),_.jsx("span",{className:"hidden sm:inline font-medium",children:"ng xut"})]})]})]})}),_.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:_.jsx("div",{className:"flex gap-1 overflow-x-auto pb-px",children:Vn.map(j=>_.jsxs("button",{onClick:()=>{l(j.id),re(null)},className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-all border-b-2 whitespace-nowrap ${r===j.id?"text-teal-600 border-teal-600 bg-teal-50/50":"text-gray-500 border-transparent hover:text-gray-700 hover:bg-gray-50"}`,children:[_.jsx(j.icon,{className:"w-4 h-4"}),j.label,j.count>0&&_.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-semibold ${r===j.id?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-600"}`,children:j.count})]},j.id))})})]}),_.jsxs("main",{className:"px-4 sm:px-6 lg:px-8 py-6",children:[r==="classes"&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Danh sch lp hc"}),_.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-lg shadow-teal-600/20 font-medium text-sm",children:[_.jsx(Ko,{className:"w-4 h-4"}),"To lp mi"]})]}),u.length===0?_.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm border border-gray-100",children:[_.jsx(hu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"Cha c lp hc no"})]}):_.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:u.map(j=>_.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[_.jsxs("div",{className:"flex items-start justify-between mb-3",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),j.description&&_.jsx("p",{className:"text-sm text-gray-500 mt-1",children:j.description})]}),_.jsx("button",{onClick:()=>Ir(j.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:_.jsx(Sm,{className:"w-4 h-4"})})]}),_.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("code",{className:"px-2 py-1 bg-teal-50 text-teal-700 rounded-lg font-mono text-sm font-semibold",children:j.code}),_.jsx("button",{onClick:()=>Aa(j.code),className:"p-1.5 text-gray-400 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",children:te===j.code?_.jsx(gE,{className:"w-4 h-4 text-green-500"}):_.jsx(W4,{className:"w-4 h-4"})})]}),_.jsxs("span",{className:"text-sm text-gray-500",children:[j.studentCount," hc sinh"]})]})]},j.id))})]}),r==="assignments"&&!se&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Danh sch bi tp"}),_.jsxs("button",{onClick:()=>k(!0),disabled:u.length===0,className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors shadow-lg shadow-teal-600/20 font-medium text-sm disabled:opacity-50",children:[_.jsx(Ko,{className:"w-4 h-4"}),"To bi tp"]})]}),Oi()?m.length===0?_.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm border border-gray-100",children:[_.jsx(Oh,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"Cha c bi tp no"})]}):_.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:m.map(j=>_.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>Cr(j),children:[_.jsxs("div",{className:"flex items-start justify-between mb-3",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900",children:j.title}),_.jsx("p",{className:"text-sm text-teal-600",children:j.className})]}),_.jsx("button",{onClick:ie=>{ie.stopPropagation(),Pl(j.id)},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:_.jsx(Sm,{className:"w-4 h-4"})})]}),_.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[j.attachmentUrl&&_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(pE,{className:"w-4 h-4"}),"C file"]}),(j.solutionImagesCount||0)>0&&_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(fD,{className:"w-4 h-4"}),j.solutionImagesCount," p n"]})]}),j.dueDate&&_.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Hn: ",new Date(j.dueDate).toLocaleDateString("vi-VN")]})]},j.id))}):_.jsxs("div",{className:"bg-amber-50 rounded-2xl p-8 text-center border border-amber-200",children:[_.jsx(fh,{className:"w-12 h-12 text-amber-500 mx-auto mb-3"}),_.jsx("p",{className:"text-amber-800 font-medium mb-2",children:"Cn cu hnh Google Apps Script"}),_.jsx("p",{className:"text-amber-600 text-sm mb-4",children:" hc sinh c th np bi t bt k u"}),_.jsx("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-xl hover:bg-amber-700",children:"Cu hnh ngay"})]})]}),r==="assignments"&&se&&_.jsxs("div",{children:[_.jsx("button",{onClick:()=>{re(null),xe([])},className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:" Quay li danh sch"}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:[_.jsxs("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-teal-50 to-cyan-50",children:[_.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:se.title}),_.jsx("p",{className:"text-sm text-gray-600 mt-1",children:se.className})]}),_.jsxs("div",{className:"p-5",children:[se.description&&_.jsx("p",{className:"text-gray-700 mb-3",children:se.description}),se.attachmentUrl&&_.jsxs("a",{href:se.attachmentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 text-sm mb-3",children:[_.jsx(eg,{className:"w-4 h-4"}),se.attachmentFileName||"Ti file "]}),_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:_.jsxs("span",{children:[se.solutionImagesCount||0," nh p n"]})})]})]}),_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Bi np (",ae.length,")"]}),ae.some(j=>!j.isGraded)&&_.jsxs("button",{onClick:Ea,disabled:C!==null,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-colors font-medium text-sm disabled:opacity-50",children:[C==="all"?_.jsx(vn,{className:"w-4 h-4 animate-spin"}):_.jsx(tg,{className:"w-4 h-4"}),"Chm tt c (",ae.filter(j=>!j.isGraded).length,")"]})]}),Re?_.jsx("div",{className:"flex justify-center py-8",children:_.jsx(vn,{className:"w-8 h-8 animate-spin text-teal-600"})}):ae.length===0?_.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm border border-gray-100",children:[_.jsx($4,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"Cha c hc sinh np bi"})]}):_.jsx("div",{className:"space-y-3",children:ae.map(j=>_.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:_.jsx("span",{className:"text-teal-700 font-medium",children:j.studentName.charAt(0)})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-gray-900",children:j.studentName}),_.jsxs("p",{className:"text-sm text-gray-500",children:[j.imagesCount||0," nh  ",j.submittedAt?new Date(j.submittedAt).toLocaleString("vi-VN"):""]})]})]}),_.jsx("div",{className:"flex items-center gap-3",children:j.isGraded?_.jsxs("div",{className:"text-right",children:[_.jsxs("span",{className:`text-2xl font-bold ${Number(j.score)>=8?"text-green-600":Number(j.score)>=5?"text-yellow-600":"text-red-600"}`,children:[j.score,"/10"]}),_.jsx("p",{className:"text-xs text-gray-500",children:" chm"})]}):_.jsxs("button",{onClick:()=>va(j),disabled:C!==null,className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm disabled:opacity-50",children:[C===j.id?_.jsx(vn,{className:"w-4 h-4 animate-spin"}):_.jsx(tg,{className:"w-4 h-4"}),"Chm bi"]})})]}),j.feedback&&_.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg text-sm text-gray-700 whitespace-pre-wrap max-h-40 overflow-y-auto",children:j.feedback})]},j.id))})]}),r==="users"&&n&&_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Qun l ngi dng"}),y.filter(j=>!j.isApproved).length>0&&_.jsxs("div",{className:"mb-6",children:[_.jsxs("h3",{className:"text-sm font-medium text-orange-600 mb-3",children:["Ch ph duyt (",y.filter(j=>!j.isApproved).length,")"]}),_.jsx("div",{className:"space-y-2",children:y.filter(j=>!j.isApproved).map(j=>_.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-xl border border-orange-100",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[j.avatar?_.jsx("img",{src:j.avatar,alt:j.name,className:"w-10 h-10 rounded-full"}):_.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:_.jsx("span",{className:"text-orange-600 font-medium",children:j.name.charAt(0)})}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-gray-900",children:j.name}),_.jsx("p",{className:"text-sm text-gray-500",children:j.email})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>un(j.id),className:"p-2 text-green-600 hover:bg-green-100 rounded-lg",title:"Ph duyt",children:_.jsx(EE,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>gt(j.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",title:"T chi",children:_.jsx(MD,{className:"w-5 h-5"})})]})]},j.id))})]}),_.jsxs("div",{children:[_.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-3",children:["Ngi dng  duyt (",y.filter(j=>j.isApproved).length,")"]}),_.jsx("div",{className:"space-y-2",children:y.filter(j=>j.isApproved).map(j=>_.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[j.avatar?_.jsx("img",{src:j.avatar,alt:j.name,className:"w-10 h-10 rounded-full"}):_.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:_.jsx("span",{className:"text-teal-600 font-medium",children:j.name.charAt(0)})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"font-medium text-gray-900",children:j.name}),j.role===ra.ADMIN&&_.jsx(tD,{className:"w-4 h-4 text-amber-500"})]}),_.jsx("p",{className:"text-sm text-gray-500",children:j.email})]})]}),_.jsxs("select",{value:j.role,onChange:ie=>Ta(j.id,ie.target.value),disabled:j.id===s?.id,className:"px-3 py-1.5 border border-gray-200 rounded-lg text-sm disabled:opacity-50",children:[_.jsx("option",{value:ra.STUDENT,children:"Hc sinh"}),_.jsx("option",{value:ra.TEACHER,children:"Gio vin"}),_.jsx("option",{value:ra.LEADER,children:"Trng nhm"}),_.jsx("option",{value:ra.ADMIN,children:"Admin"})]})]},j.id))})]})]}),r==="apikeys"&&_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Qun l API Keys"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Thm Gemini API key  s dng AI chm bi"})]}),_.jsxs("button",{onClick:()=>Qe(!0),disabled:!Oi(),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-xl hover:bg-teal-700 transition-colors font-medium text-sm disabled:opacity-50",children:[_.jsx(Ko,{className:"w-4 h-4"}),"Thm API Key"]})]}),Oi()?A.length===0?_.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm border border-gray-100",children:[_.jsx(vE,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500 mb-2",children:"Cha c API key no"}),_.jsxs("p",{className:"text-sm text-gray-400",children:["Thm Gemini API key t ",_.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:"Google AI Studio"})]})]}):_.jsx("div",{className:"space-y-3",children:A.map(j=>_.jsx("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:`w-3 h-3 rounded-full ${j.isActive?"bg-green-500":"bg-gray-300"}`}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900",children:j.name}),_.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[_.jsx("code",{className:"text-sm text-gray-500 font-mono",children:Jn[j.id]?j.key:""}),_.jsx("button",{onClick:()=>xs({...Jn,[j.id]:!Jn[j.id]}),className:"p-1 text-gray-400 hover:text-gray-600",children:Jn[j.id]?_.jsx(sD,{className:"w-4 h-4"}):_.jsx(aD,{className:"w-4 h-4"})})]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("span",{className:"text-sm text-gray-500",children:["S dng: ",j.usageCount]}),_.jsx("button",{onClick:()=>kt(j.id),className:`px-3 py-1.5 text-sm rounded-lg font-medium ${j.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:j.isActive?"ang bt":" tt"}),_.jsx("button",{onClick:()=>An(j.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg",children:_.jsx(Sm,{className:"w-4 h-4"})})]})]})},j.id))}):_.jsxs("div",{className:"bg-amber-50 rounded-2xl p-8 text-center border border-amber-200",children:[_.jsx(fh,{className:"w-12 h-12 text-amber-500 mx-auto mb-3"}),_.jsx("p",{className:"text-amber-800 font-medium mb-2",children:"Cn cu hnh Google Apps Script trc"}),_.jsx("button",{onClick:()=>K(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-xl hover:bg-amber-700",children:"Cu hnh ngay"})]})]})]}),R&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"To lp hc mi"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn lp *"}),_.jsx("input",{type:"text",value:le,onChange:j=>me(j.target.value),placeholder:"V d: Ton 12A1",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),_.jsx("textarea",{value:Me,onChange:j=>Be(j.target.value),placeholder:"M t ngn",rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 resize-none"})]})]}),_.jsxs("div",{className:"flex gap-3 mt-6",children:[_.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium",children:"Hy"}),_.jsx("button",{onClick:Nr,disabled:!le.trim(),className:"flex-1 px-4 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-medium disabled:opacity-50",children:"To lp"})]})]})}),M&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"To bi tp mi"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lp hc *"}),_.jsxs("select",{value:D.classId,onChange:j=>U({...D,classId:j.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl",children:[_.jsx("option",{value:"",children:"Chn lp hc"}),u.map(j=>_.jsx("option",{value:j.id,children:j.name},j.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu  *"}),_.jsx("input",{type:"text",value:D.title,onChange:j=>U({...D,title:j.target.value}),placeholder:"V d: Bi tp v nh tun 1",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),_.jsx("textarea",{value:D.description,onChange:j=>U({...D,description:j.target.value}),placeholder:"Hng dn lm bi",rows:2,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl resize-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ni dung  bi"}),_.jsx("textarea",{value:D.problemText,onChange:j=>U({...D,problemText:j.target.value}),placeholder:"Ni dung chi tit (dng  AI so snh khi chm)",rows:4,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl resize-none"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"File  bi (PDF/nh)"}),_.jsx("input",{type:"file",ref:mt,onChange:_a,accept:".pdf,image/*",className:"hidden"}),ne?_.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(pE,{className:"w-5 h-5 text-teal-600"}),_.jsx("span",{className:"text-sm text-gray-700",children:ne.name})]}),_.jsx("button",{onClick:()=>ue(null),className:"p-1 text-gray-400 hover:text-red-500",children:_.jsx(ng,{className:"w-4 h-4"})})]}):_.jsxs("button",{onClick:()=>mt.current?.click(),className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-teal-400 hover:bg-teal-50/50 transition-colors",children:[_.jsx(ND,{className:"w-6 h-6 text-gray-400 mx-auto mb-2"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Click  chn file"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh p n (ti a 5 nh) - BT BUC  chm AI"}),_.jsx("input",{type:"file",ref:yt,onChange:Ft,accept:"image/*",multiple:!0,className:"hidden"}),_.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[ge.map((j,ie)=>_.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[_.jsx("img",{src:`data:image/jpeg;base64,${j}`,alt:`Solution ${ie+1}`,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>Ki(ie),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full",children:_.jsx(ng,{className:"w-3 h-3"})})]},ie)),ge.length<5&&_.jsx("button",{onClick:()=>yt.current?.click(),className:"aspect-square border-2 border-dashed border-gray-200 rounded-lg hover:border-teal-400 flex items-center justify-center",children:_.jsx(Ko,{className:"w-6 h-6 text-gray-400"})})]}),_.jsx("p",{className:"text-xs text-gray-500",children:"Upload nh p n  AI c th chm bi t ng"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hn np"}),_.jsx("input",{type:"datetime-local",value:D.dueDate,onChange:j=>U({...D,dueDate:j.target.value}),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl"})]})]}),_.jsxs("div",{className:"flex gap-3 mt-6",children:[_.jsx("button",{onClick:()=>{k(!1),ue(null),ve([])},className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium",children:"Hy"}),_.jsxs("button",{onClick:mi,disabled:!D.title.trim()||!D.classId||Gi,className:"flex-1 px-4 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:[Gi&&_.jsx(vn,{className:"w-4 h-4 animate-spin"}),"To bi tp"]})]})]})}),N&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thm API Key"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn *"}),_.jsx("input",{type:"text",value:Ce,onChange:j=>ht(j.target.value),placeholder:"V d: Gemini API 1",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key *"}),_.jsx("input",{type:"text",value:Ke,onChange:j=>fi(j.target.value),placeholder:"AIza...",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl font-mono"})]})]}),_.jsxs("div",{className:"flex gap-3 mt-6",children:[_.jsx("button",{onClick:()=>Qe(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium",children:"Hy"}),_.jsx("button",{onClick:ba,disabled:!Ce.trim()||!Ke.trim(),className:"flex-1 px-4 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-medium disabled:opacity-50",children:"Thm"})]})]})}),ct&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cu hnh h thng"}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl text-sm text-blue-800",children:[_.jsx("p",{className:"font-medium mb-2",children:" Hng dn setup Google Apps Script:"}),_.jsxs("ol",{className:"list-decimal ml-4 space-y-1",children:[_.jsxs("li",{children:["To ",_.jsx("strong",{children:"Google Sheet mi"})]}),_.jsxs("li",{children:["Vo ",_.jsx("strong",{children:"Extensions  Apps Script"})]}),_.jsxs("li",{children:["Dn code t file ",_.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"code.gs"})]}),_.jsxs("li",{children:["Thay ",_.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"SHEET_ID"})," bng ID Sheet ca bn"]}),_.jsxs("li",{children:["Chy hm ",_.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"testSetup()"})]}),_.jsx("li",{children:_.jsx("strong",{children:"Deploy  New deployment  Web app"})}),_.jsxs("li",{children:["Execute as: ",_.jsx("strong",{children:"Me"}),", Access: ",_.jsx("strong",{children:"Anyone"})]}),_.jsx("li",{children:"Copy URL v dn vo  bn di"})]})]}),_.jsx("div",{className:"p-3 bg-green-50 rounded-xl text-sm text-green-800",children:_.jsxs("p",{className:"font-medium flex items-center gap-2",children:[_.jsx(yE,{className:"w-4 h-4"}),"URL s c lu vo Firebase - Tt c hc sinh s t ng s dng!"]})}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apps Script Web App URL *"}),_.jsx("input",{type:"text",value:di,onChange:j=>Qi(j.target.value),placeholder:"https://script.google.com/macros/s/xxx/exec",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl font-mono text-sm"})]}),Oi()&&_.jsxs("div",{className:"p-3 bg-green-50 rounded-xl flex items-center gap-2 text-green-700",children:[_.jsx(gE,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-medium",children:" cu hnh - Hc sinh c th np bi online!"})]})]}),_.jsxs("div",{className:"flex gap-3 mt-6",children:[_.jsx("button",{onClick:()=>K(!1),className:"flex-1 px-4 py-2.5 border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 font-medium",children:"ng"}),_.jsxs("button",{onClick:Ns,disabled:!di.trim()||Rs,className:"flex-1 px-4 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:[Rs?_.jsx(vn,{className:"w-4 h-4 animate-spin"}):_.jsx(ED,{className:"w-4 h-4"}),"Lu cu hnh"]})]})]})})]})},JD=()=>{const{user:s,logout:e}=Ll(),[n,r]=H.useState([]),[l,u]=H.useState(null),[f,m]=H.useState([]),[p,y]=H.useState(null),[b,A]=H.useState(null),[x,z]=H.useState(!0),[W,te]=H.useState(!1),[X,se]=H.useState(!1),[re,ae]=H.useState(""),[xe,Re]=H.useState(!1),[be,C]=H.useState(""),[w,R]=H.useState(""),[O,M]=H.useState([]),[k,N]=H.useState(!1),Qe=H.useRef(null);H.useEffect(()=>{ct()},[s]);const ct=async()=>{if(s){z(!0);try{const U=await hI(s.id,s.email);r(U)}catch(U){console.error("Error loading classes:",U)}finally{z(!1)}}},K=async U=>{u(U),y(null),A(null),te(!0);try{if(Oi()){const ne=await _T(U.id);ne.success&&ne.assignments&&m(ne.assignments)}}catch(ne){console.error("Error loading assignments:",ne)}finally{te(!1)}},le=async U=>{y(U),se(!0);try{const ne=await HD(U.id,s.id);ne.success&&A(ne.submission??null)}catch(ne){console.error("Error loading submission:",ne)}finally{se(!1)}},me=async()=>{if(!(!s||!re.trim())){Re(!0),C("");try{const U=await oI(re.trim());if(!U){C("Khng tm thy lp vi m ny");return}await cI(U.id,{id:s.id,name:s.name,email:s.email,avatar:s.avatar}),await ct(),ae("")}catch(U){console.error("Error joining class:",U),C(" c li xy ra")}finally{Re(!1)}}},Me=async U=>{const ne=U.target.files;if(!ne)return;const ge=Math.min(ne.length,8-O.length);for(let ve=0;ve<ge;ve++){const Ce=ne[ve];if(Ce.size>10*1024*1024){alert("nh qu ln. Ti a 10MB mi nh.");continue}const ht=await ig(Ce);M(Ke=>[...Ke,ht])}},Be=U=>{M(O.filter((ne,ue)=>ue!==U))},D=async()=>{if(!(!s||!p)){if(O.length===0&&!w.trim()){alert("Vui lng upload nh bi lm hoc nhp cu tr li");return}N(!0);try{const U=await BD({assignmentId:p.id,studentId:s.id,studentName:s.name,studentEmail:s.email,images:O.length>0?O:void 0,textAnswer:w.trim()||void 0});U.success?(await le(p),R(""),M([]),alert("Np bi thnh cng!")):alert("Li np bi: "+U.error)}catch(U){console.error("Error submitting:",U),alert("Li: "+String(U))}finally{N(!1)}}};return x?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx(vn,{className:"w-8 h-8 animate-spin text-teal-600"})}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!Oi()&&_.jsx("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-3",children:_.jsxs("div",{className:"flex items-center gap-2 text-amber-800 max-w-7xl mx-auto",children:[_.jsx(fh,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-medium",children:"H thng cha c cu hnh. Vui lng lin h gio vin."})]})}),_.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:_.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg shadow-teal-500/20",children:_.jsx(cu,{className:"w-5 h-5 text-white"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Hc sinh"}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Xin cho, ",s?.name]})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[s?.avatar&&_.jsx("img",{src:s.avatar,alt:s.name,className:"w-9 h-9 rounded-full ring-2 ring-white shadow"}),_.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:[_.jsx(rp,{className:"w-4 h-4"}),_.jsx("span",{className:"hidden sm:inline font-medium",children:"ng xut"})]})]})]})})}),_.jsx("main",{className:"px-4 sm:px-6 lg:px-8 py-6",children:_.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[_.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[_.jsx("h2",{className:"font-semibold text-gray-900 mb-3",children:"Tham gia lp hc"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",value:re,onChange:U=>ae(U.target.value.toUpperCase()),placeholder:"Nhp m lp",maxLength:6,className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-xl uppercase font-mono focus:outline-none focus:ring-2 focus:ring-teal-500"}),_.jsx("button",{onClick:me,disabled:xe||!re.trim(),className:"px-4 py-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 disabled:opacity-50 font-medium",children:xe?_.jsx(vn,{className:"w-5 h-5 animate-spin"}):"Tham gia"})]}),be&&_.jsx("p",{className:"text-red-500 text-sm mt-2",children:be})]}),_.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100",children:[_.jsx("h2",{className:"font-semibold text-gray-900 mb-3",children:"Lp hc ca ti"}),n.length===0?_.jsx("p",{className:"text-gray-500 text-sm",children:"Bn cha tham gia lp no"}):_.jsx("div",{className:"space-y-2",children:n.map(U=>_.jsxs("button",{onClick:()=>K(U),className:`w-full text-left p-3 rounded-xl transition-all ${l?.id===U.id?"bg-teal-50 border-2 border-teal-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[_.jsx("h3",{className:"font-medium text-gray-900",children:U.name}),_.jsx("p",{className:"text-sm text-gray-500",children:U.teacherName})]},U.id))})]})]}),_.jsx("div",{className:"lg:col-span-2",children:p?_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[_.jsxs("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-teal-50 to-cyan-50",children:[_.jsxs("button",{onClick:()=>{y(null),A(null)},className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-3",children:[_.jsx(q4,{className:"w-4 h-4"}),"Quay li"]}),_.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p.title}),p.dueDate&&_.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center gap-1",children:[_.jsx(Wm,{className:"w-4 h-4"}),"Hn np: ",new Date(p.dueDate).toLocaleString("vi-VN")]})]}),_.jsxs("div",{className:"p-5",children:[p.description&&_.jsxs("div",{className:"mb-4",children:[_.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Hng dn"}),_.jsx("p",{className:"text-gray-600",children:p.description})]}),p.problemText&&_.jsxs("div",{className:"mb-4",children:[_.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Ni dung  bi"}),_.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:_.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:p.problemText})})]}),p.attachmentUrl&&_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"File  bi"}),_.jsxs("a",{href:p.attachmentUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-teal-50 text-teal-700 rounded-xl hover:bg-teal-100 transition-colors",children:[_.jsx(eg,{className:"w-4 h-4"}),p.attachmentFileName||"Ti file "]})]}),X?_.jsx("div",{className:"flex justify-center py-8",children:_.jsx(vn,{className:"w-6 h-6 animate-spin text-teal-600"})}):b?_.jsxs("div",{className:"p-4 bg-green-50 rounded-xl border border-green-200",children:[_.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-3",children:[_.jsx(Y4,{className:"w-5 h-5"}),_.jsx("span",{className:"font-semibold",children:" np bi"})]}),b.imagesCount&&b.imagesCount>0&&_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[b.imagesCount," nh bi lm"]}),b.textAnswer&&_.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Cu tr li: ",b.textAnswer.substring(0,100),"..."]}),_.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:["Np lc: ",b.submittedAt?new Date(b.submittedAt).toLocaleString("vi-VN"):""]}),b.isGraded?_.jsxs("div",{className:"mt-4 p-4 bg-white rounded-xl border border-green-200",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("span",{className:"font-medium text-gray-700",children:"Kt qu chm bi"}),_.jsxs("span",{className:`text-2xl font-bold ${Number(b.score)>=8?"text-green-600":Number(b.score)>=5?"text-yellow-600":"text-red-600"}`,children:[b.score,"/10"]})]}),b.feedback&&_.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-wrap max-h-60 overflow-y-auto",children:b.feedback})]}):_.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mt-3",children:[_.jsx(Q4,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm",children:"ang ch gio vin chm bi..."})]})]}):_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Np bi"}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"nh bi lm (ti a 8 nh)"}),_.jsx("input",{type:"file",ref:Qe,onChange:Me,accept:"image/*",multiple:!0,className:"hidden"}),_.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-2",children:[O.map((U,ne)=>_.jsxs("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[_.jsx("img",{src:`data:image/jpeg;base64,${U}`,alt:`Bi lm ${ne+1}`,className:"w-full h-full object-cover"}),_.jsx("button",{onClick:()=>Be(ne),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full",children:_.jsx(ng,{className:"w-3 h-3"})})]},ne)),O.length<8&&_.jsxs("button",{onClick:()=>Qe.current?.click(),className:"aspect-square border-2 border-dashed border-gray-200 rounded-lg hover:border-teal-400 hover:bg-teal-50/50 flex flex-col items-center justify-center transition-colors",children:[_.jsx(Ko,{className:"w-6 h-6 text-gray-400"}),_.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Thm nh"})]})]}),_.jsx("p",{className:"text-xs text-gray-500",children:"Chp r bi lm ca bn"})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Hoc nhp cu tr li"}),_.jsx("textarea",{value:w,onChange:U=>R(U.target.value),placeholder:"Nhp ni dung bi lm (khng bt buc nu  upload nh)...",rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 resize-none"})]}),_.jsxs("button",{onClick:D,disabled:k||O.length===0&&!w.trim(),className:"flex items-center justify-center gap-2 w-full px-6 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 disabled:opacity-50 font-medium transition-colors",children:[k?_.jsx(vn,{className:"w-5 h-5 animate-spin"}):_.jsx(TD,{className:"w-5 h-5"}),"Np bi"]})]})]})]}):l?_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[_.jsxs("div",{className:"p-5 border-b border-gray-100 bg-gradient-to-r from-teal-50 to-cyan-50",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l.name}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Gio vin: ",l.teacherName]})]}),_.jsx("div",{className:"p-5",children:W?_.jsx("div",{className:"flex items-center justify-center py-8",children:_.jsx(vn,{className:"w-6 h-6 animate-spin text-teal-600"})}):f.length===0?_.jsxs("div",{className:"text-center py-8",children:[_.jsx(Oh,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"Cha c bi tp no"})]}):_.jsx("div",{className:"space-y-3",children:f.map(U=>_.jsx("button",{onClick:()=>le(U),className:"w-full text-left p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors",children:_.jsx("div",{className:"flex items-start justify-between",children:_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900",children:U.title}),U.description&&_.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:U.description}),_.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[U.attachmentUrl&&_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(eg,{className:"w-3 h-3"}),"C file "]}),U.dueDate&&_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Wm,{className:"w-3 h-3"}),"Hn: ",new Date(U.dueDate).toLocaleDateString("vi-VN")]})]})]})})},U.id))})})]}):_.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm border border-gray-100",children:[_.jsx(cu,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"Chn mt lp hc  xem bi tp"})]})})]})})]})},ZD=()=>{const{user:s,loading:e,isApproved:n,isTeacher:r}=Ll(),[l,u]=H.useState(null);return e?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx(vn,{className:"w-8 h-8 animate-spin text-teal-600"})}):!n&&s?.role!==ra.ADMIN?_.jsx(yT,{}):!l&&r?_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-400 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full p-8",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Chn ch "}),_.jsx("p",{className:"text-gray-500 mt-2",children:"Bn mun s dng vi vai tr no?"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("button",{onClick:()=>u("teacher"),className:"p-6 rounded-2xl border-2 border-gray-200 hover:border-teal-500 hover:bg-teal-50 transition-all group",children:[_.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-teal-200 transition-colors",children:_.jsx(hu,{className:"w-8 h-8 text-teal-600"})}),_.jsx("h3",{className:"font-semibold text-gray-900",children:"Gio vin"}),_.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Qun l lp hc, giao bi tp"})]}),_.jsxs("button",{onClick:()=>u("student"),className:"p-6 rounded-2xl border-2 border-gray-200 hover:border-cyan-500 hover:bg-cyan-50 transition-all group",children:[_.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:bg-cyan-200 transition-colors",children:_.jsx(_E,{className:"w-8 h-8 text-cyan-600"})}),_.jsx("h3",{className:"font-semibold text-gray-900",children:"Hc sinh"}),_.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Tham gia lp, np bi tp"})]})]}),_.jsx("p",{className:"text-center text-gray-400 text-sm mt-6",children:"Bn c th chuyn i vai tr bt c lc no"})]})}):l==="teacher"||r&&!l?_.jsxs("div",{children:[l&&_.jsxs("button",{onClick:()=>u(null),className:"fixed bottom-4 right-4 z-50 px-4 py-2.5 bg-white shadow-lg rounded-full text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors flex items-center gap-2 border border-gray-200",children:[_.jsx(_E,{className:"w-4 h-4"}),"Chuyn sang Hc sinh"]}),_.jsx($D,{})]}):_.jsxs("div",{children:[l&&r&&_.jsxs("button",{onClick:()=>u(null),className:"fixed bottom-4 right-4 z-50 px-4 py-2.5 bg-white shadow-lg rounded-full text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors flex items-center gap-2 border border-gray-200",children:[_.jsx(hu,{className:"w-4 h-4"}),"Chuyn sang Gio vin"]}),_.jsx(JD,{})]})};function WD(){const{user:s,loading:e}=Ll(),[n,r]=H.useState(!0);return H.useEffect(()=>{e||(async()=>(s&&await kD(),r(!1)))()},[s,e]),e||s&&n?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-cyan-50",children:_.jsxs("div",{className:"text-center",children:[_.jsx(vn,{className:"w-10 h-10 animate-spin text-teal-600 mx-auto mb-3"}),_.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}):s?s.isApproved?_.jsx(ZD,{}):_.jsx(yT,{}):_.jsx(jD,{})}sS.createRoot(document.getElementById("root")).render(_.jsx(H.StrictMode,{children:_.jsx(WD,{})}));
